{"version":3,"sources":["webpack:///./node_modules/near-api-js/lib/account.js","webpack:///./node_modules/near-api-js/lib/key_stores/keystore.js","webpack:///./node_modules/near-api-js/lib/account_multisig.js","webpack:///./node_modules/near-api-js/lib/wallet-account.js","webpack:///./node_modules/near-api-js/lib/providers/index.js","webpack:///./node_modules/near-api-js/lib/utils/format.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/near-api-js/lib/connection.js","webpack:///./node_modules/statuses/index.js","webpack:///./node_modules/near-api-js/lib/utils/enums.js","webpack:///./node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","webpack:///./node_modules/tweetnacl/nacl-fast.js","webpack:///./node_modules/near-api-js/lib/utils/key_pair.js","webpack:///./node_modules/js-sha256/src/sha256.js","webpack:///./node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","webpack:///./node_modules/near-api-js/lib/utils/serialize.js","webpack:///./node_modules/o3/lib/Class.js","webpack:///./node_modules/o3/index.js","webpack:///./node_modules/near-api-js/lib/utils/web.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/near-api-js/lib/utils/errors.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/near-api-js/lib/utils/exponential-backoff.js","webpack:///./node_modules/near-api-js/lib/signer.js","webpack:///./node_modules/near-api-js/lib/key_stores/merge_key_store.js","webpack:///./node_modules/mustache/mustache.js","webpack:///./node_modules/near-api-js/lib/common-index.js","webpack:///./node_modules/parallax-js/dist/parallax.js","webpack:///./node_modules/near-api-js/lib/account_creator.js","webpack:///./node_modules/near-api-js/lib/utils/index.js","webpack:///./node_modules/toidentifier/index.js","webpack:///./node_modules/near-api-js/lib/providers/json-rpc-provider.js","webpack:///./node_modules/text-encoding-utf-8/lib/encoding.lib.mjs","webpack:///./node_modules/near-api-js/lib/transaction.js","webpack:///./node_modules/near-api-js/lib/constants.js","webpack:///./node_modules/near-api-js/lib/utils/rpc_errors.js","webpack:///./node_modules/near-api-js/lib/contract.js","webpack:///./node_modules/near-api-js/lib/key_stores/browser-index.js","webpack:///./node_modules/near-api-js/lib/providers/provider.js","webpack:///./node_modules/near-api-js/lib/browser-index.js","webpack:///./node_modules/setprototypeof/index.js","webpack:///./node_modules/near-api-js/lib/browser-connect.js","webpack:///./node_modules/near-api-js/lib/validators.js","webpack:///./node_modules/o3/lib/abstractMethod.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/near-api-js/lib/near.js","webpack:///./node_modules/o3/lib/index.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","Account","bn_js_1","depd_1","transaction_1","providers_1","borsh_1","key_pair_1","errors_1","rpc_errors_1","constants_1","exponential_backoff_1","TX_NONCE_RETRY_NUMBER","TX_NONCE_RETRY_WAIT","TX_NONCE_RETRY_WAIT_BACKOFF","parseJsonFromRawResponse","response","JSON","parse","Buffer","from","toString","bytesJsonStringify","input","stringify","connection","accountId","accessKeyByPublicKeyCache","deprecate","default","Promise","resolve","provider","query","request_type","account_id","finality","contractId","results","result","console","log","receiptIds","length","join","printLogs","logs","failure","warn","prefix","receiverId","actions","accessKeyInfo","findAccessKey","TypedError","networkId","signer","accessKey","block","blockHash","header","hash","nonce","signTransaction","baseDecode","args","signAndSendTransactionV1","signAndSendTransactionV2","returnError","txHash","signedTx","async","publicKey","transaction","sendTransaction","error","type","logWarning","baseEncode","context","ErrorContext","flatLogs","transaction_outcome","receipts_outcome","reduce","acc","it","outcome","status","Failure","concat","receipt_ids","parseRpcError","printLogsAndFailures","error_message","error_type","id","parseResultError","getPublicKey","cachedAccessKey","undefined","public_key","e","data","amount","fullAccessKey","signAndSendTransaction","createAccount","transfer","addKey","PublicKey","deployContract","contractAccount","newAccountId","beneficiaryId","deleteAccount","functionCallV1","functionCallV2","methodName","gas","validateArgs","functionCall","DEFAULT_FUNCTION_CALL_GAS","attachedDeposit","walletMeta","walletCallbackUrl","stringifyArg","stringifyJsonOrBytes","methodNames","Array","isArray","functionCallAccessKey","deleteKey","stake","isUint8Array","byteLength","PositionalArgsError","serializedArgs","method_name","args_base64","blockQuery","values","prefix_base64","map","key","keys","accessKeys","getAccessKeys","authorizedApps","filter","item","access_key","permission","perm","FunctionCall","receiver_id","allowance","protocolConfig","experimental_protocolConfig","state","costPerByte","runtime_config","storage_amount_per_byte","stateStaked","storage_usage","mul","staked","locked","totalBalance","add","availableBalance","sub","max","total","available","KeyStore","Account2FA","AccountMultisig","MULTISIG_CONFIRM_METHODS","MULTISIG_CHANGE_METHODS","MULTISIG_DEPOSIT","MULTISIG_GAS","MULTISIG_ALLOWANCE","MULTISIG_STORAGE_KEY","account_1","format_1","web_1","parseNearAmount","storageFallback","options","super","storage","onAddRequestResult","_signAndSendTransaction","request","convertActions","includes","deleteUnconfirmedRequests","Error","SuccessValue","setRequest","requestId","parseInt","request_ids","getRequestIds","getRequest","requestIdToDelete","request_id","viewFunction","getItem","setItem","helperUrl","sendCode","sendCodeDefault","getCode","getCodeDefault","verifyCode","verifyCodeDefault","onConfirmResult","__signAndSendTransaction","promptAndVerify","contractBytes","seedOrLedgerKey","getRecoveryMethods","kind","rm","fak2lak","ak","toPK","confirmOnlyKey","postSignedJson","newArgs","pk","code_hash","push","signAndSendTransactionWithAccount","lak2fak","method_names","method","get2faMethod","securityCode","find","m","indexOf","detail","blockNumber","height","signed","signMessage","blockNumberSignature","signature","path","body","fetchJson","signatureFor","convertPKForContract","replace","a","enum","deposit","code","action","toUpperCase","substr","ConnectedWalletAccount","WalletAccount","WalletConnection","utils_1","borsh_2","LOGIN_WALLET_URL_SUFFIX","MULTISIG_HAS_METHOD","LOCAL_STORAGE_KEY_SUFFIX","PENDING_ACCESS_KEY_PREFIX","near","appKeyPrefix","_near","authDataKey","authData","window","localStorage","_networkId","config","_walletBaseUrl","walletUrl","contractName","_keyStore","keyStore","_authData","allKeys","_authDataKey","isSignedIn","_completeSignInWithAccessKey","contractIdOrOptions","title","successUrl","failureUrl","currentUrl","URL","location","href","newUrl","searchParams","set","account","KeyPair","fromRandom","setKey","forEach","append","assign","_requestSignTransactions","transactions","callbackUrl","meta","serialize","SCHEMA","serialized","get","split","_moveKeyFromTempToPermanent","delete","history","replaceState","document","keyPair","getKey","removeKey","removeItem","_connectedAccount","walletConnection","localKey","accessKeyForTransaction","createTransaction","requestSignTransactions","reject","setTimeout","allowedReceiverId","allowedMethods","accessKeyMatchesTransaction","walletKeys","getTransactionLastResult","FinalExecutionStatusBasic","JsonRpcProvider","Provider","provider_1","enumerable","json_rpc_provider_1","formatNearAmount","NEAR_NOMINATION","NEAR_NOMINATION_EXP","pow","ROUNDING_OFFSETS","BN10","i","offset","balance","fracDigits","balanceBN","roundingExp","iadd","wholeStr","substring","fractionStr","padStart","trimTrailingZeroes","formatWithCommas","amt","cleanupAmount","wholePart","fracPart","trimLeadingZeroes","padEnd","trim","pattern","test","create","module","ctor","superCtor","super_","prototype","constructor","writable","configurable","TempCtor","Connection","signer_1","getProvider","getSigner","InMemorySigner","codes","populateStatusesMap","statuses","arr","message","Number","toLowerCase","TypeError","n","isNaN","STATUS_CODES","redirect","300","301","302","303","305","307","308","empty","204","205","304","retry","502","503","504","Assignable","Enum","properties","BrowserLocalStorageKeyStore","keystore_1","LOCAL_STORAGE_KEY_PREFIX","storageKeyForSecretKey","fromString","storageKeys","startsWith","Set","parts","nacl","gf","init","r","Float64Array","randombytes","_0","Uint8Array","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","x","h","l","vn","xi","y","yi","d","crypto_verify_16","crypto_verify_32","core_salsa20","o","p","k","c","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_hsalsa20","crypto_core_salsa20","out","inp","crypto_core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","b","z","crypto_stream_salsa20","crypto_stream","s","sn","crypto_stream_xor","poly1305","t0","t1","t2","t3","t4","t5","t6","t7","buffer","Uint16Array","pad","leftover","fin","crypto_onetimeauth","outpos","update","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","v","Math","floor","sel25519","q","t","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","f","x32","subarray","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","blocks","bytes","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","crypto_box","crypto_box_open","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","sk","seeded","L","modL","carry","crypto_sign","sm","smlen","unpackneg","chk","num","den","den2","den4","den6","crypto_sign_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","checkLengths","checkBoxLengths","checkArrayTypes","arguments","cleanup","lowlevel","randomBytes","secretbox","msg","open","box","keyLength","nonceLength","overheadLength","scalarMult","base","scalarLength","groupElementLength","secretKey","before","after","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hashLength","setPRNG","fn","crypto","self","msCrypto","getRandomValues","QUOTA","min","KeyPairEd25519","KeyType","tweetnacl_1","serialize_1","enums_1","key_type_to_str","keyType","ED25519","str_to_key_type","encodedKey","base_decode","base_encode","curve","newKeyPair","ERROR","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","obj","call","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","outputType","is224","Sha256","createMethod","nodeWrap","eval","algorithm","nodeMethod","createHash","digest","createHmacOutputMethod","HmacSha256","createHmacMethod","sharedMemory","start","hBytes","finalized","hashed","first","index","charCodeAt","array","oKeyPad","iKeyPad","inner","notString","lastByteIndex","finalize","s0","s1","maj","ch","ab","da","cd","bc","hex","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","InMemoryKeyStore","slice","deserialize","BorshError","BinaryWriter","BinaryReader","Class","Source","buildArgs","checkOption","option","Function","hasOwnProperty","extend","factory","instance","build","apply","Subject","clone","merge","subject","staticProperty","property","absorb","getAncestor","newInstance","http_errors_1","START_WAIT_TIME_MS","BACKOFF_MULTIPLIER","RETRY_NUMBER","connectionInfoOrUrl","json","connectionInfo","url","fetch","headers","ok","text","copyProps","src","dst","SafeBuffer","arg","encodingOrOffset","alloc","allocUnsafe","allocUnsafeSlow","size","fill","encoding","buf","SlowBuffer","ArgumentTypeError","argName","argType","argValue","transactionHash","read","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","write","rt","abs","LN2","exponentialBackoff","startWaitTime","retryNumber","waitBackoff","getResult","waitTime","sleep","millis","Signer","js_sha256_1","in_memory_key_store_1","MergeKeyStore","keyStores","writeKeyStoreIndex","clear","network","getNetworks","getAccounts","objectToString","object","isFunction","typeStr","escapeRegExp","string","hasProperty","propName","primitiveHasOwnProperty","primitive","regExpTest","RegExp","testRegExp","re","nonSpaceRe","isWhitespace","entityMap","escapeHtml","String","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","parseTemplate","template","tags","openingTagRe","closingTagRe","closingCurlyRe","lineHasNonSpace","sections","tokens","spaces","hasTag","nonSpace","indentation","tagIndex","stripSpace","pop","compileTags","tagsToCompile","mustache","chr","token","openSection","scanner","Scanner","eos","scanUntil","valueLength","charAt","scan","nestTokens","squashTokens","lastToken","squashedTokens","numTokens","section","nestedTokens","collector","tail","Context","view","parentContext","cache","parent","Writer","templateCache","_cache","match","search","lookup","name","intermediateValue","names","lookupHit","clearCache","cacheKey","isCacheEnabled","render","partials","getConfigTags","renderTokens","originalTemplate","symbol","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","indentPartial","partial","filteredIndentation","partialByNl","indentedValue","escape","getConfigEscape","version","defaultWriter","__createBinding","k2","__setModuleDefault","__importStar","Near","Contract","multisig","validators","utils","providers","accountCreator","connection_1","contract_1","near_1","wallet_account_1","require","1","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","err","target","source","symbols","to","2","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","hr","uptime","Date","getTime","3","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","Item","noop","nextTick","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","4","vendors","suffix","raf","caf","last","frameDuration","callback","_now","next","cp","cancelled","round","handle","cancel","polyfill","requestAnimationFrame","cancelAnimationFrame","5","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_classCallCheck","rqAnFr","objectAssign","helpers","propertyCache","clamp","element","getAttribute","parseFloat","isFinite","camelCase","character","accelerate","css","transformSupport","createElement","propertySupport","propertyValue","featureSupport","cssProperty","jsProperty","style","documentElement","documentOverflow","overflow","isCreatedBody","appendChild","background","getComputedStyle","getPropertyValue","removeChild","removeAttribute","parentNode","MAGIC_NUMBER","DEFAULTS","relativeInput","clipRelativeInput","inputElement","hoverOnly","calibrationThreshold","calibrationDelay","supportDelay","calibrateX","calibrateY","invertX","invertY","limitX","limitY","scalarX","scalarY","frictionX","frictionY","originX","originY","pointerEvents","precision","onReady","selector","Parallax","querySelector","calibrationTimer","calibrationFlag","enabled","depthsX","depthsY","bounds","elementPositionX","elementPositionY","elementWidth","elementHeight","elementCenterX","elementCenterY","elementRangeX","elementRangeY","calibrationX","calibrationY","inputX","inputY","motionX","motionY","velocityX","velocityY","onMouseMove","bind","onDeviceOrientation","onDeviceMotion","onOrientationTimer","onMotionTimer","onCalibrationTimer","onAnimationFrame","onWindowResize","windowWidth","windowHeight","windowCenterX","windowCenterY","windowRadiusX","windowRadiusY","portrait","desktop","navigator","userAgent","motionSupport","DeviceMotionEvent","orientationSupport","DeviceOrientationEvent","orientationStatus","motionStatus","initialise","transform2DSupport","transform3DSupport","position","updateLayers","updateDimensions","enable","queueCalibration","layers","querySelectorAll","children","layer","display","left","top","depth","innerWidth","innerHeight","getBoundingClientRect","width","delay","addEventListener","detectionTimer","doReadyCallback","removeEventListener","toFixed","disable","updateBounds","calibratedInputX","calibratedInputY","depthX","depthY","xOffset","yOffset","setPosition","beta","gamma","event","rotate","rotationRate","clientX","clientY","UrlAccountCreator","LocalAccountCreator","AccountCreator","masterAccount","initialBalance","newAccountPublicKey","rpc_errors","format","enums","web","key_pair","toIdentifier","str","REQUEST_RETRY_NUMBER","REQUEST_RETRY_WAIT","REQUEST_RETRY_WAIT_BACKOFF","_nextId","sendJsonRpc","signedTransaction","encode","txStatusString","txStatusUint8Array","getErrorTypeFromErrorMessage","blockId","block_id","chunkId","sync_checkpoint","blockReference","lightClientProof","accountIdArray","changes_type","account_ids","accessKeyArray","keyPrefix","key_prefix_base64","params","jsonrpc","errorMessage","inRange","ToDictionary","stringToCodePoints","codePointsToString","code_points","end_of_stream","Stream","endOfStream","shift","prepend","unshift","finished","decoderError","fatal","opt_code_point","Decoder","Encoder","handler","stream","bite","code_point","DEFAULT_ENCODING","TextDecoder","_streaming","_BOMseen","_decoder","_fatal","Boolean","_ignoreBOM","TextEncoder","_encoder","_options","UTF8Decoder","utf8_code_point","utf8_bytes_seen","utf8_bytes_needed","utf8_lower_boundary","utf8_upper_boundary","UTF8Encoder","count","temp","decode","byteOffset","input_stream","opt_string","Action","SignedTransaction","Transaction","Signature","DeleteAccount","DeleteKey","AddKey","Stake","Transfer","DeployContract","CreateAccount","IAction","AccessKey","AccessKeyPermission","FullAccessPermission","FunctionCallPermission","fullAccess","signerId","signTransactionObject","Map","fields","field","formatError","ServerError","mustache_1","rpc_error_schema_json_1","error_messages_json_1","common_index_1","mustacheHelpers","formatNear","ServerTransactionError","errorObj","errorClassName","walkSubtype","schema","server_error","server_tx_error","errorData","typeName","errorTypeName","errorName","isString","isObject","prop","nameFunction","viewMethods","changeMethods","ignored","_changeMethod","validateBNLike","rawResult","argMap","bnLike","isBN","browser_local_storage_key_store_1","merge_key_store_1","IdType","ExecutionStatusBasic","txResult","__exportStar","setProtoOf","proto","__proto__","mixinProperties","setPrototypeOf","connect","diffEpochValidators","findSeatPrice","maxNumberOfSeats","minimumStakeRatio","protocolVersion","findSeatPriceForProtocolBefore49","findSeatPriceForProtocolAfter49","numSeats","stakes","sort","cmp","stakesSum","lt","right","eq","mid","div","found","currentSum","gte","currentValidators","nextValidators","validatorsMap","nextValidatorsSet","newValidators","has","removedValidators","changedValidators","current","account_creator_1","fromConfig","nodeUrl","deps","sender","originator","receiver","sendMoney","abstractMethod"],"mappings":"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","file":"js/chunk-059f994c.5c69a6ab.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst transaction_1 = require(\"./transaction\");\nconst providers_1 = require(\"./providers\");\nconst borsh_1 = require(\"borsh\");\nconst key_pair_1 = require(\"./utils/key_pair\");\nconst errors_1 = require(\"./utils/errors\");\nconst rpc_errors_1 = require(\"./utils/rpc_errors\");\nconst constants_1 = require(\"./constants\");\nconst exponential_backoff_1 = __importDefault(require(\"./utils/exponential-backoff\"));\n// Default number of retries with different nonce before giving up on a transaction.\nconst TX_NONCE_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst TX_NONCE_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst TX_NONCE_RETRY_WAIT_BACKOFF = 1.5;\nfunction parseJsonFromRawResponse(response) {\n    return JSON.parse(Buffer.from(response).toString());\n}\nfunction bytesJsonStringify(input) {\n    return Buffer.from(JSON.stringify(input));\n}\n/**\n * This class provides common account related RPC calls including signing transactions with a {@link KeyPair}.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#account}\n * @hint Use {@link WalletConnection} in the browser to redirect to {@link https://docs.near.org/docs/tools/near-wallet | NEAR Wallet} for Account/key management using the {@link BrowserLocalStorageKeyStore}.\n * @see {@link https://nomicon.io/DataStructures/Account.html | Account Spec}\n */\nclass Account {\n    constructor(connection, accountId) {\n        /** @hidden */\n        this.accessKeyByPublicKeyCache = {};\n        this.connection = connection;\n        this.accountId = accountId;\n    }\n    /** @hidden */\n    get ready() {\n        const deprecate = depd_1.default('Account.ready()');\n        deprecate('not needed anymore, always ready');\n        return Promise.resolve();\n    }\n    async fetchState() {\n        const deprecate = depd_1.default('Account.fetchState()');\n        deprecate('use `Account.state()` instead');\n    }\n    /**\n     * Returns basic NEAR account information via the `view_account` RPC query method\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#view-account}\n     */\n    async state() {\n        return this.connection.provider.query({\n            request_type: 'view_account',\n            account_id: this.accountId,\n            finality: 'optimistic'\n        });\n    }\n    /** @hidden */\n    printLogsAndFailures(contractId, results) {\n        if (!process.env[\"NEAR_NO_LOGS\"]) {\n            for (const result of results) {\n                console.log(`Receipt${result.receiptIds.length > 1 ? 's' : ''}: ${result.receiptIds.join(', ')}`);\n                this.printLogs(contractId, result.logs, '\\t');\n                if (result.failure) {\n                    console.warn(`\\tFailure [${contractId}]: ${result.failure}`);\n                }\n            }\n        }\n    }\n    /** @hidden */\n    printLogs(contractId, logs, prefix = '') {\n        if (!process.env[\"NEAR_NO_LOGS\"]) {\n            for (const log of logs) {\n                console.log(`${prefix}Log [${contractId}]: ${log}`);\n            }\n        }\n    }\n    /**\n     * Create a signed transaction which can be broadcast to the network\n     * @param receiverId NEAR account receiving the transaction\n     * @param actions list of actions to perform as part of the transaction\n     * @see {@link JsonRpcProvider.sendTransaction}\n     */\n    async signTransaction(receiverId, actions) {\n        const accessKeyInfo = await this.findAccessKey(receiverId, actions);\n        if (!accessKeyInfo) {\n            throw new providers_1.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair found in ${this.connection.signer}.`, 'KeyNotFound');\n        }\n        const { accessKey } = accessKeyInfo;\n        const block = await this.connection.provider.block({ finality: 'final' });\n        const blockHash = block.header.hash;\n        const nonce = ++accessKey.nonce;\n        return await transaction_1.signTransaction(receiverId, nonce, actions, borsh_1.baseDecode(blockHash), this.connection.signer, this.accountId, this.connection.networkId);\n    }\n    signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            return this.signAndSendTransactionV1(args[0], args[1]);\n        }\n        else {\n            return this.signAndSendTransactionV2(args[0]);\n        }\n    }\n    signAndSendTransactionV1(receiverId, actions) {\n        const deprecate = depd_1.default('Account.signAndSendTransaction(receiverId, actions');\n        deprecate('use `Account.signAndSendTransaction(SignAndSendTransactionOptions)` instead');\n        return this.signAndSendTransactionV2({ receiverId, actions });\n    }\n    async signAndSendTransactionV2({ receiverId, actions, returnError }) {\n        let txHash, signedTx;\n        // TODO: TX_NONCE (different constants for different uses of exponentialBackoff?)\n        const result = await exponential_backoff_1.default(TX_NONCE_RETRY_WAIT, TX_NONCE_RETRY_NUMBER, TX_NONCE_RETRY_WAIT_BACKOFF, async () => {\n            [txHash, signedTx] = await this.signTransaction(receiverId, actions);\n            const publicKey = signedTx.transaction.publicKey;\n            try {\n                return await this.connection.provider.sendTransaction(signedTx);\n            }\n            catch (error) {\n                if (error.type === 'InvalidNonce') {\n                    errors_1.logWarning(`Retrying transaction ${receiverId}:${borsh_1.baseEncode(txHash)} with new nonce.`);\n                    delete this.accessKeyByPublicKeyCache[publicKey.toString()];\n                    return null;\n                }\n                if (error.type === 'Expired') {\n                    errors_1.logWarning(`Retrying transaction ${receiverId}:${borsh_1.baseEncode(txHash)} due to expired block hash`);\n                    return null;\n                }\n                error.context = new providers_1.ErrorContext(borsh_1.baseEncode(txHash));\n                throw error;\n            }\n        });\n        if (!result) {\n            // TODO: This should have different code actually, as means \"transaction not submitted for sure\"\n            throw new providers_1.TypedError('nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.', 'RetriesExceeded');\n        }\n        const flatLogs = [result.transaction_outcome, ...result.receipts_outcome].reduce((acc, it) => {\n            if (it.outcome.logs.length ||\n                (typeof it.outcome.status === 'object' && typeof it.outcome.status.Failure === 'object')) {\n                return acc.concat({\n                    'receiptIds': it.outcome.receipt_ids,\n                    'logs': it.outcome.logs,\n                    'failure': typeof it.outcome.status.Failure != 'undefined' ? rpc_errors_1.parseRpcError(it.outcome.status.Failure) : null\n                });\n            }\n            else\n                return acc;\n        }, []);\n        this.printLogsAndFailures(signedTx.transaction.receiverId, flatLogs);\n        if (!returnError && typeof result.status === 'object' && typeof result.status.Failure === 'object') {\n            // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n            if (result.status.Failure.error_message && result.status.Failure.error_type) {\n                throw new providers_1.TypedError(`Transaction ${result.transaction_outcome.id} failed. ${result.status.Failure.error_message}`, result.status.Failure.error_type);\n            }\n            else {\n                throw rpc_errors_1.parseResultError(result);\n            }\n        }\n        // TODO: if Tx is Unknown or Started.\n        return result;\n    }\n    /**\n     * Finds the {@link AccessKeyView} associated with the accounts {@link PublicKey} stored in the {@link KeyStore}.\n     *\n     * @todo Find matching access key based on transaction (i.e. receiverId and actions)\n     *\n     * @param receiverId currently unused (see todo)\n     * @param actions currently unused (see todo)\n     * @returns `{ publicKey PublicKey; accessKey: AccessKeyView }`\n     */\n    async findAccessKey(receiverId, actions) {\n        // TODO: Find matching access key based on transaction (i.e. receiverId and actions)\n        const publicKey = await this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\n        if (!publicKey) {\n            return null;\n        }\n        const cachedAccessKey = this.accessKeyByPublicKeyCache[publicKey.toString()];\n        if (cachedAccessKey !== undefined) {\n            return { publicKey, accessKey: cachedAccessKey };\n        }\n        try {\n            const accessKey = await this.connection.provider.query({\n                request_type: 'view_access_key',\n                account_id: this.accountId,\n                public_key: publicKey.toString(),\n                finality: 'optimistic'\n            });\n            // this function can be called multiple times and retrieve the same access key\n            // this checks to see if the access key was already retrieved and cached while\n            // the above network call was in flight. To keep nonce values in line, we return\n            // the cached access key.\n            if (this.accessKeyByPublicKeyCache[publicKey.toString()]) {\n                return { publicKey, accessKey: this.accessKeyByPublicKeyCache[publicKey.toString()] };\n            }\n            this.accessKeyByPublicKeyCache[publicKey.toString()] = accessKey;\n            return { publicKey, accessKey };\n        }\n        catch (e) {\n            if (e.type == 'AccessKeyDoesNotExist') {\n                return null;\n            }\n            throw e;\n        }\n    }\n    /**\n     * Create a new account and deploy a contract to it\n     *\n     * @param contractId NEAR account where the contract is deployed\n     * @param publicKey The public key to add to the created contract account\n     * @param data The compiled contract code\n     * @param amount of NEAR to transfer to the created contract account. Transfer enough to pay for storage https://docs.near.org/docs/concepts/storage-staking\n     */\n    async createAndDeployContract(contractId, publicKey, data, amount) {\n        const accessKey = transaction_1.fullAccessKey();\n        await this.signAndSendTransaction({\n            receiverId: contractId,\n            actions: [transaction_1.createAccount(), transaction_1.transfer(amount), transaction_1.addKey(key_pair_1.PublicKey.from(publicKey), accessKey), transaction_1.deployContract(data)]\n        });\n        const contractAccount = new Account(this.connection, contractId);\n        return contractAccount;\n    }\n    /**\n     * @param receiverId NEAR account receiving \n     * @param amount Amount to send in yocto\n     */\n    async sendMoney(receiverId, amount) {\n        return this.signAndSendTransaction({\n            receiverId,\n            actions: [transaction_1.transfer(amount)]\n        });\n    }\n    /**\n     * @param newAccountId NEAR account name to be created\n     * @param publicKey A public key created from the masterAccount\n     */\n    async createAccount(newAccountId, publicKey, amount) {\n        const accessKey = transaction_1.fullAccessKey();\n        return this.signAndSendTransaction({\n            receiverId: newAccountId,\n            actions: [transaction_1.createAccount(), transaction_1.transfer(amount), transaction_1.addKey(key_pair_1.PublicKey.from(publicKey), accessKey)]\n        });\n    }\n    /**\n     * @param beneficiaryId The NEAR account that will receive the remaining  balance from the account being deleted\n     */\n    async deleteAccount(beneficiaryId) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.deleteAccount(beneficiaryId)]\n        });\n    }\n    /**\n     * @param data The compiled contract code\n     */\n    async deployContract(data) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.deployContract(data)]\n        });\n    }\n    async functionCall(...args) {\n        if (typeof args[0] === 'string') {\n            return this.functionCallV1(args[0], args[1], args[2], args[3], args[4]);\n        }\n        else {\n            return this.functionCallV2(args[0]);\n        }\n    }\n    functionCallV1(contractId, methodName, args, gas, amount) {\n        const deprecate = depd_1.default('Account.functionCall(contractId, methodName, args, gas, amount)');\n        deprecate('use `Account.functionCall(FunctionCallOptions)` instead');\n        args = args || {};\n        this.validateArgs(args);\n        return this.signAndSendTransaction({\n            receiverId: contractId,\n            actions: [transaction_1.functionCall(methodName, args, gas || constants_1.DEFAULT_FUNCTION_CALL_GAS, amount)]\n        });\n    }\n    functionCallV2({ contractId, methodName, args = {}, gas = constants_1.DEFAULT_FUNCTION_CALL_GAS, attachedDeposit, walletMeta, walletCallbackUrl, stringify }) {\n        this.validateArgs(args);\n        const stringifyArg = stringify === undefined ? transaction_1.stringifyJsonOrBytes : stringify;\n        return this.signAndSendTransaction({\n            receiverId: contractId,\n            actions: [transaction_1.functionCall(methodName, args, gas, attachedDeposit, stringifyArg)],\n            walletMeta,\n            walletCallbackUrl\n        });\n    }\n    /**\n     * @see {@link https://docs.near.org/docs/concepts/account#access-keys}\n     * @todo expand this API to support more options.\n     * @param publicKey A public key to be associated with the contract\n     * @param contractId NEAR account where the contract is deployed\n     * @param methodNames The method names on the contract that should be allowed to be called. Pass null for no method names and '' or [] for any method names.\n     * @param amount Payment in yocto that is sent to the contract during this function call\n     */\n    async addKey(publicKey, contractId, methodNames, amount) {\n        if (!methodNames) {\n            methodNames = [];\n        }\n        if (!Array.isArray(methodNames)) {\n            methodNames = [methodNames];\n        }\n        let accessKey;\n        if (!contractId) {\n            accessKey = transaction_1.fullAccessKey();\n        }\n        else {\n            accessKey = transaction_1.functionCallAccessKey(contractId, methodNames, amount);\n        }\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.addKey(key_pair_1.PublicKey.from(publicKey), accessKey)]\n        });\n    }\n    /**\n     * @param publicKey The public key to be deleted\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async deleteKey(publicKey) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.deleteKey(key_pair_1.PublicKey.from(publicKey))]\n        });\n    }\n    /**\n     * @see {@link https://docs.near.org/docs/validator/staking-overview}\n     *\n     * @param publicKey The public key for the account that's staking\n     * @param amount The account to stake in yocto\n     */\n    async stake(publicKey, amount) {\n        return this.signAndSendTransaction({\n            receiverId: this.accountId,\n            actions: [transaction_1.stake(amount, key_pair_1.PublicKey.from(publicKey))]\n        });\n    }\n    /** @hidden */\n    validateArgs(args) {\n        const isUint8Array = args.byteLength !== undefined && args.byteLength === args.length;\n        if (isUint8Array) {\n            return;\n        }\n        if (Array.isArray(args) || typeof args !== 'object') {\n            throw new errors_1.PositionalArgsError();\n        }\n    }\n    /**\n     * Invoke a contract view function using the RPC API.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#call-a-contract-function}\n     *\n     * @param contractId NEAR account where the contract is deployed\n     * @param methodName The view-only method (no state mutations) name on the contract as it is written in the contract code\n     * @param args Any arguments to the view contract method, wrapped in JSON\n     * @param options.parse Parse the result of the call. Receives a Buffer (bytes array) and converts it to any object. By default result will be treated as json.\n     * @param options.stringify Convert input arguments into a bytes array. By default the input is treated as a JSON.\n     * @returns {Promise<any>}\n     */\n    async viewFunction(contractId, methodName, args = {}, { parse = parseJsonFromRawResponse, stringify = bytesJsonStringify } = {}) {\n        this.validateArgs(args);\n        const serializedArgs = stringify(args).toString('base64');\n        const result = await this.connection.provider.query({\n            request_type: 'call_function',\n            account_id: contractId,\n            method_name: methodName,\n            args_base64: serializedArgs,\n            finality: 'optimistic'\n        });\n        if (result.logs) {\n            this.printLogs(contractId, result.logs);\n        }\n        return result.result && result.result.length > 0 && parse(Buffer.from(result.result));\n    }\n    /**\n     * Returns the state (key value pairs) of this account's contract based on the key prefix.\n     * Pass an empty string for prefix if you would like to return the entire state.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#view-contract-state}\n     *\n     * @param prefix allows to filter which keys should be returned. Empty prefix means all keys. String prefix is utf-8 encoded.\n     * @param blockQuery specifies which block to query state at. By default returns last \"optimistic\" block (i.e. not necessarily finalized).\n     */\n    async viewState(prefix, blockQuery = { finality: 'optimistic' }) {\n        const { values } = await this.connection.provider.query({\n            request_type: 'view_state',\n            ...blockQuery,\n            account_id: this.accountId,\n            prefix_base64: Buffer.from(prefix).toString('base64')\n        });\n        return values.map(({ key, value }) => ({\n            key: Buffer.from(key, 'base64'),\n            value: Buffer.from(value, 'base64')\n        }));\n    }\n    /**\n     * Get all access keys for the account\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#view-access-key-list}\n     */\n    async getAccessKeys() {\n        const response = await this.connection.provider.query({\n            request_type: 'view_access_key_list',\n            account_id: this.accountId,\n            finality: 'optimistic'\n        });\n        // A breaking API change introduced extra information into the\n        // response, so it now returns an object with a `keys` field instead\n        // of an array: https://github.com/nearprotocol/nearcore/pull/1789\n        if (Array.isArray(response)) {\n            return response;\n        }\n        return response.keys;\n    }\n    /**\n     * Returns a list of authorized apps\n     * @todo update the response value to return all the different keys, not just app keys.\n     */\n    async getAccountDetails() {\n        // TODO: update the response value to return all the different keys, not just app keys.\n        // Also if we need this function, or getAccessKeys is good enough.\n        const accessKeys = await this.getAccessKeys();\n        const authorizedApps = accessKeys\n            .filter(item => item.access_key.permission !== 'FullAccess')\n            .map(item => {\n            const perm = item.access_key.permission;\n            return {\n                contractId: perm.FunctionCall.receiver_id,\n                amount: perm.FunctionCall.allowance,\n                publicKey: item.public_key,\n            };\n        });\n        return { authorizedApps };\n    }\n    /**\n     * Returns calculated account balance\n     */\n    async getAccountBalance() {\n        const protocolConfig = await this.connection.provider.experimental_protocolConfig({ finality: 'final' });\n        const state = await this.state();\n        const costPerByte = new bn_js_1.default(protocolConfig.runtime_config.storage_amount_per_byte);\n        const stateStaked = new bn_js_1.default(state.storage_usage).mul(costPerByte);\n        const staked = new bn_js_1.default(state.locked);\n        const totalBalance = new bn_js_1.default(state.amount).add(staked);\n        const availableBalance = totalBalance.sub(bn_js_1.default.max(staked, stateStaked));\n        return {\n            total: totalBalance.toString(),\n            stateStaked: stateStaked.toString(),\n            staked: staked.toString(),\n            available: availableBalance.toString()\n        };\n    }\n}\nexports.Account = Account;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyStore = void 0;\n/**\n * KeyStores are passed to {@link Near} via {@link NearConfig}\n * and are used by the {@link InMemorySigner} to sign transactions.\n *\n * @example {@link connect}\n */\nclass KeyStore {\n}\nexports.KeyStore = KeyStore;\n","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Account2FA = exports.AccountMultisig = exports.MULTISIG_CONFIRM_METHODS = exports.MULTISIG_CHANGE_METHODS = exports.MULTISIG_DEPOSIT = exports.MULTISIG_GAS = exports.MULTISIG_ALLOWANCE = exports.MULTISIG_STORAGE_KEY = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst account_1 = require(\"./account\");\nconst format_1 = require(\"./utils/format\");\nconst key_pair_1 = require(\"./utils/key_pair\");\nconst transaction_1 = require(\"./transaction\");\nconst web_1 = require(\"./utils/web\");\nexports.MULTISIG_STORAGE_KEY = '__multisigRequest';\nexports.MULTISIG_ALLOWANCE = new bn_js_1.default(format_1.parseNearAmount('1'));\n// TODO: Different gas value for different requests (can reduce gas usage dramatically)\nexports.MULTISIG_GAS = new bn_js_1.default('100000000000000');\nexports.MULTISIG_DEPOSIT = new bn_js_1.default('0');\nexports.MULTISIG_CHANGE_METHODS = ['add_request', 'add_request_and_confirm', 'delete_request', 'confirm'];\nexports.MULTISIG_CONFIRM_METHODS = ['confirm'];\n// in memory request cache for node w/o localStorage\nconst storageFallback = {\n    [exports.MULTISIG_STORAGE_KEY]: null\n};\nclass AccountMultisig extends account_1.Account {\n    constructor(connection, accountId, options) {\n        super(connection, accountId);\n        this.storage = options.storage;\n        this.onAddRequestResult = options.onAddRequestResult;\n    }\n    async signAndSendTransactionWithAccount(receiverId, actions) {\n        return super.signAndSendTransaction({ receiverId, actions });\n    }\n    signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            return this._signAndSendTransaction({ receiverId: args[0], actions: args[1] });\n        }\n        return this._signAndSendTransaction(args[0]);\n    }\n    async _signAndSendTransaction({ receiverId, actions }) {\n        const { accountId } = this;\n        const args = Buffer.from(JSON.stringify({\n            request: {\n                receiver_id: receiverId,\n                actions: convertActions(actions, accountId, receiverId)\n            }\n        }));\n        let result;\n        try {\n            result = await super.signAndSendTransaction({\n                receiverId: accountId,\n                actions: [\n                    transaction_1.functionCall('add_request_and_confirm', args, exports.MULTISIG_GAS, exports.MULTISIG_DEPOSIT)\n                ]\n            });\n        }\n        catch (e) {\n            if (e.toString().includes('Account has too many active requests. Confirm or delete some')) {\n                await this.deleteUnconfirmedRequests();\n                return await this.signAndSendTransaction(receiverId, actions);\n            }\n            throw e;\n        }\n        // TODO: Are following even needed? Seems like it throws on error already\n        if (!result.status) {\n            throw new Error('Request failed');\n        }\n        const status = { ...result.status };\n        if (!status.SuccessValue || typeof status.SuccessValue !== 'string') {\n            throw new Error('Request failed');\n        }\n        this.setRequest({\n            accountId,\n            actions,\n            requestId: parseInt(Buffer.from(status.SuccessValue, 'base64').toString('ascii'), 10)\n        });\n        if (this.onAddRequestResult) {\n            await this.onAddRequestResult(result);\n        }\n        // NOTE there is no await on purpose to avoid blocking for 2fa\n        this.deleteUnconfirmedRequests();\n        return result;\n    }\n    async deleteUnconfirmedRequests() {\n        // TODO: Delete in batch, don't delete unexpired\n        // TODO: Delete in batch, don't delete unexpired (can reduce gas usage dramatically)\n        const request_ids = await this.getRequestIds();\n        const { requestId } = this.getRequest();\n        for (const requestIdToDelete of request_ids) {\n            if (requestIdToDelete == requestId) {\n                continue;\n            }\n            try {\n                await super.signAndSendTransaction({\n                    receiverId: this.accountId,\n                    actions: [transaction_1.functionCall('delete_request', { request_id: requestIdToDelete }, exports.MULTISIG_GAS, exports.MULTISIG_DEPOSIT)]\n                });\n            }\n            catch (e) {\n                console.warn('Attempt to delete an earlier request before 15 minutes failed. Will try again.');\n            }\n        }\n    }\n    // helpers\n    async getRequestIds() {\n        // TODO: Read requests from state to allow filtering by expiration time\n        // TODO: https://github.com/near/core-contracts/blob/305d1db4f4f2cf5ce4c1ef3479f7544957381f11/multisig/src/lib.rs#L84\n        return this.viewFunction(this.accountId, 'list_request_ids');\n    }\n    getRequest() {\n        if (this.storage) {\n            return JSON.parse(this.storage.getItem(exports.MULTISIG_STORAGE_KEY) || '{}');\n        }\n        return storageFallback[exports.MULTISIG_STORAGE_KEY];\n    }\n    setRequest(data) {\n        if (this.storage) {\n            return this.storage.setItem(exports.MULTISIG_STORAGE_KEY, JSON.stringify(data));\n        }\n        storageFallback[exports.MULTISIG_STORAGE_KEY] = data;\n    }\n}\nexports.AccountMultisig = AccountMultisig;\nclass Account2FA extends AccountMultisig {\n    constructor(connection, accountId, options) {\n        super(connection, accountId, options);\n        this.helperUrl = 'https://helper.testnet.near.org';\n        this.helperUrl = options.helperUrl || this.helperUrl;\n        this.storage = options.storage;\n        this.sendCode = options.sendCode || this.sendCodeDefault;\n        this.getCode = options.getCode || this.getCodeDefault;\n        this.verifyCode = options.verifyCode || this.verifyCodeDefault;\n        this.onConfirmResult = options.onConfirmResult;\n    }\n    async signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            const deprecate = depd_1.default('Account.signAndSendTransaction(receiverId, actions');\n            deprecate('use `Account2FA.signAndSendTransaction(SignAndSendTransactionOptions)` instead');\n            return this.__signAndSendTransaction({ receiverId: args[0], actions: args[1] });\n        }\n        else {\n            return this.__signAndSendTransaction(args[0]);\n        }\n    }\n    async __signAndSendTransaction({ receiverId, actions }) {\n        await super.signAndSendTransaction({ receiverId, actions });\n        // TODO: Should following override onRequestResult in superclass instead of doing custom signAndSendTransaction?\n        await this.sendCode();\n        const result = await this.promptAndVerify();\n        if (this.onConfirmResult) {\n            await this.onConfirmResult(result);\n        }\n        return result;\n    }\n    // default helpers for CH deployments of multisig\n    async deployMultisig(contractBytes) {\n        const { accountId } = this;\n        const seedOrLedgerKey = (await this.getRecoveryMethods()).data\n            .filter(({ kind, publicKey }) => (kind === 'phrase' || kind === 'ledger') && publicKey !== null)\n            .map((rm) => rm.publicKey);\n        const fak2lak = (await this.getAccessKeys())\n            .filter(({ public_key, access_key: { permission } }) => permission === 'FullAccess' && !seedOrLedgerKey.includes(public_key))\n            .map((ak) => ak.public_key)\n            .map(toPK);\n        const confirmOnlyKey = toPK((await this.postSignedJson('/2fa/getAccessKey', { accountId })).publicKey);\n        const newArgs = Buffer.from(JSON.stringify({ 'num_confirmations': 2 }));\n        const actions = [\n            ...fak2lak.map((pk) => transaction_1.deleteKey(pk)),\n            ...fak2lak.map((pk) => transaction_1.addKey(pk, transaction_1.functionCallAccessKey(accountId, exports.MULTISIG_CHANGE_METHODS, null))),\n            transaction_1.addKey(confirmOnlyKey, transaction_1.functionCallAccessKey(accountId, exports.MULTISIG_CONFIRM_METHODS, null)),\n            transaction_1.deployContract(contractBytes),\n        ];\n        if ((await this.state()).code_hash === '11111111111111111111111111111111') {\n            actions.push(transaction_1.functionCall('new', newArgs, exports.MULTISIG_GAS, exports.MULTISIG_DEPOSIT));\n        }\n        console.log('deploying multisig contract for', accountId);\n        return await super.signAndSendTransactionWithAccount(accountId, actions);\n    }\n    async disable(contractBytes) {\n        const { accountId } = this;\n        const accessKeys = await this.getAccessKeys();\n        const lak2fak = accessKeys\n            .filter(({ access_key }) => access_key.permission !== 'FullAccess')\n            .filter(({ access_key }) => {\n            const perm = access_key.permission.FunctionCall;\n            return perm.receiver_id === accountId &&\n                perm.method_names.length === 4 &&\n                perm.method_names.includes('add_request_and_confirm');\n        });\n        const confirmOnlyKey = key_pair_1.PublicKey.from((await this.postSignedJson('/2fa/getAccessKey', { accountId })).publicKey);\n        const actions = [\n            transaction_1.deleteKey(confirmOnlyKey),\n            ...lak2fak.map(({ public_key }) => transaction_1.deleteKey(key_pair_1.PublicKey.from(public_key))),\n            ...lak2fak.map(({ public_key }) => transaction_1.addKey(key_pair_1.PublicKey.from(public_key), null)),\n            transaction_1.deployContract(contractBytes),\n        ];\n        console.log('disabling 2fa for', accountId);\n        return await this.signAndSendTransaction({\n            receiverId: accountId,\n            actions\n        });\n    }\n    async sendCodeDefault() {\n        const { accountId } = this;\n        const { requestId } = this.getRequest();\n        const method = await this.get2faMethod();\n        await this.postSignedJson('/2fa/send', {\n            accountId,\n            method,\n            requestId,\n        });\n        return requestId;\n    }\n    async getCodeDefault(method) {\n        throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is \"email\" or \"phone\".');\n    }\n    async promptAndVerify() {\n        const method = await this.get2faMethod();\n        const securityCode = await this.getCode(method);\n        try {\n            const result = await this.verifyCode(securityCode);\n            // TODO: Parse error from result for real (like in normal account.signAndSendTransaction)\n            return result;\n        }\n        catch (e) {\n            console.warn('Error validating security code:', e);\n            if (e.toString().includes('invalid 2fa code provided') || e.toString().includes('2fa code not valid')) {\n                return await this.promptAndVerify();\n            }\n            throw e;\n        }\n    }\n    async verifyCodeDefault(securityCode) {\n        const { accountId } = this;\n        const request = this.getRequest();\n        if (!request) {\n            throw new Error('no request pending');\n        }\n        const { requestId } = request;\n        return await this.postSignedJson('/2fa/verify', {\n            accountId,\n            securityCode,\n            requestId\n        });\n    }\n    async getRecoveryMethods() {\n        const { accountId } = this;\n        return {\n            accountId,\n            data: await this.postSignedJson('/account/recoveryMethods', { accountId })\n        };\n    }\n    async get2faMethod() {\n        let { data } = await this.getRecoveryMethods();\n        if (data && data.length) {\n            data = data.find((m) => m.kind.indexOf('2fa-') === 0);\n        }\n        if (!data)\n            return null;\n        const { kind, detail } = data;\n        return { kind, detail };\n    }\n    async signatureFor() {\n        const { accountId } = this;\n        const block = await this.connection.provider.block({ finality: 'final' });\n        const blockNumber = block.header.height.toString();\n        const signed = await this.connection.signer.signMessage(Buffer.from(blockNumber), accountId, this.connection.networkId);\n        const blockNumberSignature = Buffer.from(signed.signature).toString('base64');\n        return { blockNumber, blockNumberSignature };\n    }\n    async postSignedJson(path, body) {\n        return await web_1.fetchJson(this.helperUrl + path, JSON.stringify({\n            ...body,\n            ...(await this.signatureFor())\n        }));\n    }\n}\nexports.Account2FA = Account2FA;\n// helpers\nconst toPK = (pk) => key_pair_1.PublicKey.from(pk);\nconst convertPKForContract = (pk) => pk.toString().replace('ed25519:', '');\nconst convertActions = (actions, accountId, receiverId) => actions.map((a) => {\n    const type = a.enum;\n    const { gas, publicKey, methodName, args, deposit, accessKey, code } = a[type];\n    const action = {\n        type: type[0].toUpperCase() + type.substr(1),\n        gas: (gas && gas.toString()) || undefined,\n        public_key: (publicKey && convertPKForContract(publicKey)) || undefined,\n        method_name: methodName,\n        args: (args && Buffer.from(args).toString('base64')) || undefined,\n        code: (code && Buffer.from(code).toString('base64')) || undefined,\n        amount: (deposit && deposit.toString()) || undefined,\n        deposit: (deposit && deposit.toString()) || '0',\n        permission: undefined,\n    };\n    if (accessKey) {\n        if (receiverId === accountId && accessKey.permission.enum !== 'fullAccess') {\n            action.permission = {\n                receiver_id: accountId,\n                allowance: exports.MULTISIG_ALLOWANCE.toString(),\n                method_names: exports.MULTISIG_CHANGE_METHODS,\n            };\n        }\n        if (accessKey.permission.enum === 'functionCall') {\n            const { receiverId: receiver_id, methodNames: method_names, allowance } = accessKey.permission.functionCall;\n            action.permission = {\n                receiver_id,\n                allowance: (allowance && allowance.toString()) || undefined,\n                method_names\n            };\n        }\n    }\n    return action;\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectedWalletAccount = exports.WalletAccount = exports.WalletConnection = void 0;\n/**\n * The classes in this module are used in conjunction with the {@link BrowserLocalStorageKeyStore}. This module exposes two classes:\n * * {@link WalletConnection} which redirects users to {@link https://docs.near.org/docs/tools/near-wallet | NEAR Wallet} for key management.\n * * {@link ConnectedWalletAccount} is an {@link Account} implementation that uses {@link WalletConnection} to get keys\n *\n * @module walletAccount\n */\nconst depd_1 = __importDefault(require(\"depd\"));\nconst account_1 = require(\"./account\");\nconst transaction_1 = require(\"./transaction\");\nconst utils_1 = require(\"./utils\");\nconst borsh_1 = require(\"borsh\");\nconst borsh_2 = require(\"borsh\");\nconst LOGIN_WALLET_URL_SUFFIX = '/login/';\nconst MULTISIG_HAS_METHOD = 'add_request_and_confirm';\nconst LOCAL_STORAGE_KEY_SUFFIX = '_wallet_auth_key';\nconst PENDING_ACCESS_KEY_PREFIX = 'pending_key'; // browser storage key for a pending access key (i.e. key has been generated but we are not sure it was added yet)\n/**\n * This class is used in conjunction with the {@link BrowserLocalStorageKeyStore}.\n * It redirects users to {@link https://docs.near.org/docs/tools/near-wallet | NEAR Wallet} for key management.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#wallet}\n * @example\n * ```js\n * // create new WalletConnection instance\n * const wallet = new WalletConnection(near, 'my-app');\n *\n * // If not signed in redirect to the NEAR wallet to sign in\n * // keys will be stored in the BrowserLocalStorageKeyStore\n * if(!wallet.isSingnedIn()) return wallet.requestSignIn()\n * ```\n */\nclass WalletConnection {\n    constructor(near, appKeyPrefix) {\n        this._near = near;\n        const authDataKey = appKeyPrefix + LOCAL_STORAGE_KEY_SUFFIX;\n        const authData = JSON.parse(window.localStorage.getItem(authDataKey));\n        this._networkId = near.config.networkId;\n        this._walletBaseUrl = near.config.walletUrl;\n        appKeyPrefix = appKeyPrefix || near.config.contractName || 'default';\n        this._keyStore = near.connection.signer.keyStore;\n        this._authData = authData || { allKeys: [] };\n        this._authDataKey = authDataKey;\n        if (!this.isSignedIn()) {\n            this._completeSignInWithAccessKey();\n        }\n    }\n    /**\n     * Returns true, if this WalletAccount is authorized with the wallet.\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.isSignedIn();\n     * ```\n     */\n    isSignedIn() {\n        return !!this._authData.accountId;\n    }\n    /**\n     * Returns authorized Account ID.\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * wallet.getAccountId();\n     * ```\n     */\n    getAccountId() {\n        return this._authData.accountId || '';\n    }\n    /**\n     * Redirects current page to the wallet authentication page.\n     * @param options An optional options object\n     * @param options.contractId The NEAR account where the contract is deployed\n     * @param options.successUrl URL to redirect upon success. Default: current url\n     * @param options.failureUrl URL to redirect upon failure. Default: current url\n     *\n     * @example\n     * ```js\n     * const wallet = new WalletConnection(near, 'my-app');\n     * // redirects to the NEAR Wallet\n     * wallet.requestSignIn({ contractId: 'account-with-deploy-contract.near' });\n     * ```\n     */\n    async requestSignIn(contractIdOrOptions = {}, title, successUrl, failureUrl) {\n        let options;\n        if (typeof contractIdOrOptions === 'string') {\n            const deprecate = depd_1.default('requestSignIn(contractId, title)');\n            deprecate('`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead');\n            options = { contractId: contractIdOrOptions, successUrl, failureUrl };\n        }\n        else {\n            options = contractIdOrOptions;\n        }\n        const currentUrl = new URL(window.location.href);\n        const newUrl = new URL(this._walletBaseUrl + LOGIN_WALLET_URL_SUFFIX);\n        newUrl.searchParams.set('success_url', options.successUrl || currentUrl.href);\n        newUrl.searchParams.set('failure_url', options.failureUrl || currentUrl.href);\n        if (options.contractId) {\n            /* Throws exception if contract account does not exist */\n            const contractAccount = await this._near.account(options.contractId);\n            await contractAccount.state();\n            newUrl.searchParams.set('contract_id', options.contractId);\n            const accessKey = utils_1.KeyPair.fromRandom('ed25519');\n            newUrl.searchParams.set('public_key', accessKey.getPublicKey().toString());\n            await this._keyStore.setKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + accessKey.getPublicKey(), accessKey);\n        }\n        if (options.methodNames) {\n            options.methodNames.forEach(methodName => {\n                newUrl.searchParams.append('methodNames', methodName);\n            });\n        }\n        window.location.assign(newUrl.toString());\n    }\n    async requestSignTransactions(...args) {\n        if (Array.isArray(args[0])) {\n            const deprecate = depd_1.default('WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)');\n            deprecate('use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead');\n            return this._requestSignTransactions({\n                transactions: args[0],\n                callbackUrl: args[1],\n                meta: args[2]\n            });\n        }\n        return this._requestSignTransactions(args[0]);\n    }\n    async _requestSignTransactions({ transactions, meta, callbackUrl }) {\n        const currentUrl = new URL(window.location.href);\n        const newUrl = new URL('sign', this._walletBaseUrl);\n        newUrl.searchParams.set('transactions', transactions\n            .map(transaction => borsh_2.serialize(transaction_1.SCHEMA, transaction))\n            .map(serialized => Buffer.from(serialized).toString('base64'))\n            .join(','));\n        newUrl.searchParams.set('callbackUrl', callbackUrl || currentUrl.href);\n        if (meta)\n            newUrl.searchParams.set('meta', meta);\n        window.location.assign(newUrl.toString());\n    }\n    /**\n     * @hidden\n     * Complete sign in for a given account id and public key. To be invoked by the app when getting a callback from the wallet.\n     */\n    async _completeSignInWithAccessKey() {\n        const currentUrl = new URL(window.location.href);\n        const publicKey = currentUrl.searchParams.get('public_key') || '';\n        const allKeys = (currentUrl.searchParams.get('all_keys') || '').split(',');\n        const accountId = currentUrl.searchParams.get('account_id') || '';\n        // TODO: Handle errors during login\n        if (accountId) {\n            this._authData = {\n                accountId,\n                allKeys\n            };\n            window.localStorage.setItem(this._authDataKey, JSON.stringify(this._authData));\n            if (publicKey) {\n                await this._moveKeyFromTempToPermanent(accountId, publicKey);\n            }\n        }\n        currentUrl.searchParams.delete('public_key');\n        currentUrl.searchParams.delete('all_keys');\n        currentUrl.searchParams.delete('account_id');\n        currentUrl.searchParams.delete('meta');\n        currentUrl.searchParams.delete('transactionHashes');\n        window.history.replaceState({}, document.title, currentUrl.toString());\n    }\n    /**\n     * @hidden\n     * @param accountId The NEAR account owning the given public key\n     * @param publicKey The public key being set to the key store\n     */\n    async _moveKeyFromTempToPermanent(accountId, publicKey) {\n        const keyPair = await this._keyStore.getKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + publicKey);\n        await this._keyStore.setKey(this._networkId, accountId, keyPair);\n        await this._keyStore.removeKey(this._networkId, PENDING_ACCESS_KEY_PREFIX + publicKey);\n    }\n    /**\n     * Sign out from the current account\n     * @example\n     * walletAccount.signOut();\n     */\n    signOut() {\n        this._authData = {};\n        window.localStorage.removeItem(this._authDataKey);\n    }\n    /**\n     * Returns the current connected wallet account\n     */\n    account() {\n        if (!this._connectedAccount) {\n            this._connectedAccount = new ConnectedWalletAccount(this, this._near.connection, this._authData.accountId);\n        }\n        return this._connectedAccount;\n    }\n}\nexports.WalletConnection = WalletConnection;\nexports.WalletAccount = WalletConnection;\n/**\n * {@link Account} implementation which redirects to wallet using {@link WalletConnection} when no local key is available.\n */\nclass ConnectedWalletAccount extends account_1.Account {\n    constructor(walletConnection, connection, accountId) {\n        super(connection, accountId);\n        this.walletConnection = walletConnection;\n    }\n    // Overriding Account methods\n    /**\n     * Sign a transaction by redirecting to the NEAR Wallet\n     * @see {@link WalletConnection.requestSignTransactions}\n     */\n    signAndSendTransaction(...args) {\n        if (typeof args[0] === 'string') {\n            return this._signAndSendTransaction({ receiverId: args[0], actions: args[1] });\n        }\n        return this._signAndSendTransaction(args[0]);\n    }\n    async _signAndSendTransaction({ receiverId, actions, walletMeta, walletCallbackUrl = window.location.href }) {\n        const localKey = await this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\n        let accessKey = await this.accessKeyForTransaction(receiverId, actions, localKey);\n        if (!accessKey) {\n            throw new Error(`Cannot find matching key for transaction sent to ${receiverId}`);\n        }\n        if (localKey && localKey.toString() === accessKey.public_key) {\n            try {\n                return await super.signAndSendTransaction({ receiverId, actions });\n            }\n            catch (e) {\n                if (e.type === 'NotEnoughAllowance') {\n                    accessKey = await this.accessKeyForTransaction(receiverId, actions);\n                }\n                else {\n                    throw e;\n                }\n            }\n        }\n        const block = await this.connection.provider.block({ finality: 'final' });\n        const blockHash = borsh_1.baseDecode(block.header.hash);\n        const publicKey = utils_1.PublicKey.from(accessKey.public_key);\n        // TODO: Cache & listen for nonce updates for given access key\n        const nonce = accessKey.access_key.nonce + 1;\n        const transaction = transaction_1.createTransaction(this.accountId, publicKey, receiverId, nonce, actions, blockHash);\n        await this.walletConnection.requestSignTransactions({\n            transactions: [transaction],\n            meta: walletMeta,\n            callbackUrl: walletCallbackUrl\n        });\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                reject(new Error('Failed to redirect to sign transaction'));\n            }, 1000);\n        });\n        // TODO: Aggregate multiple transaction request with \"debounce\".\n        // TODO: Introduce TrasactionQueue which also can be used to watch for status?\n    }\n    /**\n     * Check if given access key allows the function call or method attempted in transaction\n     * @param accessKey Array of {access_key: AccessKey, public_key: PublicKey} items\n     * @param receiverId The NEAR account attempting to have access\n     * @param actions The action(s) needed to be checked for access\n     */\n    async accessKeyMatchesTransaction(accessKey, receiverId, actions) {\n        const { access_key: { permission } } = accessKey;\n        if (permission === 'FullAccess') {\n            return true;\n        }\n        if (permission.FunctionCall) {\n            const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n            /********************************\n            Accept multisig access keys and let wallets attempt to signAndSendTransaction\n            If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n            ********************************/\n            if (allowedReceiverId === this.accountId && allowedMethods.includes(MULTISIG_HAS_METHOD)) {\n                return true;\n            }\n            if (allowedReceiverId === receiverId) {\n                if (actions.length !== 1) {\n                    return false;\n                }\n                const [{ functionCall }] = actions;\n                return functionCall &&\n                    (!functionCall.deposit || functionCall.deposit.toString() === '0') && // TODO: Should support charging amount smaller than allowance?\n                    (allowedMethods.length === 0 || allowedMethods.includes(functionCall.methodName));\n                // TODO: Handle cases when allowance doesn't have enough to pay for gas\n            }\n        }\n        // TODO: Support other permissions than FunctionCall\n        return false;\n    }\n    /**\n     * Helper function returning the access key (if it exists) to the receiver that grants the designated permission\n     * @param receiverId The NEAR account seeking the access key for a transaction\n     * @param actions The action(s) sought to gain access to\n     * @param localKey A local public key provided to check for access\n     * @returns Promise<any>\n     */\n    async accessKeyForTransaction(receiverId, actions, localKey) {\n        const accessKeys = await this.getAccessKeys();\n        if (localKey) {\n            const accessKey = accessKeys.find(key => key.public_key.toString() === localKey.toString());\n            if (accessKey && await this.accessKeyMatchesTransaction(accessKey, receiverId, actions)) {\n                return accessKey;\n            }\n        }\n        const walletKeys = this.walletConnection._authData.allKeys;\n        for (const accessKey of accessKeys) {\n            if (walletKeys.indexOf(accessKey.public_key) !== -1 && await this.accessKeyMatchesTransaction(accessKey, receiverId, actions)) {\n                return accessKey;\n            }\n        }\n        return null;\n    }\n}\nexports.ConnectedWalletAccount = ConnectedWalletAccount;\n","\"use strict\";\n/** @hidden @module */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorContext = exports.TypedError = exports.getTransactionLastResult = exports.FinalExecutionStatusBasic = exports.JsonRpcProvider = exports.Provider = void 0;\nconst provider_1 = require(\"./provider\");\nObject.defineProperty(exports, \"Provider\", { enumerable: true, get: function () { return provider_1.Provider; } });\nObject.defineProperty(exports, \"getTransactionLastResult\", { enumerable: true, get: function () { return provider_1.getTransactionLastResult; } });\nObject.defineProperty(exports, \"FinalExecutionStatusBasic\", { enumerable: true, get: function () { return provider_1.FinalExecutionStatusBasic; } });\nconst json_rpc_provider_1 = require(\"./json-rpc-provider\");\nObject.defineProperty(exports, \"JsonRpcProvider\", { enumerable: true, get: function () { return json_rpc_provider_1.JsonRpcProvider; } });\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return json_rpc_provider_1.TypedError; } });\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return json_rpc_provider_1.ErrorContext; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseNearAmount = exports.formatNearAmount = exports.NEAR_NOMINATION = exports.NEAR_NOMINATION_EXP = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n/**\n * Exponent for calculating how many indivisible units are there in one NEAR. See {@link NEAR_NOMINATION}.\n */\nexports.NEAR_NOMINATION_EXP = 24;\n/**\n * Number of indivisible units in one NEAR. Derived from {@link NEAR_NOMINATION_EXP}.\n */\nexports.NEAR_NOMINATION = new bn_js_1.default('10', 10).pow(new bn_js_1.default(exports.NEAR_NOMINATION_EXP, 10));\n// Pre-calculate offests used for rounding to different number of digits\nconst ROUNDING_OFFSETS = [];\nconst BN10 = new bn_js_1.default(10);\nfor (let i = 0, offset = new bn_js_1.default(5); i < exports.NEAR_NOMINATION_EXP; i++, offset = offset.mul(BN10)) {\n    ROUNDING_OFFSETS[i] = offset;\n}\n/**\n * Convert account balance value from internal indivisible units to NEAR. 1 NEAR is defined by {@link NEAR_NOMINATION}.\n * Effectively this divides given amount by {@link NEAR_NOMINATION}.\n *\n * @param balance decimal string representing balance in smallest non-divisible NEAR units (as specified by {@link NEAR_NOMINATION})\n * @param fracDigits number of fractional digits to preserve in formatted string. Balance is rounded to match given number of digits.\n * @returns Value in \n */\nfunction formatNearAmount(balance, fracDigits = exports.NEAR_NOMINATION_EXP) {\n    const balanceBN = new bn_js_1.default(balance, 10);\n    if (fracDigits !== exports.NEAR_NOMINATION_EXP) {\n        // Adjust balance for rounding at given number of digits\n        const roundingExp = exports.NEAR_NOMINATION_EXP - fracDigits - 1;\n        if (roundingExp > 0) {\n            balanceBN.iadd(ROUNDING_OFFSETS[roundingExp]);\n        }\n    }\n    balance = balanceBN.toString();\n    const wholeStr = balance.substring(0, balance.length - exports.NEAR_NOMINATION_EXP) || '0';\n    const fractionStr = balance.substring(balance.length - exports.NEAR_NOMINATION_EXP)\n        .padStart(exports.NEAR_NOMINATION_EXP, '0').substring(0, fracDigits);\n    return trimTrailingZeroes(`${formatWithCommas(wholeStr)}.${fractionStr}`);\n}\nexports.formatNearAmount = formatNearAmount;\n/**\n * Convert human readable NEAR amount to internal indivisible units.\n * Effectively this multiplies given amount by {@link NEAR_NOMINATION}.\n *\n * @param amt decimal string (potentially fractional) denominated in NEAR.\n * @returns The parsed yocto amount or null if no amount was passed in\n */\nfunction parseNearAmount(amt) {\n    if (!amt) {\n        return null;\n    }\n    amt = cleanupAmount(amt);\n    const split = amt.split('.');\n    const wholePart = split[0];\n    const fracPart = split[1] || '';\n    if (split.length > 2 || fracPart.length > exports.NEAR_NOMINATION_EXP) {\n        throw new Error(`Cannot parse '${amt}' as NEAR amount`);\n    }\n    return trimLeadingZeroes(wholePart + fracPart.padEnd(exports.NEAR_NOMINATION_EXP, '0'));\n}\nexports.parseNearAmount = parseNearAmount;\n/**\n * Removes commas from the input\n * @param amount A value or amount that may contain commas\n * @returns string The cleaned value\n */\nfunction cleanupAmount(amount) {\n    return amount.replace(/,/g, '').trim();\n}\n/**\n * Removes .000 from an input\n * @param value A value that may contain trailing zeroes in the decimals place\n * @returns string The value without the trailing zeros\n */\nfunction trimTrailingZeroes(value) {\n    return value.replace(/\\.?0*$/, '');\n}\n/**\n * Removes leading zeroes from an input\n * @param value A value that may contain leading zeroes\n * @returns string The value without the leading zeroes\n */\nfunction trimLeadingZeroes(value) {\n    value = value.replace(/^0+/, '');\n    if (value === '') {\n        return '0';\n    }\n    return value;\n}\n/**\n * Returns a human-readable value with commas\n * @param value A value that may not contain commas\n * @returns string A value with commas\n */\nfunction formatWithCommas(value) {\n    const pattern = /(-?\\d+)(\\d{3})/;\n    while (pattern.test(value)) {\n        value = value.replace(pattern, '$1,$2');\n    }\n    return value;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = void 0;\nconst providers_1 = require(\"./providers\");\nconst signer_1 = require(\"./signer\");\n/**\n * @param config Contains connection info details\n * @returns {Provider}\n */\nfunction getProvider(config) {\n    switch (config.type) {\n        case undefined:\n            return config;\n        case 'JsonRpcProvider': return new providers_1.JsonRpcProvider({ ...config.args });\n        default: throw new Error(`Unknown provider type ${config.type}`);\n    }\n}\n/**\n * @param config Contains connection info details\n * @returns {Signer}\n */\nfunction getSigner(config) {\n    switch (config.type) {\n        case undefined:\n            return config;\n        case 'InMemorySigner': {\n            return new signer_1.InMemorySigner(config.keyStore);\n        }\n        default: throw new Error(`Unknown signer type ${config.type}`);\n    }\n}\n/**\n * Connects an account to a given network via a given provider\n */\nclass Connection {\n    constructor(networkId, provider, signer) {\n        this.networkId = networkId;\n        this.provider = provider;\n        this.signer = signer;\n    }\n    /**\n     * @param config Contains connection info details\n     */\n    static fromConfig(config) {\n        const provider = getProvider(config.provider);\n        const signer = getSigner(config.signer);\n        return new Connection(config.networkId, provider, signer);\n    }\n}\nexports.Connection = Connection;\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Assignable = exports.Enum = void 0;\n/** @hidden @module */\nclass Enum {\n    constructor(properties) {\n        if (Object.keys(properties).length !== 1) {\n            throw new Error('Enum can only take single value');\n        }\n        Object.keys(properties).map((key) => {\n            this[key] = properties[key];\n            this.enum = key;\n        });\n    }\n}\nexports.Enum = Enum;\nclass Assignable {\n    constructor(properties) {\n        Object.keys(properties).map((key) => {\n            this[key] = properties[key];\n        });\n    }\n}\nexports.Assignable = Assignable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserLocalStorageKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nconst key_pair_1 = require(\"../utils/key_pair\");\nconst LOCAL_STORAGE_KEY_PREFIX = 'near-api-js:keystore:';\n/**\n * This class is used to store keys in the browsers local storage.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store}\n * @example\n * ```js\n * import { connect, keyStores } from 'near-api-js';\n *\n * const keyStore = new keyStores.BrowserLocalStorageKeyStore();\n * const config = {\n *   keyStore, // instance of BrowserLocalStorageKeyStore\n *   networkId: 'testnet',\n *   nodeUrl: 'https://rpc.testnet.near.org',\n *   walletUrl: 'https://wallet.testnet.near.org',\n *   helperUrl: 'https://helper.testnet.near.org',\n *   explorerUrl: 'https://explorer.testnet.near.org'\n * };\n *\n * // inside an async function\n * const near = await connect(config)\n * ```\n */\nclass BrowserLocalStorageKeyStore extends keystore_1.KeyStore {\n    /**\n     * @param localStorage defaults to window.localStorage\n     * @param prefix defaults to `near-api-js:keystore:`\n     */\n    constructor(localStorage = window.localStorage, prefix = LOCAL_STORAGE_KEY_PREFIX) {\n        super();\n        this.localStorage = localStorage;\n        this.prefix = prefix;\n    }\n    /**\n     * Stores a {@link KeyPair} in local storage.\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        this.localStorage.setItem(this.storageKeyForSecretKey(networkId, accountId), keyPair.toString());\n    }\n    /**\n     * Gets a {@link KeyPair} from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        const value = this.localStorage.getItem(this.storageKeyForSecretKey(networkId, accountId));\n        if (!value) {\n            return null;\n        }\n        return key_pair_1.KeyPair.fromString(value);\n    }\n    /**\n     * Removes a {@link KeyPair} from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        this.localStorage.removeItem(this.storageKeyForSecretKey(networkId, accountId));\n    }\n    /**\n     * Removes all items that start with `prefix` from local storage\n     */\n    async clear() {\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                this.localStorage.removeItem(key);\n            }\n        }\n    }\n    /**\n     * Get the network(s) from local storage\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                const parts = key.substring(this.prefix.length).split(':');\n                result.add(parts[1]);\n            }\n        }\n        return Array.from(result.values());\n    }\n    /**\n     * Gets the account(s) from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Array();\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                const parts = key.substring(this.prefix.length).split(':');\n                if (parts[1] === networkId) {\n                    result.push(parts[0]);\n                }\n            }\n        }\n        return result;\n    }\n    /**\n     * @hidden\n     * Helper function to retrieve a local storage key\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the storage keythat's sought\n     * @returns {string} An example might be: `near-api-js:keystore:near-friend:default`\n     */\n    storageKeyForSecretKey(networkId, accountId) {\n        return `${this.prefix}${accountId}:${networkId}`;\n    }\n    /** @hidden */\n    *storageKeys() {\n        for (let i = 0; i < this.localStorage.length; i++) {\n            yield this.localStorage.key(i);\n        }\n    }\n}\nexports.BrowserLocalStorageKeyStore = BrowserLocalStorageKeyStore;\n","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeyPairEd25519 = exports.KeyPair = exports.PublicKey = exports.KeyType = void 0;\nconst tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nconst serialize_1 = require(\"./serialize\");\nconst enums_1 = require(\"./enums\");\n/** All supported key types */\nvar KeyType;\n(function (KeyType) {\n    KeyType[KeyType[\"ED25519\"] = 0] = \"ED25519\";\n})(KeyType = exports.KeyType || (exports.KeyType = {}));\nfunction key_type_to_str(keyType) {\n    switch (keyType) {\n        case KeyType.ED25519: return 'ed25519';\n        default: throw new Error(`Unknown key type ${keyType}`);\n    }\n}\nfunction str_to_key_type(keyType) {\n    switch (keyType.toLowerCase()) {\n        case 'ed25519': return KeyType.ED25519;\n        default: throw new Error(`Unknown key type ${keyType}`);\n    }\n}\n/**\n * PublicKey representation that has type and bytes of the key.\n */\nclass PublicKey extends enums_1.Assignable {\n    static from(value) {\n        if (typeof value === 'string') {\n            return PublicKey.fromString(value);\n        }\n        return value;\n    }\n    static fromString(encodedKey) {\n        const parts = encodedKey.split(':');\n        if (parts.length === 1) {\n            return new PublicKey({ keyType: KeyType.ED25519, data: serialize_1.base_decode(parts[0]) });\n        }\n        else if (parts.length === 2) {\n            return new PublicKey({ keyType: str_to_key_type(parts[0]), data: serialize_1.base_decode(parts[1]) });\n        }\n        else {\n            throw new Error('Invalid encoded key format, must be <curve>:<encoded key>');\n        }\n    }\n    toString() {\n        return `${key_type_to_str(this.keyType)}:${serialize_1.base_encode(this.data)}`;\n    }\n    verify(message, signature) {\n        switch (this.keyType) {\n            case KeyType.ED25519: return tweetnacl_1.default.sign.detached.verify(message, signature, this.data);\n            default: throw new Error(`Unknown key type ${this.keyType}`);\n        }\n    }\n}\nexports.PublicKey = PublicKey;\nclass KeyPair {\n    /**\n     * @param curve Name of elliptical curve, case-insensitive\n     * @returns Random KeyPair based on the curve\n     */\n    static fromRandom(curve) {\n        switch (curve.toUpperCase()) {\n            case 'ED25519': return KeyPairEd25519.fromRandom();\n            default: throw new Error(`Unknown curve ${curve}`);\n        }\n    }\n    static fromString(encodedKey) {\n        const parts = encodedKey.split(':');\n        if (parts.length === 1) {\n            return new KeyPairEd25519(parts[0]);\n        }\n        else if (parts.length === 2) {\n            switch (parts[0].toUpperCase()) {\n                case 'ED25519': return new KeyPairEd25519(parts[1]);\n                default: throw new Error(`Unknown curve: ${parts[0]}`);\n            }\n        }\n        else {\n            throw new Error('Invalid encoded key format, must be <curve>:<encoded key>');\n        }\n    }\n}\nexports.KeyPair = KeyPair;\n/**\n * This class provides key pair functionality for Ed25519 curve:\n * generating key pairs, encoding key pairs, signing and verifying.\n */\nclass KeyPairEd25519 extends KeyPair {\n    /**\n     * Construct an instance of key pair given a secret key.\n     * It's generally assumed that these are encoded in base58.\n     * @param {string} secretKey\n     */\n    constructor(secretKey) {\n        super();\n        const keyPair = tweetnacl_1.default.sign.keyPair.fromSecretKey(serialize_1.base_decode(secretKey));\n        this.publicKey = new PublicKey({ keyType: KeyType.ED25519, data: keyPair.publicKey });\n        this.secretKey = secretKey;\n    }\n    /**\n     * Generate a new random keypair.\n     * @example\n     * const keyRandom = KeyPair.fromRandom();\n     * keyRandom.publicKey\n     * // returns [PUBLIC_KEY]\n     *\n     * keyRandom.secretKey\n     * // returns [SECRET_KEY]\n     */\n    static fromRandom() {\n        const newKeyPair = tweetnacl_1.default.sign.keyPair();\n        return new KeyPairEd25519(serialize_1.base_encode(newKeyPair.secretKey));\n    }\n    sign(message) {\n        const signature = tweetnacl_1.default.sign.detached(message, serialize_1.base_decode(this.secretKey));\n        return { signature, publicKey: this.publicKey };\n    }\n    verify(message, signature) {\n        return this.publicKey.verify(message, signature);\n    }\n    toString() {\n        return `ed25519:${this.secretKey}`;\n    }\n    getPublicKey() {\n        return this.publicKey;\n    }\n}\nexports.KeyPairEd25519 = KeyPairEd25519;\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nconst key_pair_1 = require(\"../utils/key_pair\");\n/**\n * Simple in-memory keystore for mainly for testing purposes.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#key-store}\n * @example\n * ```js\n * import { connect, keyStores, utils } from 'near-api-js';\n *\n * const privateKey = '.......';\n * const keyPair = utils.KeyPair.fromString(privateKey);\n *\n * const keyStore = new keyStores.InMemoryKeyStore();\n * keyStore.setKey('testnet', 'example-account.testnet', keyPair);\n *\n * const config = {\n *   keyStore, // instance of InMemoryKeyStore\n *   networkId: 'testnet',\n *   nodeUrl: 'https://rpc.testnet.near.org',\n *   walletUrl: 'https://wallet.testnet.near.org',\n *   helperUrl: 'https://helper.testnet.near.org',\n *   explorerUrl: 'https://explorer.testnet.near.org'\n * };\n *\n * // inside an async function\n * const near = await connect(config)\n * ```\n */\nclass InMemoryKeyStore extends keystore_1.KeyStore {\n    constructor() {\n        super();\n        this.keys = {};\n    }\n    /**\n     * Stores a {@KeyPair} in in-memory storage item\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        this.keys[`${accountId}:${networkId}`] = keyPair.toString();\n    }\n    /**\n     * Gets a {@link KeyPair} from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        const value = this.keys[`${accountId}:${networkId}`];\n        if (!value) {\n            return null;\n        }\n        return key_pair_1.KeyPair.fromString(value);\n    }\n    /**\n     * Removes a {@link KeyPair} from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        delete this.keys[`${accountId}:${networkId}`];\n    }\n    /**\n     * Removes all {@link KeyPairs} from in-memory storage\n     */\n    async clear() {\n        this.keys = {};\n    }\n    /**\n     * Get the network(s) from in-memory storage\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        Object.keys(this.keys).forEach((key) => {\n            const parts = key.split(':');\n            result.add(parts[1]);\n        });\n        return Array.from(result.values());\n    }\n    /**\n     * Gets the account(s) from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Array();\n        Object.keys(this.keys).forEach((key) => {\n            const parts = key.split(':');\n            if (parts[parts.length - 1] === networkId) {\n                result.push(parts.slice(0, parts.length - 1).join(':'));\n            }\n        });\n        return result;\n    }\n    /** @hidden */\n    toString() {\n        return 'InMemoryKeyStore';\n    }\n}\nexports.InMemoryKeyStore = InMemoryKeyStore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar borsh_1 = require(\"borsh\");\nObject.defineProperty(exports, \"base_encode\", { enumerable: true, get: function () { return borsh_1.baseEncode; } });\nObject.defineProperty(exports, \"base_decode\", { enumerable: true, get: function () { return borsh_1.baseDecode; } });\nObject.defineProperty(exports, \"serialize\", { enumerable: true, get: function () { return borsh_1.serialize; } });\nObject.defineProperty(exports, \"deserialize\", { enumerable: true, get: function () { return borsh_1.deserialize; } });\nObject.defineProperty(exports, \"BorshError\", { enumerable: true, get: function () { return borsh_1.BorshError; } });\nObject.defineProperty(exports, \"BinaryWriter\", { enumerable: true, get: function () { return borsh_1.BinaryWriter; } });\nObject.defineProperty(exports, \"BinaryReader\", { enumerable: true, get: function () { return borsh_1.BinaryReader; } });\n","var Class = function () {\r\n    var options = Object.create({\r\n        Source: Object,\r\n        config: {},\r\n        buildArgs: []\r\n    });\r\n\r\n    function checkOption(option) {\r\n        var key = \"config\";\r\n        if (option instanceof Function)\r\n            key = \"Source\";\r\n        else if (option instanceof Array)\r\n            key = \"buildArgs\";\r\n        else if (option instanceof Object)\r\n            key = \"config\";\r\n        else\r\n            throw new Error(\"Invalid configuration option.\");\r\n        if (options.hasOwnProperty(key))\r\n            throw new Error(\"Duplicated configuration option: \" + key + \".\");\r\n        options[key] = option;\r\n    }\r\n\r\n    for (var index = 0, length = arguments.length; index < length; ++index)\r\n        checkOption(arguments[index]);\r\n\r\n    var Source = options.Source,\r\n        config = options.config,\r\n        buildArgs = options.buildArgs;\r\n\r\n    return (Source.extend || Class.extend).call(Source, config, buildArgs);\r\n};\r\n\r\nClass.factory = function () {\r\n    var Source = this;\r\n    return function () {\r\n        var instance = this;\r\n        if (instance.build instanceof Function)\r\n            instance.build.apply(instance, arguments);\r\n        if (instance.init instanceof Function)\r\n            instance.init.apply(instance, arguments);\r\n    };\r\n};\r\n\r\nClass.extend = function (config, buildArgs) {\r\n    var Source = this;\r\n    if (!config)\r\n        config = {};\r\n    var Subject;\r\n    if ((config.prototype instanceof Object) && config.prototype.constructor !== Object)\r\n        Subject = config.prototype.constructor;\r\n    else if (config.factory instanceof Function)\r\n        Subject = config.factory.call(Source);\r\n    Subject = (Source.clone || Class.clone).call(Source, Subject, buildArgs);\r\n    (Subject.merge || Class.merge).call(Subject, config);\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.extend = function (config, buildArgs) {\r\n    var subject = this;\r\n    var instance = (subject.clone || Class.prototype.clone).apply(subject, buildArgs);\r\n    (instance.merge || Class.prototype.merge).call(instance, config);\r\n    return instance;\r\n};\r\n\r\nClass.clone = function (Subject, buildArgs) {\r\n    var Source = this;\r\n    if (!(Subject instanceof Function))\r\n        Subject = (Source.factory || Class.factory).call(Source);\r\n    Subject.prototype = (Source.prototype.clone || Class.prototype.clone).apply(Source.prototype, buildArgs || []);\r\n    Subject.prototype.constructor = Subject;\r\n    for (var staticProperty in Source)\r\n        if (staticProperty !== \"prototype\")\r\n            Subject[staticProperty] = Source[staticProperty];\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.clone = function () {\r\n    var subject = this;\r\n    var instance = Object.create(subject);\r\n    if (instance.build instanceof Function)\r\n        instance.build.apply(instance, arguments);\r\n    return instance;\r\n};\r\n\r\nClass.merge = function (config) {\r\n    var Subject = this;\r\n    for (var staticProperty in config)\r\n        if (staticProperty !== \"prototype\")\r\n            Subject[staticProperty] = config[staticProperty];\r\n    if (config.prototype instanceof Object)\r\n        (Subject.prototype.merge || Class.prototype.merge).call(Subject.prototype, config.prototype);\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.merge = function (config) {\r\n    var subject = this;\r\n    for (var property in config)\r\n        if (property !== \"constructor\")\r\n            subject[property] = config[property];\r\n    return subject;\r\n};\r\n\r\nClass.absorb = function (config) {\r\n    var Subject = this;\r\n    for (var staticProperty in config)\r\n        if (staticProperty !== \"prototype\" && (Subject[staticProperty] === undefined || Subject[staticProperty] === Function.prototype[staticProperty]))\r\n            Subject[staticProperty] = config[staticProperty];\r\n    if (config.prototype instanceof Object)\r\n        (Subject.prototype.absorb || Class.prototype.absorb).call(Subject.prototype, config.prototype);\r\n    return Subject;\r\n};\r\n\r\nClass.prototype.absorb = function (config) {\r\n    var subject = this;\r\n    for (var property in config)\r\n        if (property !== \"constructor\" && (subject[property] === undefined || subject[property] === Object.prototype[property]))\r\n            subject[property] = config[property];\r\n    return subject;\r\n};\r\n\r\nClass.getAncestor = function () {\r\n    var Source = this;\r\n    if (Source !== Source.prototype.constructor)\r\n        return Source.prototype.constructor;\r\n};\r\n\r\nClass.newInstance = function () {\r\n    var Subject = this;\r\n    var instance = Object.create(this.prototype);\r\n    Subject.apply(instance, arguments);\r\n    return instance;\r\n};\r\n\r\nmodule.exports = Class;","require(\"capability/es5\");\r\n\r\nmodule.exports = require(\"./lib\");","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchJson = void 0;\nconst http_errors_1 = __importDefault(require(\"http-errors\"));\nconst exponential_backoff_1 = __importDefault(require(\"./exponential-backoff\"));\nconst providers_1 = require(\"../providers\");\nconst errors_1 = require(\"./errors\");\nconst START_WAIT_TIME_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.5;\nconst RETRY_NUMBER = 10;\nasync function fetchJson(connectionInfoOrUrl, json) {\n    let connectionInfo = { url: null };\n    if (typeof (connectionInfoOrUrl) === 'string') {\n        connectionInfo.url = connectionInfoOrUrl;\n    }\n    else {\n        connectionInfo = connectionInfoOrUrl;\n    }\n    const response = await exponential_backoff_1.default(START_WAIT_TIME_MS, RETRY_NUMBER, BACKOFF_MULTIPLIER, async () => {\n        try {\n            const response = await fetch(connectionInfo.url, {\n                method: json ? 'POST' : 'GET',\n                body: json ? json : undefined,\n                headers: { ...connectionInfo.headers, 'Content-Type': 'application/json' }\n            });\n            if (!response.ok) {\n                if (response.status === 503) {\n                    errors_1.logWarning(`Retrying HTTP request for ${connectionInfo.url} as it's not available now`);\n                    return null;\n                }\n                throw http_errors_1.default(response.status, await response.text());\n            }\n            return response;\n        }\n        catch (error) {\n            if (error.toString().includes('FetchError') || error.toString().includes('Failed to fetch')) {\n                errors_1.logWarning(`Retrying HTTP request for ${connectionInfo.url} because of error: ${error}`);\n                return null;\n            }\n            throw error;\n        }\n    });\n    if (!response) {\n        throw new providers_1.TypedError(`Exceeded ${RETRY_NUMBER} attempts for ${connectionInfo.url}.`, 'RetriesExceeded');\n    }\n    return await response.json();\n}\nexports.fetchJson = fetchJson;\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = exports.ErrorContext = exports.TypedError = exports.ArgumentTypeError = exports.PositionalArgsError = void 0;\nclass PositionalArgsError extends Error {\n    constructor() {\n        super('Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }');\n    }\n}\nexports.PositionalArgsError = PositionalArgsError;\nclass ArgumentTypeError extends Error {\n    constructor(argName, argType, argValue) {\n        super(`Expected ${argType} for '${argName}' argument, but got '${JSON.stringify(argValue)}'`);\n    }\n}\nexports.ArgumentTypeError = ArgumentTypeError;\nclass TypedError extends Error {\n    constructor(message, type, context) {\n        super(message);\n        this.type = type || 'UntypedError';\n        this.context = context;\n    }\n}\nexports.TypedError = TypedError;\nclass ErrorContext {\n    constructor(transactionHash) {\n        this.transactionHash = transactionHash;\n    }\n}\nexports.ErrorContext = ErrorContext;\nfunction logWarning(...args) {\n    if (!process.env['NEAR_NO_LOGS']) {\n        console.warn(...args);\n    }\n}\nexports.logWarning = logWarning;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nasync function exponentialBackoff(startWaitTime, retryNumber, waitBackoff, getResult) {\n    // TODO: jitter?\n    let waitTime = startWaitTime;\n    for (let i = 0; i < retryNumber; i++) {\n        const result = await getResult();\n        if (result) {\n            return result;\n        }\n        await sleep(waitTime);\n        waitTime *= waitBackoff;\n    }\n    return null;\n}\nexports.default = exponentialBackoff;\n// Sleep given number of millis.\nfunction sleep(millis) {\n    return new Promise(resolve => setTimeout(resolve, millis));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemorySigner = exports.Signer = void 0;\nconst js_sha256_1 = __importDefault(require(\"js-sha256\"));\nconst key_pair_1 = require(\"./utils/key_pair\");\nconst in_memory_key_store_1 = require(\"./key_stores/in_memory_key_store\");\n/**\n * General signing interface, can be used for in memory signing, RPC singing, external wallet, HSM, etc.\n */\nclass Signer {\n}\nexports.Signer = Signer;\n/**\n * Signs using in memory key store.\n */\nclass InMemorySigner extends Signer {\n    constructor(keyStore) {\n        super();\n        this.keyStore = keyStore;\n    }\n    /**\n     * Creates a single account Signer instance with account, network and keyPair provided.\n     *\n     * Intended to be useful for temporary keys (e.g. claiming a Linkdrop).\n     *\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account to assign the key pair to\n     * @param keyPair The keyPair to use for signing\n     */\n    static async fromKeyPair(networkId, accountId, keyPair) {\n        const keyStore = new in_memory_key_store_1.InMemoryKeyStore();\n        await keyStore.setKey(networkId, accountId, keyPair);\n        return new InMemorySigner(keyStore);\n    }\n    /**\n     * Creates a public key for the account given\n     * @param accountId The NEAR account to assign a public key to\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns {Promise<PublicKey>}\n     */\n    async createKey(accountId, networkId) {\n        const keyPair = key_pair_1.KeyPair.fromRandom('ed25519');\n        await this.keyStore.setKey(networkId, accountId, keyPair);\n        return keyPair.getPublicKey();\n    }\n    /**\n     * Gets the existing public key for a given account\n     * @param accountId The NEAR account to assign a public key to\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns {Promise<PublicKey>} Returns the public key or null if not found\n     */\n    async getPublicKey(accountId, networkId) {\n        const keyPair = await this.keyStore.getKey(networkId, accountId);\n        if (keyPair === null) {\n            return null;\n        }\n        return keyPair.getPublicKey();\n    }\n    /**\n     * @param message A message to be signed, typically a serialized transaction\n     * @param accountId the NEAR account signing the message\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns {Promise<Signature>}\n     */\n    async signMessage(message, accountId, networkId) {\n        const hash = new Uint8Array(js_sha256_1.default.sha256.array(message));\n        if (!accountId) {\n            throw new Error('InMemorySigner requires provided account id');\n        }\n        const keyPair = await this.keyStore.getKey(networkId, accountId);\n        if (keyPair === null) {\n            throw new Error(`Key for ${accountId} not found in ${networkId}`);\n        }\n        return keyPair.sign(hash);\n    }\n    toString() {\n        return `InMemorySigner(${this.keyStore})`;\n    }\n}\nexports.InMemorySigner = InMemorySigner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nclass MergeKeyStore extends keystore_1.KeyStore {\n    /**\n     * @param keyStores read calls are attempted from start to end of array\n     * @param options.writeKeyStoreIndex the keystore index that will receive all write calls\n     */\n    constructor(keyStores, options = { writeKeyStoreIndex: 0 }) {\n        super();\n        this.options = options;\n        this.keyStores = keyStores;\n    }\n    /**\n     * Store a {@link KeyPain} to the first index of a key store array\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        await this.keyStores[this.options.writeKeyStoreIndex].setKey(networkId, accountId, keyPair);\n    }\n    /**\n     * Gets a {@link KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        for (const keyStore of this.keyStores) {\n            const keyPair = await keyStore.getKey(networkId, accountId);\n            if (keyPair) {\n                return keyPair;\n            }\n        }\n        return null;\n    }\n    /**\n     * Removes a {@link KeyPair} from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        for (const keyStore of this.keyStores) {\n            await keyStore.removeKey(networkId, accountId);\n        }\n    }\n    /**\n     * Removes all items from each key store\n     */\n    async clear() {\n        for (const keyStore of this.keyStores) {\n            await keyStore.clear();\n        }\n    }\n    /**\n     * Get the network(s) from the array of key stores\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        for (const keyStore of this.keyStores) {\n            for (const network of await keyStore.getNetworks()) {\n                result.add(network);\n            }\n        }\n        return Array.from(result);\n    }\n    /**\n     * Gets the account(s) from the array of key stores\n     * @param networkId The targeted network. (ex. default, betanet, etc)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Set();\n        for (const keyStore of this.keyStores) {\n            for (const account of await keyStore.getAccounts(networkId)) {\n                result.add(account);\n            }\n        }\n        return Array.from(result);\n    }\n    /** @hidden */\n    toString() {\n        return `MergeKeyStore(${this.keyStores.join(', ')})`;\n    }\n}\nexports.MergeKeyStore = MergeKeyStore;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Mustache = factory());\n}(this, (function () { 'use strict';\n\n  /*!\n   * mustache.js - Logic-less {{mustache}} templates with JavaScript\n   * http://github.com/janl/mustache.js\n   */\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  /**\n   * Safe way of detecting whether or not the given thing is a primitive and\n   * whether it has the given property\n   */\n  function primitiveHasOwnProperty (primitive, propName) {\n    return (\n      primitive != null\n      && typeof primitive !== 'object'\n      && primitive.hasOwnProperty\n      && primitive.hasOwnProperty(propName)\n    );\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   *\n   * Tokens for partials also contain two more elements: 1) a string value of\n   * indendation prior to that tag and 2) the index of that tag on that line -\n   * eg a value of 2 indicates the partial is the third tag on this line.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n    var lineHasNonSpace = false;\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n    var indentation = '';  // Tracks indentation for tags that use it\n    var tagIndex = 0;      // Stores a count of number of tags encountered on a line\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n            indentation += chr;\n          } else {\n            nonSpace = true;\n            lineHasNonSpace = true;\n            indentation += ' ';\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n') {\n            stripSpace();\n            indentation = '';\n            tagIndex = 0;\n            lineHasNonSpace = false;\n          }\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      if (type == '>') {\n        token = [ type, value, start, scanner.pos, indentation, tagIndex, lineHasNonSpace ];\n      } else {\n        token = [ type, value, start, scanner.pos ];\n      }\n      tagIndex++;\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    stripSpace();\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, intermediateValue, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          intermediateValue = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           *\n           * In the case where dot notation is used, we consider the lookup\n           * to be successful even if the last \"object\" in the path is\n           * not actually an object but a primitive (e.g., a string, or an\n           * integer), because it is sometimes useful to access a property\n           * of an autoboxed primitive, such as the length of a string.\n           **/\n          while (intermediateValue != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = (\n                hasProperty(intermediateValue, names[index])\n                || primitiveHasOwnProperty(intermediateValue, names[index])\n              );\n\n            intermediateValue = intermediateValue[names[index++]];\n          }\n        } else {\n          intermediateValue = context.view[name];\n\n          /**\n           * Only checking against `hasProperty`, which always returns `false` if\n           * `context.view` is not an object. Deliberately omitting the check\n           * against `primitiveHasOwnProperty` if dot notation is not used.\n           *\n           * Consider this example:\n           * ```\n           * Mustache.render(\"The length of a football field is {{#length}}{{length}}{{/length}}.\", {length: \"100 yards\"})\n           * ```\n           *\n           * If we were to check also against `primitiveHasOwnProperty`, as we do\n           * in the dot notation case, then render call would return:\n           *\n           * \"The length of a football field is 9.\"\n           *\n           * rather than the expected:\n           *\n           * \"The length of a football field is 100 yards.\"\n           **/\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit) {\n          value = intermediateValue;\n          break;\n        }\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.templateCache = {\n      _cache: {},\n      set: function set (key, value) {\n        this._cache[key] = value;\n      },\n      get: function get (key) {\n        return this._cache[key];\n      },\n      clear: function clear () {\n        this._cache = {};\n      }\n    };\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    if (typeof this.templateCache !== 'undefined') {\n      this.templateCache.clear();\n    }\n  };\n\n  /**\n   * Parses and caches the given `template` according to the given `tags` or\n   * `mustache.tags` if `tags` is omitted,  and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.templateCache;\n    var cacheKey = template + ':' + (tags || mustache.tags).join(':');\n    var isCacheEnabled = typeof cache !== 'undefined';\n    var tokens = isCacheEnabled ? cache.get(cacheKey) : undefined;\n\n    if (tokens == undefined) {\n      tokens = parseTemplate(template, tags);\n      isCacheEnabled && cache.set(cacheKey, tokens);\n    }\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   *\n   * If the optional `config` argument is given here, then it should be an\n   * object with a `tags` attribute or an `escape` attribute or both.\n   * If an array is passed, then it will be interpreted the same way as\n   * a `tags` attribute on a `config` object.\n   *\n   * The `tags` attribute of a `config` object must be an array with two\n   * string values: the opening and closing tags used in the template (e.g.\n   * [ \"<%\", \"%>\" ]). The default is to mustache.tags.\n   *\n   * The `escape` attribute of a `config` object must be a function which\n   * accepts a string as input and outputs a safely escaped string.\n   * If an `escape` function is not provided, then an HTML-safe string\n   * escaping function is used as the default.\n   */\n  Writer.prototype.render = function render (template, view, partials, config) {\n    var tags = this.getConfigTags(config);\n    var tokens = this.parse(template, tags);\n    var context = (view instanceof Context) ? view : new Context(view, undefined);\n    return this.renderTokens(tokens, context, partials, template, config);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate, config) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate, config);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate, config);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, config);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context, config);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate, config) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials, config);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate, config);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate, config);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate, config);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate, config) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate, config);\n  };\n\n  Writer.prototype.indentPartial = function indentPartial (partial, indentation, lineHasNonSpace) {\n    var filteredIndentation = indentation.replace(/[^ \\t]/g, '');\n    var partialByNl = partial.split('\\n');\n    for (var i = 0; i < partialByNl.length; i++) {\n      if (partialByNl[i].length && (i > 0 || !lineHasNonSpace)) {\n        partialByNl[i] = filteredIndentation + partialByNl[i];\n      }\n    }\n    return partialByNl.join('\\n');\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials, config) {\n    if (!partials) return;\n    var tags = this.getConfigTags(config);\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null) {\n      var lineHasNonSpace = token[6];\n      var tagIndex = token[5];\n      var indentation = token[4];\n      var indentedValue = value;\n      if (tagIndex == 0 && indentation) {\n        indentedValue = this.indentPartial(value, indentation, lineHasNonSpace);\n      }\n      var tokens = this.parse(indentedValue, tags);\n      return this.renderTokens(tokens, context, partials, indentedValue, config);\n    }\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context, config) {\n    var escape = this.getConfigEscape(config) || mustache.escape;\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return (typeof value === 'number' && escape === mustache.escape) ? String(value) : escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  Writer.prototype.getConfigTags = function getConfigTags (config) {\n    if (isArray(config)) {\n      return config;\n    }\n    else if (config && typeof config === 'object') {\n      return config.tags;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  Writer.prototype.getConfigEscape = function getConfigEscape (config) {\n    if (config && typeof config === 'object' && !isArray(config)) {\n      return config.escape;\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  var mustache = {\n    name: 'mustache.js',\n    version: '4.2.0',\n    tags: [ '{{', '}}' ],\n    clearCache: undefined,\n    escape: undefined,\n    parse: undefined,\n    render: undefined,\n    Scanner: undefined,\n    Context: undefined,\n    Writer: undefined,\n    /**\n     * Allows a user to override the default caching strategy, by providing an\n     * object with set, get and clear methods. This can also be used to disable\n     * the cache by setting it to the literal `undefined`.\n     */\n    set templateCache (cache) {\n      defaultWriter.templateCache = cache;\n    },\n    /**\n     * Gets the default or overridden caching object from the default writer.\n     */\n    get templateCache () {\n      return defaultWriter.templateCache;\n    }\n  };\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view`, `partials`, and `config`\n   * using the default writer.\n   */\n  mustache.render = function render (template, view, partials, config) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials, config);\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n\n})));\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletConnection = exports.WalletAccount = exports.ConnectedWalletAccount = exports.Near = exports.KeyPair = exports.Signer = exports.InMemorySigner = exports.Contract = exports.Connection = exports.Account = exports.multisig = exports.validators = exports.transactions = exports.utils = exports.providers = exports.accountCreator = void 0;\n/** @hidden @module */\nconst providers = __importStar(require(\"./providers\"));\nexports.providers = providers;\nconst utils = __importStar(require(\"./utils\"));\nexports.utils = utils;\nconst transactions = __importStar(require(\"./transaction\"));\nexports.transactions = transactions;\nconst validators = __importStar(require(\"./validators\"));\nexports.validators = validators;\nconst account_1 = require(\"./account\");\nObject.defineProperty(exports, \"Account\", { enumerable: true, get: function () { return account_1.Account; } });\nconst multisig = __importStar(require(\"./account_multisig\"));\nexports.multisig = multisig;\nconst accountCreator = __importStar(require(\"./account_creator\"));\nexports.accountCreator = accountCreator;\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"Connection\", { enumerable: true, get: function () { return connection_1.Connection; } });\nconst signer_1 = require(\"./signer\");\nObject.defineProperty(exports, \"Signer\", { enumerable: true, get: function () { return signer_1.Signer; } });\nObject.defineProperty(exports, \"InMemorySigner\", { enumerable: true, get: function () { return signer_1.InMemorySigner; } });\nconst contract_1 = require(\"./contract\");\nObject.defineProperty(exports, \"Contract\", { enumerable: true, get: function () { return contract_1.Contract; } });\nconst key_pair_1 = require(\"./utils/key_pair\");\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nconst near_1 = require(\"./near\");\nObject.defineProperty(exports, \"Near\", { enumerable: true, get: function () { return near_1.Near; } });\n// TODO: Deprecate and remove WalletAccount\nconst wallet_account_1 = require(\"./wallet-account\");\nObject.defineProperty(exports, \"ConnectedWalletAccount\", { enumerable: true, get: function () { return wallet_account_1.ConnectedWalletAccount; } });\nObject.defineProperty(exports, \"WalletAccount\", { enumerable: true, get: function () { return wallet_account_1.WalletAccount; } });\nObject.defineProperty(exports, \"WalletConnection\", { enumerable: true, get: function () { return wallet_account_1.WalletConnection; } });\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Parallax = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],2:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n}).call(this,require('_process'))\n\n},{\"_process\":3}],3:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],4:[function(require,module,exports){\n(function (global){\nvar now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"performance-now\":2}],5:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Parallax.js\n* @author Matthew Wagerfield - @wagerfield, Ren Roth - mail@reneroth.org\n* @description Creates a parallax effect between an array of layers,\n*              driving the motion from the gyroscope output of a smartdevice.\n*              If no gyroscope is available, the cursor position is used.\n*/\n\nvar rqAnFr = require('raf');\nvar objectAssign = require('object-assign');\n\nvar helpers = {\n  propertyCache: {},\n  vendors: [null, ['-webkit-', 'webkit'], ['-moz-', 'Moz'], ['-o-', 'O'], ['-ms-', 'ms']],\n\n  clamp: function clamp(value, min, max) {\n    return min < max ? value < min ? min : value > max ? max : value : value < max ? max : value > min ? min : value;\n  },\n  data: function data(element, name) {\n    return helpers.deserialize(element.getAttribute('data-' + name));\n  },\n  deserialize: function deserialize(value) {\n    if (value === 'true') {\n      return true;\n    } else if (value === 'false') {\n      return false;\n    } else if (value === 'null') {\n      return null;\n    } else if (!isNaN(parseFloat(value)) && isFinite(value)) {\n      return parseFloat(value);\n    } else {\n      return value;\n    }\n  },\n  camelCase: function camelCase(value) {\n    return value.replace(/-+(.)?/g, function (match, character) {\n      return character ? character.toUpperCase() : '';\n    });\n  },\n  accelerate: function accelerate(element) {\n    helpers.css(element, 'transform', 'translate3d(0,0,0) rotate(0.0001deg)');\n    helpers.css(element, 'transform-style', 'preserve-3d');\n    helpers.css(element, 'backface-visibility', 'hidden');\n  },\n  transformSupport: function transformSupport(value) {\n    var element = document.createElement('div'),\n        propertySupport = false,\n        propertyValue = null,\n        featureSupport = false,\n        cssProperty = null,\n        jsProperty = null;\n    for (var i = 0, l = helpers.vendors.length; i < l; i++) {\n      if (helpers.vendors[i] !== null) {\n        cssProperty = helpers.vendors[i][0] + 'transform';\n        jsProperty = helpers.vendors[i][1] + 'Transform';\n      } else {\n        cssProperty = 'transform';\n        jsProperty = 'transform';\n      }\n      if (element.style[jsProperty] !== undefined) {\n        propertySupport = true;\n        break;\n      }\n    }\n    switch (value) {\n      case '2D':\n        featureSupport = propertySupport;\n        break;\n      case '3D':\n        if (propertySupport) {\n          var body = document.body || document.createElement('body'),\n              documentElement = document.documentElement,\n              documentOverflow = documentElement.style.overflow,\n              isCreatedBody = false;\n\n          if (!document.body) {\n            isCreatedBody = true;\n            documentElement.style.overflow = 'hidden';\n            documentElement.appendChild(body);\n            body.style.overflow = 'hidden';\n            body.style.background = '';\n          }\n\n          body.appendChild(element);\n          element.style[jsProperty] = 'translate3d(1px,1px,1px)';\n          propertyValue = window.getComputedStyle(element).getPropertyValue(cssProperty);\n          featureSupport = propertyValue !== undefined && propertyValue.length > 0 && propertyValue !== 'none';\n          documentElement.style.overflow = documentOverflow;\n          body.removeChild(element);\n\n          if (isCreatedBody) {\n            body.removeAttribute('style');\n            body.parentNode.removeChild(body);\n          }\n        }\n        break;\n    }\n    return featureSupport;\n  },\n  css: function css(element, property, value) {\n    var jsProperty = helpers.propertyCache[property];\n    if (!jsProperty) {\n      for (var i = 0, l = helpers.vendors.length; i < l; i++) {\n        if (helpers.vendors[i] !== null) {\n          jsProperty = helpers.camelCase(helpers.vendors[i][1] + '-' + property);\n        } else {\n          jsProperty = property;\n        }\n        if (element.style[jsProperty] !== undefined) {\n          helpers.propertyCache[property] = jsProperty;\n          break;\n        }\n      }\n    }\n    element.style[jsProperty] = value;\n  }\n};\n\nvar MAGIC_NUMBER = 30,\n    DEFAULTS = {\n  relativeInput: false,\n  clipRelativeInput: false,\n  inputElement: null,\n  hoverOnly: false,\n  calibrationThreshold: 100,\n  calibrationDelay: 500,\n  supportDelay: 500,\n  calibrateX: false,\n  calibrateY: true,\n  invertX: true,\n  invertY: true,\n  limitX: false,\n  limitY: false,\n  scalarX: 10.0,\n  scalarY: 10.0,\n  frictionX: 0.1,\n  frictionY: 0.1,\n  originX: 0.5,\n  originY: 0.5,\n  pointerEvents: false,\n  precision: 1,\n  onReady: null,\n  selector: null\n};\n\nvar Parallax = function () {\n  function Parallax(element, options) {\n    _classCallCheck(this, Parallax);\n\n    this.element = element;\n\n    var data = {\n      calibrateX: helpers.data(this.element, 'calibrate-x'),\n      calibrateY: helpers.data(this.element, 'calibrate-y'),\n      invertX: helpers.data(this.element, 'invert-x'),\n      invertY: helpers.data(this.element, 'invert-y'),\n      limitX: helpers.data(this.element, 'limit-x'),\n      limitY: helpers.data(this.element, 'limit-y'),\n      scalarX: helpers.data(this.element, 'scalar-x'),\n      scalarY: helpers.data(this.element, 'scalar-y'),\n      frictionX: helpers.data(this.element, 'friction-x'),\n      frictionY: helpers.data(this.element, 'friction-y'),\n      originX: helpers.data(this.element, 'origin-x'),\n      originY: helpers.data(this.element, 'origin-y'),\n      pointerEvents: helpers.data(this.element, 'pointer-events'),\n      precision: helpers.data(this.element, 'precision'),\n      relativeInput: helpers.data(this.element, 'relative-input'),\n      clipRelativeInput: helpers.data(this.element, 'clip-relative-input'),\n      hoverOnly: helpers.data(this.element, 'hover-only'),\n      inputElement: document.querySelector(helpers.data(this.element, 'input-element')),\n      selector: helpers.data(this.element, 'selector')\n    };\n\n    for (var key in data) {\n      if (data[key] === null) {\n        delete data[key];\n      }\n    }\n\n    objectAssign(this, DEFAULTS, data, options);\n\n    if (!this.inputElement) {\n      this.inputElement = this.element;\n    }\n\n    this.calibrationTimer = null;\n    this.calibrationFlag = true;\n    this.enabled = false;\n    this.depthsX = [];\n    this.depthsY = [];\n    this.raf = null;\n\n    this.bounds = null;\n    this.elementPositionX = 0;\n    this.elementPositionY = 0;\n    this.elementWidth = 0;\n    this.elementHeight = 0;\n\n    this.elementCenterX = 0;\n    this.elementCenterY = 0;\n\n    this.elementRangeX = 0;\n    this.elementRangeY = 0;\n\n    this.calibrationX = 0;\n    this.calibrationY = 0;\n\n    this.inputX = 0;\n    this.inputY = 0;\n\n    this.motionX = 0;\n    this.motionY = 0;\n\n    this.velocityX = 0;\n    this.velocityY = 0;\n\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onDeviceOrientation = this.onDeviceOrientation.bind(this);\n    this.onDeviceMotion = this.onDeviceMotion.bind(this);\n    this.onOrientationTimer = this.onOrientationTimer.bind(this);\n    this.onMotionTimer = this.onMotionTimer.bind(this);\n    this.onCalibrationTimer = this.onCalibrationTimer.bind(this);\n    this.onAnimationFrame = this.onAnimationFrame.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n\n    this.windowWidth = null;\n    this.windowHeight = null;\n    this.windowCenterX = null;\n    this.windowCenterY = null;\n    this.windowRadiusX = null;\n    this.windowRadiusY = null;\n    this.portrait = false;\n    this.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);\n    this.motionSupport = !!window.DeviceMotionEvent && !this.desktop;\n    this.orientationSupport = !!window.DeviceOrientationEvent && !this.desktop;\n    this.orientationStatus = 0;\n    this.motionStatus = 0;\n\n    this.initialise();\n  }\n\n  _createClass(Parallax, [{\n    key: 'initialise',\n    value: function initialise() {\n      if (this.transform2DSupport === undefined) {\n        this.transform2DSupport = helpers.transformSupport('2D');\n        this.transform3DSupport = helpers.transformSupport('3D');\n      }\n\n      // Configure Context Styles\n      if (this.transform3DSupport) {\n        helpers.accelerate(this.element);\n      }\n\n      var style = window.getComputedStyle(this.element);\n      if (style.getPropertyValue('position') === 'static') {\n        this.element.style.position = 'relative';\n      }\n\n      // Pointer events\n      if (!this.pointerEvents) {\n        this.element.style.pointerEvents = 'none';\n      }\n\n      // Setup\n      this.updateLayers();\n      this.updateDimensions();\n      this.enable();\n      this.queueCalibration(this.calibrationDelay);\n    }\n  }, {\n    key: 'doReadyCallback',\n    value: function doReadyCallback() {\n      if (this.onReady) {\n        this.onReady();\n      }\n    }\n  }, {\n    key: 'updateLayers',\n    value: function updateLayers() {\n      if (this.selector) {\n        this.layers = this.element.querySelectorAll(this.selector);\n      } else {\n        this.layers = this.element.children;\n      }\n\n      if (!this.layers.length) {\n        console.warn('ParallaxJS: Your scene does not have any layers.');\n      }\n\n      this.depthsX = [];\n      this.depthsY = [];\n\n      for (var index = 0; index < this.layers.length; index++) {\n        var layer = this.layers[index];\n\n        if (this.transform3DSupport) {\n          helpers.accelerate(layer);\n        }\n\n        layer.style.position = index ? 'absolute' : 'relative';\n        layer.style.display = 'block';\n        layer.style.left = 0;\n        layer.style.top = 0;\n\n        var depth = helpers.data(layer, 'depth') || 0;\n        this.depthsX.push(helpers.data(layer, 'depth-x') || depth);\n        this.depthsY.push(helpers.data(layer, 'depth-y') || depth);\n      }\n    }\n  }, {\n    key: 'updateDimensions',\n    value: function updateDimensions() {\n      this.windowWidth = window.innerWidth;\n      this.windowHeight = window.innerHeight;\n      this.windowCenterX = this.windowWidth * this.originX;\n      this.windowCenterY = this.windowHeight * this.originY;\n      this.windowRadiusX = Math.max(this.windowCenterX, this.windowWidth - this.windowCenterX);\n      this.windowRadiusY = Math.max(this.windowCenterY, this.windowHeight - this.windowCenterY);\n    }\n  }, {\n    key: 'updateBounds',\n    value: function updateBounds() {\n      this.bounds = this.inputElement.getBoundingClientRect();\n      this.elementPositionX = this.bounds.left;\n      this.elementPositionY = this.bounds.top;\n      this.elementWidth = this.bounds.width;\n      this.elementHeight = this.bounds.height;\n      this.elementCenterX = this.elementWidth * this.originX;\n      this.elementCenterY = this.elementHeight * this.originY;\n      this.elementRangeX = Math.max(this.elementCenterX, this.elementWidth - this.elementCenterX);\n      this.elementRangeY = Math.max(this.elementCenterY, this.elementHeight - this.elementCenterY);\n    }\n  }, {\n    key: 'queueCalibration',\n    value: function queueCalibration(delay) {\n      clearTimeout(this.calibrationTimer);\n      this.calibrationTimer = setTimeout(this.onCalibrationTimer, delay);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      if (this.enabled) {\n        return;\n      }\n      this.enabled = true;\n\n      if (this.orientationSupport) {\n        this.portrait = false;\n        window.addEventListener('deviceorientation', this.onDeviceOrientation);\n        this.detectionTimer = setTimeout(this.onOrientationTimer, this.supportDelay);\n      } else if (this.motionSupport) {\n        this.portrait = false;\n        window.addEventListener('devicemotion', this.onDeviceMotion);\n        this.detectionTimer = setTimeout(this.onMotionTimer, this.supportDelay);\n      } else {\n        this.calibrationX = 0;\n        this.calibrationY = 0;\n        this.portrait = false;\n        window.addEventListener('mousemove', this.onMouseMove);\n        this.doReadyCallback();\n      }\n\n      window.addEventListener('resize', this.onWindowResize);\n      this.raf = rqAnFr(this.onAnimationFrame);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      if (!this.enabled) {\n        return;\n      }\n      this.enabled = false;\n\n      if (this.orientationSupport) {\n        window.removeEventListener('deviceorientation', this.onDeviceOrientation);\n      } else if (this.motionSupport) {\n        window.removeEventListener('devicemotion', this.onDeviceMotion);\n      } else {\n        window.removeEventListener('mousemove', this.onMouseMove);\n      }\n\n      window.removeEventListener('resize', this.onWindowResize);\n      rqAnFr.cancel(this.raf);\n    }\n  }, {\n    key: 'calibrate',\n    value: function calibrate(x, y) {\n      this.calibrateX = x === undefined ? this.calibrateX : x;\n      this.calibrateY = y === undefined ? this.calibrateY : y;\n    }\n  }, {\n    key: 'invert',\n    value: function invert(x, y) {\n      this.invertX = x === undefined ? this.invertX : x;\n      this.invertY = y === undefined ? this.invertY : y;\n    }\n  }, {\n    key: 'friction',\n    value: function friction(x, y) {\n      this.frictionX = x === undefined ? this.frictionX : x;\n      this.frictionY = y === undefined ? this.frictionY : y;\n    }\n  }, {\n    key: 'scalar',\n    value: function scalar(x, y) {\n      this.scalarX = x === undefined ? this.scalarX : x;\n      this.scalarY = y === undefined ? this.scalarY : y;\n    }\n  }, {\n    key: 'limit',\n    value: function limit(x, y) {\n      this.limitX = x === undefined ? this.limitX : x;\n      this.limitY = y === undefined ? this.limitY : y;\n    }\n  }, {\n    key: 'origin',\n    value: function origin(x, y) {\n      this.originX = x === undefined ? this.originX : x;\n      this.originY = y === undefined ? this.originY : y;\n    }\n  }, {\n    key: 'setInputElement',\n    value: function setInputElement(element) {\n      this.inputElement = element;\n      this.updateDimensions();\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(element, x, y) {\n      x = x.toFixed(this.precision) + 'px';\n      y = y.toFixed(this.precision) + 'px';\n      if (this.transform3DSupport) {\n        helpers.css(element, 'transform', 'translate3d(' + x + ',' + y + ',0)');\n      } else if (this.transform2DSupport) {\n        helpers.css(element, 'transform', 'translate(' + x + ',' + y + ')');\n      } else {\n        element.style.left = x;\n        element.style.top = y;\n      }\n    }\n  }, {\n    key: 'onOrientationTimer',\n    value: function onOrientationTimer() {\n      if (this.orientationSupport && this.orientationStatus === 0) {\n        this.disable();\n        this.orientationSupport = false;\n        this.enable();\n      } else {\n        this.doReadyCallback();\n      }\n    }\n  }, {\n    key: 'onMotionTimer',\n    value: function onMotionTimer() {\n      if (this.motionSupport && this.motionStatus === 0) {\n        this.disable();\n        this.motionSupport = false;\n        this.enable();\n      } else {\n        this.doReadyCallback();\n      }\n    }\n  }, {\n    key: 'onCalibrationTimer',\n    value: function onCalibrationTimer() {\n      this.calibrationFlag = true;\n    }\n  }, {\n    key: 'onWindowResize',\n    value: function onWindowResize() {\n      this.updateDimensions();\n    }\n  }, {\n    key: 'onAnimationFrame',\n    value: function onAnimationFrame() {\n      this.updateBounds();\n      var calibratedInputX = this.inputX - this.calibrationX,\n          calibratedInputY = this.inputY - this.calibrationY;\n      if (Math.abs(calibratedInputX) > this.calibrationThreshold || Math.abs(calibratedInputY) > this.calibrationThreshold) {\n        this.queueCalibration(0);\n      }\n      if (this.portrait) {\n        this.motionX = this.calibrateX ? calibratedInputY : this.inputY;\n        this.motionY = this.calibrateY ? calibratedInputX : this.inputX;\n      } else {\n        this.motionX = this.calibrateX ? calibratedInputX : this.inputX;\n        this.motionY = this.calibrateY ? calibratedInputY : this.inputY;\n      }\n      this.motionX *= this.elementWidth * (this.scalarX / 100);\n      this.motionY *= this.elementHeight * (this.scalarY / 100);\n      if (!isNaN(parseFloat(this.limitX))) {\n        this.motionX = helpers.clamp(this.motionX, -this.limitX, this.limitX);\n      }\n      if (!isNaN(parseFloat(this.limitY))) {\n        this.motionY = helpers.clamp(this.motionY, -this.limitY, this.limitY);\n      }\n      this.velocityX += (this.motionX - this.velocityX) * this.frictionX;\n      this.velocityY += (this.motionY - this.velocityY) * this.frictionY;\n      for (var index = 0; index < this.layers.length; index++) {\n        var layer = this.layers[index],\n            depthX = this.depthsX[index],\n            depthY = this.depthsY[index],\n            xOffset = this.velocityX * (depthX * (this.invertX ? -1 : 1)),\n            yOffset = this.velocityY * (depthY * (this.invertY ? -1 : 1));\n        this.setPosition(layer, xOffset, yOffset);\n      }\n      this.raf = rqAnFr(this.onAnimationFrame);\n    }\n  }, {\n    key: 'rotate',\n    value: function rotate(beta, gamma) {\n      // Extract Rotation\n      var x = (beta || 0) / MAGIC_NUMBER,\n          //  -90 :: 90\n      y = (gamma || 0) / MAGIC_NUMBER; // -180 :: 180\n\n      // Detect Orientation Change\n      var portrait = this.windowHeight > this.windowWidth;\n      if (this.portrait !== portrait) {\n        this.portrait = portrait;\n        this.calibrationFlag = true;\n      }\n\n      if (this.calibrationFlag) {\n        this.calibrationFlag = false;\n        this.calibrationX = x;\n        this.calibrationY = y;\n      }\n\n      this.inputX = x;\n      this.inputY = y;\n    }\n  }, {\n    key: 'onDeviceOrientation',\n    value: function onDeviceOrientation(event) {\n      var beta = event.beta;\n      var gamma = event.gamma;\n      if (beta !== null && gamma !== null) {\n        this.orientationStatus = 1;\n        this.rotate(beta, gamma);\n      }\n    }\n  }, {\n    key: 'onDeviceMotion',\n    value: function onDeviceMotion(event) {\n      var beta = event.rotationRate.beta;\n      var gamma = event.rotationRate.gamma;\n      if (beta !== null && gamma !== null) {\n        this.motionStatus = 1;\n        this.rotate(beta, gamma);\n      }\n    }\n  }, {\n    key: 'onMouseMove',\n    value: function onMouseMove(event) {\n      var clientX = event.clientX,\n          clientY = event.clientY;\n\n      // reset input to center if hoverOnly is set and we're not hovering the element\n      if (this.hoverOnly && (clientX < this.elementPositionX || clientX > this.elementPositionX + this.elementWidth || clientY < this.elementPositionY || clientY > this.elementPositionY + this.elementHeight)) {\n        this.inputX = 0;\n        this.inputY = 0;\n        return;\n      }\n\n      if (this.relativeInput) {\n        // Clip mouse coordinates inside element bounds.\n        if (this.clipRelativeInput) {\n          clientX = Math.max(clientX, this.elementPositionX);\n          clientX = Math.min(clientX, this.elementPositionX + this.elementWidth);\n          clientY = Math.max(clientY, this.elementPositionY);\n          clientY = Math.min(clientY, this.elementPositionY + this.elementHeight);\n        }\n        // Calculate input relative to the element.\n        if (this.elementRangeX && this.elementRangeY) {\n          this.inputX = (clientX - this.elementPositionX - this.elementCenterX) / this.elementRangeX;\n          this.inputY = (clientY - this.elementPositionY - this.elementCenterY) / this.elementRangeY;\n        }\n      } else {\n        // Calculate input relative to the window.\n        if (this.windowRadiusX && this.windowRadiusY) {\n          this.inputX = (clientX - this.windowCenterX) / this.windowRadiusX;\n          this.inputY = (clientY - this.windowCenterY) / this.windowRadiusY;\n        }\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.disable();\n\n      clearTimeout(this.calibrationTimer);\n      clearTimeout(this.detectionTimer);\n\n      this.element.removeAttribute('style');\n      for (var index = 0; index < this.layers.length; index++) {\n        this.layers[index].removeAttribute('style');\n      }\n\n      delete this.element;\n      delete this.layers;\n    }\n  }, {\n    key: 'version',\n    value: function version() {\n      return '3.1.0';\n    }\n  }]);\n\n  return Parallax;\n}();\n\nmodule.exports = Parallax;\n\n},{\"object-assign\":1,\"raf\":4}]},{},[5])(5)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcmFmL2luZGV4LmpzIiwic3JjL3BhcmFsbGF4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNEO0FBQ0Q7QUFDQSxZQUFHLEtBQUssYUFBTCxJQUFzQixLQUFLLGFBQTlCLEVBQTZDO0FBQzNDLGVBQUssTUFBTCxHQUFjLENBQUMsVUFBVSxLQUFLLGdCQUFmLEdBQWtDLEtBQUssY0FBeEMsSUFBMEQsS0FBSyxhQUE3RTtBQUNBLGVBQUssTUFBTCxHQUFjLENBQUMsVUFBVSxLQUFLLGdCQUFmLEdBQWtDLEtBQUssY0FBeEMsSUFBMEQsS0FBSyxhQUE3RTtBQUNEO0FBQ0YsT0FiRCxNQWFPO0FBQ0w7QUFDQSxZQUFHLEtBQUssYUFBTCxJQUFzQixLQUFLLGFBQTlCLEVBQTZDO0FBQzNDLGVBQUssTUFBTCxHQUFjLENBQUMsVUFBVSxLQUFLLGFBQWhCLElBQWlDLEtBQUssYUFBcEQ7QUFDQSxlQUFLLE1BQUwsR0FBYyxDQUFDLFVBQVUsS0FBSyxhQUFoQixJQUFpQyxLQUFLLGFBQXBEO0FBQ0Q7QUFDRjtBQUNGOzs7OEJBRVM7QUFDUixXQUFLLE9BQUw7O0FBRUEsbUJBQWEsS0FBSyxnQkFBbEI7QUFDQSxtQkFBYSxLQUFLLGNBQWxCOztBQUVBLFdBQUssT0FBTCxDQUFhLGVBQWIsQ0FBNkIsT0FBN0I7QUFDQSxXQUFLLElBQUksUUFBUSxDQUFqQixFQUFvQixRQUFRLEtBQUssTUFBTCxDQUFZLE1BQXhDLEVBQWdELE9BQWhELEVBQXlEO0FBQ3ZELGFBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsZUFBbkIsQ0FBbUMsT0FBbkM7QUFDRDs7QUFFRCxhQUFPLEtBQUssT0FBWjtBQUNBLGFBQU8sS0FBSyxNQUFaO0FBQ0Q7Ozs4QkFFUztBQUNSLGFBQU8sT0FBUDtBQUNEOzs7Ozs7QUFJSCxPQUFPLE9BQVAsR0FBaUIsUUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi4yXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnZXROYW5vU2Vjb25kcywgaHJ0aW1lLCBsb2FkVGltZSwgbW9kdWxlTG9hZFRpbWUsIG5vZGVMb2FkVGltZSwgdXBUaW1lO1xuXG4gIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIG5vZGVMb2FkVGltZSkgLyAxZTY7XG4gICAgfTtcbiAgICBocnRpbWUgPSBwcm9jZXNzLmhydGltZTtcbiAgICBnZXROYW5vU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhyO1xuICAgICAgaHIgPSBocnRpbWUoKTtcbiAgICAgIHJldHVybiBoclswXSAqIDFlOSArIGhyWzFdO1xuICAgIH07XG4gICAgbW9kdWxlTG9hZFRpbWUgPSBnZXROYW5vU2Vjb25kcygpO1xuICAgIHVwVGltZSA9IHByb2Nlc3MudXB0aW1lKCkgKiAxZTk7XG4gICAgbm9kZUxvYWRUaW1lID0gbW9kdWxlTG9hZFRpbWUgLSB1cFRpbWU7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcmZvcm1hbmNlLW5vdy5qcy5tYXBcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG4gIHJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYWZcbn1cbiIsIi8qKlxuKiBQYXJhbGxheC5qc1xuKiBAYXV0aG9yIE1hdHRoZXcgV2FnZXJmaWVsZCAtIEB3YWdlcmZpZWxkLCBSZW7DqSBSb3RoIC0gbWFpbEByZW5lcm90aC5vcmdcbiogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBwYXJhbGxheCBlZmZlY3QgYmV0d2VlbiBhbiBhcnJheSBvZiBsYXllcnMsXG4qICAgICAgICAgICAgICBkcml2aW5nIHRoZSBtb3Rpb24gZnJvbSB0aGUgZ3lyb3Njb3BlIG91dHB1dCBvZiBhIHNtYXJ0ZGV2aWNlLlxuKiAgICAgICAgICAgICAgSWYgbm8gZ3lyb3Njb3BlIGlzIGF2YWlsYWJsZSwgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyB1c2VkLlxuKi9cblxuY29uc3QgcnFBbkZyID0gcmVxdWlyZSgncmFmJylcbmNvbnN0IG9iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKVxuXG5jb25zdCBoZWxwZXJzID0ge1xuICBwcm9wZXJ0eUNhY2hlOiB7fSxcbiAgdmVuZG9yczogW251bGwsIFsnLXdlYmtpdC0nLCd3ZWJraXQnXSwgWyctbW96LScsJ01veiddLCBbJy1vLScsJ08nXSwgWyctbXMtJywnbXMnXV0sXG5cbiAgY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIG1pbiA8IG1heFxuICAgICAgPyAodmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlKVxuICAgICAgOiAodmFsdWUgPCBtYXggPyBtYXggOiB2YWx1ZSA+IG1pbiA/IG1pbiA6IHZhbHVlKVxuICB9LFxuXG4gIGRhdGEoZWxlbWVudCwgbmFtZSkge1xuICAgIHJldHVybiBoZWxwZXJzLmRlc2VyaWFsaXplKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScrbmFtZSkpXG4gIH0sXG5cbiAgZGVzZXJpYWxpemUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSBlbHNlIGlmICghaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpICYmIGlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgfSxcblxuICBjYW1lbENhc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvLSsoLik/L2csIChtYXRjaCwgY2hhcmFjdGVyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgOiAnJ1xuICAgIH0pXG4gIH0sXG5cbiAgYWNjZWxlcmF0ZShlbGVtZW50KSB7XG4gICAgaGVscGVycy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCkgcm90YXRlKDAuMDAwMWRlZyknKVxuICAgIGhlbHBlcnMuY3NzKGVsZW1lbnQsICd0cmFuc2Zvcm0tc3R5bGUnLCAncHJlc2VydmUtM2QnKVxuICAgIGhlbHBlcnMuY3NzKGVsZW1lbnQsICdiYWNrZmFjZS12aXNpYmlsaXR5JywgJ2hpZGRlbicpXG4gIH0sXG5cbiAgdHJhbnNmb3JtU3VwcG9ydCh2YWx1ZSkge1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIHByb3BlcnR5U3VwcG9ydCA9IGZhbHNlLFxuICAgICAgICBwcm9wZXJ0eVZhbHVlID0gbnVsbCxcbiAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBmYWxzZSxcbiAgICAgICAgY3NzUHJvcGVydHkgPSBudWxsLFxuICAgICAgICBqc1Byb3BlcnR5ID0gbnVsbFxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gaGVscGVycy52ZW5kb3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGhlbHBlcnMudmVuZG9yc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICBjc3NQcm9wZXJ0eSA9IGhlbHBlcnMudmVuZG9yc1tpXVswXSArICd0cmFuc2Zvcm0nXG4gICAgICAgIGpzUHJvcGVydHkgPSBoZWxwZXJzLnZlbmRvcnNbaV1bMV0gKyAnVHJhbnNmb3JtJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzUHJvcGVydHkgPSAndHJhbnNmb3JtJ1xuICAgICAgICBqc1Byb3BlcnR5ID0gJ3RyYW5zZm9ybSdcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcGVydHlTdXBwb3J0ID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2godmFsdWUpIHtcbiAgICAgIGNhc2UgJzJEJzpcbiAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBwcm9wZXJ0eVN1cHBvcnRcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJzNEJzpcbiAgICAgICAgaWYgKHByb3BlcnR5U3VwcG9ydCkge1xuICAgICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5JyksXG4gICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgZG9jdW1lbnRPdmVyZmxvdyA9IGRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyxcbiAgICAgICAgICAgICAgaXNDcmVhdGVkQm9keSA9IGZhbHNlXG5cbiAgICAgICAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIGlzQ3JlYXRlZEJvZHkgPSB0cnVlXG4gICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGJvZHkpXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcbiAgICAgICAgICAgIGJvZHkuc3R5bGUuYmFja2dyb3VuZCA9ICcnXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgICAgICAgIGVsZW1lbnQuc3R5bGVbanNQcm9wZXJ0eV0gPSAndHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpJ1xuICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGNzc1Byb3BlcnR5KVxuICAgICAgICAgIGZlYXR1cmVTdXBwb3J0ID0gcHJvcGVydHlWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BlcnR5VmFsdWUubGVuZ3RoID4gMCAmJiBwcm9wZXJ0eVZhbHVlICE9PSAnbm9uZSdcbiAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBkb2N1bWVudE92ZXJmbG93XG4gICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KVxuXG4gICAgICAgICAgaWYgKCBpc0NyZWF0ZWRCb2R5ICkge1xuICAgICAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICAgICAgICAgIGJvZHkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChib2R5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZVN1cHBvcnRcbiAgfSxcblxuICBjc3MoZWxlbWVudCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbGV0IGpzUHJvcGVydHkgPSBoZWxwZXJzLnByb3BlcnR5Q2FjaGVbcHJvcGVydHldXG4gICAgaWYgKCFqc1Byb3BlcnR5KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGhlbHBlcnMudmVuZG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGhlbHBlcnMudmVuZG9yc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgIGpzUHJvcGVydHkgPSBoZWxwZXJzLmNhbWVsQ2FzZShoZWxwZXJzLnZlbmRvcnNbaV1bMV0gKyAnLScgKyBwcm9wZXJ0eSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqc1Byb3BlcnR5ID0gcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5zdHlsZVtqc1Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaGVscGVycy5wcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XSA9IGpzUHJvcGVydHlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVbanNQcm9wZXJ0eV0gPSB2YWx1ZVxuICB9XG5cbn1cblxuY29uc3QgTUFHSUNfTlVNQkVSID0gMzAsXG4gICAgICBERUZBVUxUUyA9IHtcbiAgICAgICAgcmVsYXRpdmVJbnB1dDogZmFsc2UsXG4gICAgICAgIGNsaXBSZWxhdGl2ZUlucHV0OiBmYWxzZSxcbiAgICAgICAgaW5wdXRFbGVtZW50OiBudWxsLFxuICAgICAgICBob3Zlck9ubHk6IGZhbHNlLFxuICAgICAgICBjYWxpYnJhdGlvblRocmVzaG9sZDogMTAwLFxuICAgICAgICBjYWxpYnJhdGlvbkRlbGF5OiA1MDAsXG4gICAgICAgIHN1cHBvcnREZWxheTogNTAwLFxuICAgICAgICBjYWxpYnJhdGVYOiBmYWxzZSxcbiAgICAgICAgY2FsaWJyYXRlWTogdHJ1ZSxcbiAgICAgICAgaW52ZXJ0WDogdHJ1ZSxcbiAgICAgICAgaW52ZXJ0WTogdHJ1ZSxcbiAgICAgICAgbGltaXRYOiBmYWxzZSxcbiAgICAgICAgbGltaXRZOiBmYWxzZSxcbiAgICAgICAgc2NhbGFyWDogMTAuMCxcbiAgICAgICAgc2NhbGFyWTogMTAuMCxcbiAgICAgICAgZnJpY3Rpb25YOiAwLjEsXG4gICAgICAgIGZyaWN0aW9uWTogMC4xLFxuICAgICAgICBvcmlnaW5YOiAwLjUsXG4gICAgICAgIG9yaWdpblk6IDAuNSxcbiAgICAgICAgcG9pbnRlckV2ZW50czogZmFsc2UsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgICAgb25SZWFkeTogbnVsbCxcbiAgICAgICAgc2VsZWN0b3I6IG51bGxcbiAgICAgIH1cblxuY2xhc3MgUGFyYWxsYXgge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgY2FsaWJyYXRlWDogaGVscGVycy5kYXRhKHRoaXMuZWxlbWVudCwgJ2NhbGlicmF0ZS14JyksXG4gICAgICBjYWxpYnJhdGVZOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnY2FsaWJyYXRlLXknKSxcbiAgICAgIGludmVydFg6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdpbnZlcnQteCcpLFxuICAgICAgaW52ZXJ0WTogaGVscGVycy5kYXRhKHRoaXMuZWxlbWVudCwgJ2ludmVydC15JyksXG4gICAgICBsaW1pdFg6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdsaW1pdC14JyksXG4gICAgICBsaW1pdFk6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdsaW1pdC15JyksXG4gICAgICBzY2FsYXJYOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnc2NhbGFyLXgnKSxcbiAgICAgIHNjYWxhclk6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdzY2FsYXIteScpLFxuICAgICAgZnJpY3Rpb25YOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnZnJpY3Rpb24teCcpLFxuICAgICAgZnJpY3Rpb25ZOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnZnJpY3Rpb24teScpLFxuICAgICAgb3JpZ2luWDogaGVscGVycy5kYXRhKHRoaXMuZWxlbWVudCwgJ29yaWdpbi14JyksXG4gICAgICBvcmlnaW5ZOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnb3JpZ2luLXknKSxcbiAgICAgIHBvaW50ZXJFdmVudHM6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdwb2ludGVyLWV2ZW50cycpLFxuICAgICAgcHJlY2lzaW9uOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAncHJlY2lzaW9uJyksXG4gICAgICByZWxhdGl2ZUlucHV0OiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAncmVsYXRpdmUtaW5wdXQnKSxcbiAgICAgIGNsaXBSZWxhdGl2ZUlucHV0OiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnY2xpcC1yZWxhdGl2ZS1pbnB1dCcpLFxuICAgICAgaG92ZXJPbmx5OiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnaG92ZXItb25seScpLFxuICAgICAgaW5wdXRFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdpbnB1dC1lbGVtZW50JykpLFxuICAgICAgc2VsZWN0b3I6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdzZWxlY3RvcicpXG4gICAgfVxuXG4gICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXRhW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XVxuICAgICAgfVxuICAgIH1cblxuICAgIG9iamVjdEFzc2lnbih0aGlzLCBERUZBVUxUUywgZGF0YSwgb3B0aW9ucylcblxuICAgIGlmKCF0aGlzLmlucHV0RWxlbWVudCkge1xuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnRcbiAgICB9XG5cbiAgICB0aGlzLmNhbGlicmF0aW9uVGltZXIgPSBudWxsXG4gICAgdGhpcy5jYWxpYnJhdGlvbkZsYWcgPSB0cnVlXG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgICB0aGlzLmRlcHRoc1ggPSBbXVxuICAgIHRoaXMuZGVwdGhzWSA9IFtdXG4gICAgdGhpcy5yYWYgPSBudWxsXG5cbiAgICB0aGlzLmJvdW5kcyA9IG51bGxcbiAgICB0aGlzLmVsZW1lbnRQb3NpdGlvblggPSAwXG4gICAgdGhpcy5lbGVtZW50UG9zaXRpb25ZID0gMFxuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gMFxuICAgIHRoaXMuZWxlbWVudEhlaWdodCA9IDBcblxuICAgIHRoaXMuZWxlbWVudENlbnRlclggPSAwXG4gICAgdGhpcy5lbGVtZW50Q2VudGVyWSA9IDBcblxuICAgIHRoaXMuZWxlbWVudFJhbmdlWCA9IDBcbiAgICB0aGlzLmVsZW1lbnRSYW5nZVkgPSAwXG5cbiAgICB0aGlzLmNhbGlicmF0aW9uWCA9IDBcbiAgICB0aGlzLmNhbGlicmF0aW9uWSA9IDBcblxuICAgIHRoaXMuaW5wdXRYID0gMFxuICAgIHRoaXMuaW5wdXRZID0gMFxuXG4gICAgdGhpcy5tb3Rpb25YID0gMFxuICAgIHRoaXMubW90aW9uWSA9IDBcblxuICAgIHRoaXMudmVsb2NpdHlYID0gMFxuICAgIHRoaXMudmVsb2NpdHlZID0gMFxuXG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbiA9IHRoaXMub25EZXZpY2VPcmllbnRhdGlvbi5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkRldmljZU1vdGlvbiA9IHRoaXMub25EZXZpY2VNb3Rpb24uYmluZCh0aGlzKVxuICAgIHRoaXMub25PcmllbnRhdGlvblRpbWVyID0gdGhpcy5vbk9yaWVudGF0aW9uVGltZXIuYmluZCh0aGlzKVxuICAgIHRoaXMub25Nb3Rpb25UaW1lciA9IHRoaXMub25Nb3Rpb25UaW1lci5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkNhbGlicmF0aW9uVGltZXIgPSB0aGlzLm9uQ2FsaWJyYXRpb25UaW1lci5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkFuaW1hdGlvbkZyYW1lID0gdGhpcy5vbkFuaW1hdGlvbkZyYW1lLmJpbmQodGhpcylcbiAgICB0aGlzLm9uV2luZG93UmVzaXplID0gdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLndpbmRvd1dpZHRoID0gbnVsbFxuICAgIHRoaXMud2luZG93SGVpZ2h0ID0gbnVsbFxuICAgIHRoaXMud2luZG93Q2VudGVyWCA9IG51bGxcbiAgICB0aGlzLndpbmRvd0NlbnRlclkgPSBudWxsXG4gICAgdGhpcy53aW5kb3dSYWRpdXNYID0gbnVsbFxuICAgIHRoaXMud2luZG93UmFkaXVzWSA9IG51bGxcbiAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2VcbiAgICB0aGlzLmRlc2t0b3AgPSAhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWR8QW5kcm9pZHxCbGFja0JlcnJ5fEJCMTB8bW9iaXx0YWJsZXR8b3BlcmEgbWluaXxuZXh1cyA3KS9pKVxuICAgIHRoaXMubW90aW9uU3VwcG9ydCA9ICEhd2luZG93LkRldmljZU1vdGlvbkV2ZW50ICYmICF0aGlzLmRlc2t0b3BcbiAgICB0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCA9ICEhd2luZG93LkRldmljZU9yaWVudGF0aW9uRXZlbnQgJiYgIXRoaXMuZGVza3RvcFxuICAgIHRoaXMub3JpZW50YXRpb25TdGF0dXMgPSAwXG4gICAgdGhpcy5tb3Rpb25TdGF0dXMgPSAwXG5cbiAgICB0aGlzLmluaXRpYWxpc2UoKVxuICB9XG5cbiAgaW5pdGlhbGlzZSgpIHtcbiAgICBpZiAodGhpcy50cmFuc2Zvcm0yRFN1cHBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50cmFuc2Zvcm0yRFN1cHBvcnQgPSBoZWxwZXJzLnRyYW5zZm9ybVN1cHBvcnQoJzJEJylcbiAgICAgIHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0ID0gaGVscGVycy50cmFuc2Zvcm1TdXBwb3J0KCczRCcpXG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIENvbnRleHQgU3R5bGVzXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0KSB7XG4gICAgICBoZWxwZXJzLmFjY2VsZXJhdGUodGhpcy5lbGVtZW50KVxuICAgIH1cblxuICAgIGxldCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICBpZiAoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSdcbiAgICB9XG5cbiAgICAvLyBQb2ludGVyIGV2ZW50c1xuICAgIGlmKCF0aGlzLnBvaW50ZXJFdmVudHMpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gICAgfVxuXG4gICAgLy8gU2V0dXBcbiAgICB0aGlzLnVwZGF0ZUxheWVycygpXG4gICAgdGhpcy51cGRhdGVEaW1lbnNpb25zKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gICAgdGhpcy5xdWV1ZUNhbGlicmF0aW9uKHRoaXMuY2FsaWJyYXRpb25EZWxheSlcbiAgfVxuXG4gIGRvUmVhZHlDYWxsYmFjaygpIHtcbiAgICBpZih0aGlzLm9uUmVhZHkpIHtcbiAgICAgIHRoaXMub25SZWFkeSgpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlTGF5ZXJzKCkge1xuICAgIGlmKHRoaXMuc2VsZWN0b3IpIHtcbiAgICAgIHRoaXMubGF5ZXJzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3RvcilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYXllcnMgPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW5cbiAgICB9XG5cbiAgICBpZighdGhpcy5sYXllcnMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1BhcmFsbGF4SlM6IFlvdXIgc2NlbmUgZG9lcyBub3QgaGF2ZSBhbnkgbGF5ZXJzLicpXG4gICAgfVxuXG4gICAgdGhpcy5kZXB0aHNYID0gW11cbiAgICB0aGlzLmRlcHRoc1kgPSBbXVxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGF5ZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgbGV0IGxheWVyID0gdGhpcy5sYXllcnNbaW5kZXhdXG5cbiAgICAgIGlmICh0aGlzLnRyYW5zZm9ybTNEU3VwcG9ydCkge1xuICAgICAgICBoZWxwZXJzLmFjY2VsZXJhdGUobGF5ZXIpXG4gICAgICB9XG5cbiAgICAgIGxheWVyLnN0eWxlLnBvc2l0aW9uID0gaW5kZXggPyAnYWJzb2x1dGUnIDogJ3JlbGF0aXZlJ1xuICAgICAgbGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgIGxheWVyLnN0eWxlLmxlZnQgPSAwXG4gICAgICBsYXllci5zdHlsZS50b3AgPSAwXG5cbiAgICAgIGxldCBkZXB0aCA9IGhlbHBlcnMuZGF0YShsYXllciwgJ2RlcHRoJykgfHwgMFxuICAgICAgdGhpcy5kZXB0aHNYLnB1c2goaGVscGVycy5kYXRhKGxheWVyLCAnZGVwdGgteCcpIHx8IGRlcHRoKVxuICAgICAgdGhpcy5kZXB0aHNZLnB1c2goaGVscGVycy5kYXRhKGxheWVyLCAnZGVwdGgteScpIHx8IGRlcHRoKVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB0aGlzLndpbmRvd0NlbnRlclggPSB0aGlzLndpbmRvd1dpZHRoICogdGhpcy5vcmlnaW5YXG4gICAgdGhpcy53aW5kb3dDZW50ZXJZID0gdGhpcy53aW5kb3dIZWlnaHQgKiB0aGlzLm9yaWdpbllcbiAgICB0aGlzLndpbmRvd1JhZGl1c1ggPSBNYXRoLm1heCh0aGlzLndpbmRvd0NlbnRlclgsIHRoaXMud2luZG93V2lkdGggLSB0aGlzLndpbmRvd0NlbnRlclgpXG4gICAgdGhpcy53aW5kb3dSYWRpdXNZID0gTWF0aC5tYXgodGhpcy53aW5kb3dDZW50ZXJZLCB0aGlzLndpbmRvd0hlaWdodCAtIHRoaXMud2luZG93Q2VudGVyWSlcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kcygpIHtcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuaW5wdXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgdGhpcy5lbGVtZW50UG9zaXRpb25YID0gdGhpcy5ib3VuZHMubGVmdFxuICAgIHRoaXMuZWxlbWVudFBvc2l0aW9uWSA9IHRoaXMuYm91bmRzLnRvcFxuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gdGhpcy5ib3VuZHMud2lkdGhcbiAgICB0aGlzLmVsZW1lbnRIZWlnaHQgPSB0aGlzLmJvdW5kcy5oZWlnaHRcbiAgICB0aGlzLmVsZW1lbnRDZW50ZXJYID0gdGhpcy5lbGVtZW50V2lkdGggKiB0aGlzLm9yaWdpblhcbiAgICB0aGlzLmVsZW1lbnRDZW50ZXJZID0gdGhpcy5lbGVtZW50SGVpZ2h0ICogdGhpcy5vcmlnaW5ZXG4gICAgdGhpcy5lbGVtZW50UmFuZ2VYID0gTWF0aC5tYXgodGhpcy5lbGVtZW50Q2VudGVyWCwgdGhpcy5lbGVtZW50V2lkdGggLSB0aGlzLmVsZW1lbnRDZW50ZXJYKVxuICAgIHRoaXMuZWxlbWVudFJhbmdlWSA9IE1hdGgubWF4KHRoaXMuZWxlbWVudENlbnRlclksIHRoaXMuZWxlbWVudEhlaWdodCAtIHRoaXMuZWxlbWVudENlbnRlclkpXG4gIH1cblxuICBxdWV1ZUNhbGlicmF0aW9uKGRlbGF5KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsaWJyYXRpb25UaW1lcilcbiAgICB0aGlzLmNhbGlicmF0aW9uVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMub25DYWxpYnJhdGlvblRpbWVyLCBkZWxheSlcbiAgfVxuXG4gIGVuYWJsZSgpIHtcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuXG4gICAgaWYgKHRoaXMub3JpZW50YXRpb25TdXBwb3J0KSB7XG4gICAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2VcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbilcbiAgICAgIHRoaXMuZGV0ZWN0aW9uVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMub25PcmllbnRhdGlvblRpbWVyLCB0aGlzLnN1cHBvcnREZWxheSlcbiAgICB9IGVsc2UgaWYgKHRoaXMubW90aW9uU3VwcG9ydCkge1xuICAgICAgdGhpcy5wb3J0cmFpdCA9IGZhbHNlXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgdGhpcy5vbkRldmljZU1vdGlvbilcbiAgICAgIHRoaXMuZGV0ZWN0aW9uVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMub25Nb3Rpb25UaW1lciwgdGhpcy5zdXBwb3J0RGVsYXkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsaWJyYXRpb25YID0gMFxuICAgICAgdGhpcy5jYWxpYnJhdGlvblkgPSAwXG4gICAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2VcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKVxuICAgICAgdGhpcy5kb1JlYWR5Q2FsbGJhY2soKVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKVxuICAgIHRoaXMucmFmID0gcnFBbkZyKHRoaXMub25BbmltYXRpb25GcmFtZSlcbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMub3JpZW50YXRpb25TdXBwb3J0KSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLm9uRGV2aWNlT3JpZW50YXRpb24pXG4gICAgfSBlbHNlIGlmICh0aGlzLm1vdGlvblN1cHBvcnQpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdkZXZpY2Vtb3Rpb24nLCB0aGlzLm9uRGV2aWNlTW90aW9uKVxuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSlcbiAgICB9XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSlcbiAgICBycUFuRnIuY2FuY2VsKHRoaXMucmFmKVxuICB9XG5cbiAgY2FsaWJyYXRlKHgsIHkpIHtcbiAgICB0aGlzLmNhbGlicmF0ZVggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmNhbGlicmF0ZVggOiB4XG4gICAgdGhpcy5jYWxpYnJhdGVZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jYWxpYnJhdGVZIDogeVxuICB9XG5cbiAgaW52ZXJ0KHgsIHkpIHtcbiAgICB0aGlzLmludmVydFggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmludmVydFggOiB4XG4gICAgdGhpcy5pbnZlcnRZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5pbnZlcnRZIDogeVxuICB9XG5cbiAgZnJpY3Rpb24oeCwgeSkge1xuICAgIHRoaXMuZnJpY3Rpb25YID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy5mcmljdGlvblggOiB4XG4gICAgdGhpcy5mcmljdGlvblkgPSB5ID09PSB1bmRlZmluZWQgPyB0aGlzLmZyaWN0aW9uWSA6IHlcbiAgfVxuXG4gIHNjYWxhcih4LCB5KSB7XG4gICAgdGhpcy5zY2FsYXJYID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy5zY2FsYXJYIDogeFxuICAgIHRoaXMuc2NhbGFyWSA9IHkgPT09IHVuZGVmaW5lZCA/IHRoaXMuc2NhbGFyWSA6IHlcbiAgfVxuXG4gIGxpbWl0KHgsIHkpIHtcbiAgICB0aGlzLmxpbWl0WCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMubGltaXRYIDogeFxuICAgIHRoaXMubGltaXRZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5saW1pdFkgOiB5XG4gIH1cblxuICBvcmlnaW4oeCwgeSkge1xuICAgIHRoaXMub3JpZ2luWCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMub3JpZ2luWCA6IHhcbiAgICB0aGlzLm9yaWdpblkgPSB5ID09PSB1bmRlZmluZWQgPyB0aGlzLm9yaWdpblkgOiB5XG4gIH1cblxuICBzZXRJbnB1dEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpXG4gIH1cblxuICBzZXRQb3NpdGlvbihlbGVtZW50LCB4LCB5KSB7XG4gICAgeCA9IHgudG9GaXhlZCh0aGlzLnByZWNpc2lvbikgKyAncHgnXG4gICAgeSA9IHkudG9GaXhlZCh0aGlzLnByZWNpc2lvbikgKyAncHgnXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0KSB7XG4gICAgICBoZWxwZXJzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB4ICsgJywnICsgeSArICcsMCknKVxuICAgIH0gZWxzZSBpZiAodGhpcy50cmFuc2Zvcm0yRFN1cHBvcnQpIHtcbiAgICAgIGhlbHBlcnMuY3NzKGVsZW1lbnQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB4ICsgJywnICsgeSArICcpJylcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0geFxuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB5XG4gICAgfVxuICB9XG5cbiAgb25PcmllbnRhdGlvblRpbWVyKCkge1xuICAgIGlmICh0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCAmJiB0aGlzLm9yaWVudGF0aW9uU3RhdHVzID09PSAwKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKVxuICAgICAgdGhpcy5vcmllbnRhdGlvblN1cHBvcnQgPSBmYWxzZVxuICAgICAgdGhpcy5lbmFibGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvUmVhZHlDYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgb25Nb3Rpb25UaW1lcigpIHtcbiAgICBpZiAodGhpcy5tb3Rpb25TdXBwb3J0ICYmIHRoaXMubW90aW9uU3RhdHVzID09PSAwKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKVxuICAgICAgdGhpcy5tb3Rpb25TdXBwb3J0ID0gZmFsc2VcbiAgICAgIHRoaXMuZW5hYmxlKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb1JlYWR5Q2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2FsaWJyYXRpb25UaW1lcigpIHtcbiAgICB0aGlzLmNhbGlicmF0aW9uRmxhZyA9IHRydWVcbiAgfVxuXG4gIG9uV2luZG93UmVzaXplKCkge1xuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpXG4gIH1cblxuICBvbkFuaW1hdGlvbkZyYW1lKCkge1xuICAgIHRoaXMudXBkYXRlQm91bmRzKClcbiAgICBsZXQgY2FsaWJyYXRlZElucHV0WCA9IHRoaXMuaW5wdXRYIC0gdGhpcy5jYWxpYnJhdGlvblgsXG4gICAgICAgIGNhbGlicmF0ZWRJbnB1dFkgPSB0aGlzLmlucHV0WSAtIHRoaXMuY2FsaWJyYXRpb25ZXG4gICAgaWYgKChNYXRoLmFicyhjYWxpYnJhdGVkSW5wdXRYKSA+IHRoaXMuY2FsaWJyYXRpb25UaHJlc2hvbGQpIHx8IChNYXRoLmFicyhjYWxpYnJhdGVkSW5wdXRZKSA+IHRoaXMuY2FsaWJyYXRpb25UaHJlc2hvbGQpKSB7XG4gICAgICB0aGlzLnF1ZXVlQ2FsaWJyYXRpb24oMClcbiAgICB9XG4gICAgaWYgKHRoaXMucG9ydHJhaXQpIHtcbiAgICAgIHRoaXMubW90aW9uWCA9IHRoaXMuY2FsaWJyYXRlWCA/IGNhbGlicmF0ZWRJbnB1dFkgOiB0aGlzLmlucHV0WVxuICAgICAgdGhpcy5tb3Rpb25ZID0gdGhpcy5jYWxpYnJhdGVZID8gY2FsaWJyYXRlZElucHV0WCA6IHRoaXMuaW5wdXRYXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW90aW9uWCA9IHRoaXMuY2FsaWJyYXRlWCA/IGNhbGlicmF0ZWRJbnB1dFggOiB0aGlzLmlucHV0WFxuICAgICAgdGhpcy5tb3Rpb25ZID0gdGhpcy5jYWxpYnJhdGVZID8gY2FsaWJyYXRlZElucHV0WSA6IHRoaXMuaW5wdXRZXG4gICAgfVxuICAgIHRoaXMubW90aW9uWCAqPSB0aGlzLmVsZW1lbnRXaWR0aCAqICh0aGlzLnNjYWxhclggLyAxMDApXG4gICAgdGhpcy5tb3Rpb25ZICo9IHRoaXMuZWxlbWVudEhlaWdodCAqICh0aGlzLnNjYWxhclkgLyAxMDApXG4gICAgaWYgKCFpc05hTihwYXJzZUZsb2F0KHRoaXMubGltaXRYKSkpIHtcbiAgICAgIHRoaXMubW90aW9uWCA9IGhlbHBlcnMuY2xhbXAodGhpcy5tb3Rpb25YLCAtdGhpcy5saW1pdFgsIHRoaXMubGltaXRYKVxuICAgIH1cbiAgICBpZiAoIWlzTmFOKHBhcnNlRmxvYXQodGhpcy5saW1pdFkpKSkge1xuICAgICAgdGhpcy5tb3Rpb25ZID0gaGVscGVycy5jbGFtcCh0aGlzLm1vdGlvblksIC10aGlzLmxpbWl0WSwgdGhpcy5saW1pdFkpXG4gICAgfVxuICAgIHRoaXMudmVsb2NpdHlYICs9ICh0aGlzLm1vdGlvblggLSB0aGlzLnZlbG9jaXR5WCkgKiB0aGlzLmZyaWN0aW9uWFxuICAgIHRoaXMudmVsb2NpdHlZICs9ICh0aGlzLm1vdGlvblkgLSB0aGlzLnZlbG9jaXR5WSkgKiB0aGlzLmZyaWN0aW9uWVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmxheWVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGxldCBsYXllciA9IHRoaXMubGF5ZXJzW2luZGV4XSxcbiAgICAgICAgICBkZXB0aFggPSB0aGlzLmRlcHRoc1hbaW5kZXhdLFxuICAgICAgICAgIGRlcHRoWSA9IHRoaXMuZGVwdGhzWVtpbmRleF0sXG4gICAgICAgICAgeE9mZnNldCA9IHRoaXMudmVsb2NpdHlYICogKGRlcHRoWCAqICh0aGlzLmludmVydFggPyAtMSA6IDEpKSxcbiAgICAgICAgICB5T2Zmc2V0ID0gdGhpcy52ZWxvY2l0eVkgKiAoZGVwdGhZICogKHRoaXMuaW52ZXJ0WSA/IC0xIDogMSkpXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKGxheWVyLCB4T2Zmc2V0LCB5T2Zmc2V0KVxuICAgIH1cbiAgICB0aGlzLnJhZiA9IHJxQW5Gcih0aGlzLm9uQW5pbWF0aW9uRnJhbWUpXG4gIH1cblxuICByb3RhdGUoYmV0YSwgZ2FtbWEpe1xuICAgIC8vIEV4dHJhY3QgUm90YXRpb25cbiAgICBsZXQgeCA9IChiZXRhIHx8IDApIC8gTUFHSUNfTlVNQkVSLCAvLyAgLTkwIDo6IDkwXG4gICAgICAgIHkgPSAoZ2FtbWEgfHwgMCkgLyBNQUdJQ19OVU1CRVIgLy8gLTE4MCA6OiAxODBcblxuICAgIC8vIERldGVjdCBPcmllbnRhdGlvbiBDaGFuZ2VcbiAgICBsZXQgcG9ydHJhaXQgPSB0aGlzLndpbmRvd0hlaWdodCA+IHRoaXMud2luZG93V2lkdGhcbiAgICBpZiAodGhpcy5wb3J0cmFpdCAhPT0gcG9ydHJhaXQpIHtcbiAgICAgIHRoaXMucG9ydHJhaXQgPSBwb3J0cmFpdFxuICAgICAgdGhpcy5jYWxpYnJhdGlvbkZsYWcgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FsaWJyYXRpb25GbGFnKSB7XG4gICAgICB0aGlzLmNhbGlicmF0aW9uRmxhZyA9IGZhbHNlXG4gICAgICB0aGlzLmNhbGlicmF0aW9uWCA9IHhcbiAgICAgIHRoaXMuY2FsaWJyYXRpb25ZID0geVxuICAgIH1cblxuICAgIHRoaXMuaW5wdXRYID0geFxuICAgIHRoaXMuaW5wdXRZID0geVxuICB9XG5cbiAgb25EZXZpY2VPcmllbnRhdGlvbihldmVudCkge1xuICAgIGxldCBiZXRhID0gZXZlbnQuYmV0YVxuICAgIGxldCBnYW1tYSA9IGV2ZW50LmdhbW1hXG4gICAgaWYgKGJldGEgIT09IG51bGwgJiYgZ2FtbWEgIT09IG51bGwpIHtcbiAgICAgIHRoaXMub3JpZW50YXRpb25TdGF0dXMgPSAxXG4gICAgICB0aGlzLnJvdGF0ZShiZXRhLCBnYW1tYSlcbiAgICB9XG4gIH1cblxuICBvbkRldmljZU1vdGlvbihldmVudCkge1xuICAgIGxldCBiZXRhID0gZXZlbnQucm90YXRpb25SYXRlLmJldGFcbiAgICBsZXQgZ2FtbWEgPSBldmVudC5yb3RhdGlvblJhdGUuZ2FtbWFcbiAgICBpZiAoYmV0YSAhPT0gbnVsbCAmJiBnYW1tYSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5tb3Rpb25TdGF0dXMgPSAxXG4gICAgICB0aGlzLnJvdGF0ZShiZXRhLCBnYW1tYSlcbiAgICB9XG4gIH1cblxuICBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIGxldCBjbGllbnRYID0gZXZlbnQuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFlcblxuICAgIC8vIHJlc2V0IGlucHV0IHRvIGNlbnRlciBpZiBob3Zlck9ubHkgaXMgc2V0IGFuZCB3ZSdyZSBub3QgaG92ZXJpbmcgdGhlIGVsZW1lbnRcbiAgICBpZih0aGlzLmhvdmVyT25seSAmJlxuICAgICAgKChjbGllbnRYIDwgdGhpcy5lbGVtZW50UG9zaXRpb25YIHx8IGNsaWVudFggPiB0aGlzLmVsZW1lbnRQb3NpdGlvblggKyB0aGlzLmVsZW1lbnRXaWR0aCkgfHxcbiAgICAgIChjbGllbnRZIDwgdGhpcy5lbGVtZW50UG9zaXRpb25ZIHx8IGNsaWVudFkgPiB0aGlzLmVsZW1lbnRQb3NpdGlvblkgKyB0aGlzLmVsZW1lbnRIZWlnaHQpKSkge1xuICAgICAgICB0aGlzLmlucHV0WCA9IDBcbiAgICAgICAgdGhpcy5pbnB1dFkgPSAwXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgaWYgKHRoaXMucmVsYXRpdmVJbnB1dCkge1xuICAgICAgLy8gQ2xpcCBtb3VzZSBjb29yZGluYXRlcyBpbnNpZGUgZWxlbWVudCBib3VuZHMuXG4gICAgICBpZiAodGhpcy5jbGlwUmVsYXRpdmVJbnB1dCkge1xuICAgICAgICBjbGllbnRYID0gTWF0aC5tYXgoY2xpZW50WCwgdGhpcy5lbGVtZW50UG9zaXRpb25YKVxuICAgICAgICBjbGllbnRYID0gTWF0aC5taW4oY2xpZW50WCwgdGhpcy5lbGVtZW50UG9zaXRpb25YICsgdGhpcy5lbGVtZW50V2lkdGgpXG4gICAgICAgIGNsaWVudFkgPSBNYXRoLm1heChjbGllbnRZLCB0aGlzLmVsZW1lbnRQb3NpdGlvblkpXG4gICAgICAgIGNsaWVudFkgPSBNYXRoLm1pbihjbGllbnRZLCB0aGlzLmVsZW1lbnRQb3NpdGlvblkgKyB0aGlzLmVsZW1lbnRIZWlnaHQpXG4gICAgICB9XG4gICAgICAvLyBDYWxjdWxhdGUgaW5wdXQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQuXG4gICAgICBpZih0aGlzLmVsZW1lbnRSYW5nZVggJiYgdGhpcy5lbGVtZW50UmFuZ2VZKSB7XG4gICAgICAgIHRoaXMuaW5wdXRYID0gKGNsaWVudFggLSB0aGlzLmVsZW1lbnRQb3NpdGlvblggLSB0aGlzLmVsZW1lbnRDZW50ZXJYKSAvIHRoaXMuZWxlbWVudFJhbmdlWFxuICAgICAgICB0aGlzLmlucHV0WSA9IChjbGllbnRZIC0gdGhpcy5lbGVtZW50UG9zaXRpb25ZIC0gdGhpcy5lbGVtZW50Q2VudGVyWSkgLyB0aGlzLmVsZW1lbnRSYW5nZVlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FsY3VsYXRlIGlucHV0IHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXG4gICAgICBpZih0aGlzLndpbmRvd1JhZGl1c1ggJiYgdGhpcy53aW5kb3dSYWRpdXNZKSB7XG4gICAgICAgIHRoaXMuaW5wdXRYID0gKGNsaWVudFggLSB0aGlzLndpbmRvd0NlbnRlclgpIC8gdGhpcy53aW5kb3dSYWRpdXNYXG4gICAgICAgIHRoaXMuaW5wdXRZID0gKGNsaWVudFkgLSB0aGlzLndpbmRvd0NlbnRlclkpIC8gdGhpcy53aW5kb3dSYWRpdXNZXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRpc2FibGUoKVxuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsaWJyYXRpb25UaW1lcilcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kZXRlY3Rpb25UaW1lcilcblxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB0aGlzLmxheWVyc1tpbmRleF0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuZWxlbWVudFxuICAgIGRlbGV0ZSB0aGlzLmxheWVyc1xuICB9XG5cbiAgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gJzMuMS4wJ1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJhbGxheFxuIl19\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlAccountCreator = exports.LocalAccountCreator = exports.AccountCreator = void 0;\nconst web_1 = require(\"./utils/web\");\n/**\n * Account creator provides an interface for implementations to actually create accounts\n */\nclass AccountCreator {\n}\nexports.AccountCreator = AccountCreator;\nclass LocalAccountCreator extends AccountCreator {\n    constructor(masterAccount, initialBalance) {\n        super();\n        this.masterAccount = masterAccount;\n        this.initialBalance = initialBalance;\n    }\n    /**\n     * Creates an account using a masterAccount, meaning the new account is created from an existing account\n     * @param newAccountId The name of the NEAR account to be created\n     * @param publicKey The public key from the masterAccount used to create this account\n     * @returns {Promise<void>}\n     */\n    async createAccount(newAccountId, publicKey) {\n        await this.masterAccount.createAccount(newAccountId, publicKey, this.initialBalance);\n    }\n}\nexports.LocalAccountCreator = LocalAccountCreator;\nclass UrlAccountCreator extends AccountCreator {\n    constructor(connection, helperUrl) {\n        super();\n        this.connection = connection;\n        this.helperUrl = helperUrl;\n    }\n    /**\n     * Creates an account using a helperUrl\n     * This is [hosted here](https://helper.nearprotocol.com) or set up locally with the [near-contract-helper](https://github.com/nearprotocol/near-contract-helper) repository\n     * @param newAccountId The name of the NEAR account to be created\n     * @param publicKey The public key from the masterAccount used to create this account\n     * @returns {Promise<void>}\n     */\n    async createAccount(newAccountId, publicKey) {\n        await web_1.fetchJson(`${this.helperUrl}/account`, JSON.stringify({ newAccountId, newAccountPublicKey: publicKey.toString() }));\n    }\n}\nexports.UrlAccountCreator = UrlAccountCreator;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logWarning = exports.rpc_errors = exports.KeyPairEd25519 = exports.KeyPair = exports.PublicKey = exports.format = exports.enums = exports.web = exports.serialize = exports.key_pair = void 0;\nconst key_pair = __importStar(require(\"./key_pair\"));\nexports.key_pair = key_pair;\nconst serialize = __importStar(require(\"./serialize\"));\nexports.serialize = serialize;\nconst web = __importStar(require(\"./web\"));\nexports.web = web;\nconst enums = __importStar(require(\"./enums\"));\nexports.enums = enums;\nconst format = __importStar(require(\"./format\"));\nexports.format = format;\nconst rpc_errors = __importStar(require(\"./rpc_errors\"));\nexports.rpc_errors = rpc_errors;\nconst key_pair_1 = require(\"./key_pair\");\nObject.defineProperty(exports, \"PublicKey\", { enumerable: true, get: function () { return key_pair_1.PublicKey; } });\nObject.defineProperty(exports, \"KeyPair\", { enumerable: true, get: function () { return key_pair_1.KeyPair; } });\nObject.defineProperty(exports, \"KeyPairEd25519\", { enumerable: true, get: function () { return key_pair_1.KeyPairEd25519; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"logWarning\", { enumerable: true, get: function () { return errors_1.logWarning; } });\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = exports.ErrorContext = exports.TypedError = void 0;\n/**\n * This module contains the {@link JsonRpcProvider} client class\n * which can be used to interact with the NEAR RPC API.\n * @see {@link providers/provider} for a list of request and response types\n */\nconst depd_1 = __importDefault(require(\"depd\"));\nconst provider_1 = require(\"./provider\");\nconst web_1 = require(\"../utils/web\");\nconst errors_1 = require(\"../utils/errors\");\nObject.defineProperty(exports, \"TypedError\", { enumerable: true, get: function () { return errors_1.TypedError; } });\nObject.defineProperty(exports, \"ErrorContext\", { enumerable: true, get: function () { return errors_1.ErrorContext; } });\nconst borsh_1 = require(\"borsh\");\nconst exponential_backoff_1 = __importDefault(require(\"../utils/exponential-backoff\"));\nconst rpc_errors_1 = require(\"../utils/rpc_errors\");\n// Default number of retries before giving up on a request.\nconst REQUEST_RETRY_NUMBER = 12;\n// Default wait until next retry in millis.\nconst REQUEST_RETRY_WAIT = 500;\n// Exponential back off for waiting to retry.\nconst REQUEST_RETRY_WAIT_BACKOFF = 1.5;\n/// Keep ids unique across all connections.\nlet _nextId = 123;\n/**\n * Client class to interact with the NEAR RPC API.\n * @see {@link https://github.com/near/nearcore/tree/master/chain/jsonrpc}\n */\nclass JsonRpcProvider extends provider_1.Provider {\n    /**\n     * @param connectionInfoOrUrl ConnectionInfo or RPC API endpoint URL (deprecated)\n     */\n    constructor(connectionInfoOrUrl) {\n        super();\n        if (connectionInfoOrUrl != null && typeof connectionInfoOrUrl == 'object') {\n            this.connection = connectionInfoOrUrl;\n        }\n        else {\n            const deprecate = depd_1.default('JsonRpcProvider(url?: string)');\n            deprecate('use `JsonRpcProvider(connectionInfo: ConnectionInfo)` instead');\n            this.connection = { url: connectionInfoOrUrl };\n        }\n    }\n    /**\n     * Gets the RPC's status\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#general-validator-status}\n     */\n    async status() {\n        return this.sendJsonRpc('status', []);\n    }\n    /**\n     * Sends a signed transaction to the RPC and waits until transaction is fully complete\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#send-transaction-await}\n     *\n     * @param signedTransaction The signed transaction being sent\n     */\n    async sendTransaction(signedTransaction) {\n        const bytes = signedTransaction.encode();\n        return this.sendJsonRpc('broadcast_tx_commit', [Buffer.from(bytes).toString('base64')]);\n    }\n    /**\n     * Sends a signed transaction to the RPC and immediately returns transaction hash\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#send-transaction-async)\n     * @param signedTransaction The signed transaction being sent\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async sendTransactionAsync(signedTransaction) {\n        const bytes = signedTransaction.encode();\n        return this.sendJsonRpc('broadcast_tx_async', [Buffer.from(bytes).toString('base64')]);\n    }\n    /**\n     * Gets a transaction's status from the RPC\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#transaction-status}\n     *\n     * @param txHash A transaction hash as either a Uint8Array or a base58 encoded string\n     * @param accountId The NEAR account that signed the transaction\n     */\n    async txStatus(txHash, accountId) {\n        if (typeof txHash === 'string') {\n            return this.txStatusString(txHash, accountId);\n        }\n        else {\n            return this.txStatusUint8Array(txHash, accountId);\n        }\n    }\n    async txStatusUint8Array(txHash, accountId) {\n        return this.sendJsonRpc('tx', [borsh_1.baseEncode(txHash), accountId]);\n    }\n    async txStatusString(txHash, accountId) {\n        return this.sendJsonRpc('tx', [txHash, accountId]);\n    }\n    /**\n     * Gets a transaction's status from the RPC with receipts\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#transaction-status-with-receipts)\n     * @param txHash The hash of the transaction\n     * @param accountId The NEAR account that signed the transaction\n     * @returns {Promise<FinalExecutionOutcome>}\n     */\n    async txStatusReceipts(txHash, accountId) {\n        return this.sendJsonRpc('EXPERIMENTAL_tx_status', [borsh_1.baseEncode(txHash), accountId]);\n    }\n    /**\n     * Query the RPC as [shown in the docs](https://docs.near.org/docs/develop/front-end/rpc#accounts--contracts)\n     * Query the RPC by passing an {@link RpcQueryRequest}\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#accounts--contracts}\n     *\n     * @typeParam T the shape of the returned query response\n     */\n    async query(...args) {\n        let result;\n        if (args.length === 1) {\n            result = await this.sendJsonRpc('query', args[0]);\n        }\n        else {\n            const [path, data] = args;\n            result = await this.sendJsonRpc('query', [path, data]);\n        }\n        if (result && result.error) {\n            throw new errors_1.TypedError(`Querying ${args} failed: ${result.error}.\\n${JSON.stringify(result, null, 2)}`, rpc_errors_1.getErrorTypeFromErrorMessage(result.error));\n        }\n        return result;\n    }\n    /**\n     * Query for block info from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * @see {@link https://docs.near.org/docs/interaction/rpc#block}\n     *\n     * @param blockQuery {@link BlockReference} (passing a {@link BlockId} is deprecated)\n     */\n    async block(blockQuery) {\n        const { finality } = blockQuery;\n        let { blockId } = blockQuery;\n        if (typeof blockQuery !== 'object') {\n            const deprecate = depd_1.default('JsonRpcProvider.block(blockId)');\n            deprecate('use `block({ blockId })` or `block({ finality })` instead');\n            blockId = blockQuery;\n        }\n        return this.sendJsonRpc('block', { block_id: blockId, finality });\n    }\n    /**\n     * Query changes in block from the RPC\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#block-details)\n     */\n    async blockChanges(blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes_in_block', { block_id: blockId, finality });\n    }\n    /**\n     * Queries for details about a specific chunk appending details of receipts and transactions to the same chunk data provided by a block\n     * @see {@link https://docs.near.org/docs/interaction/rpc#chunk}\n     *\n     * @param chunkId Hash of a chunk ID or shard ID\n     */\n    async chunk(chunkId) {\n        return this.sendJsonRpc('chunk', [chunkId]);\n    }\n    /**\n     * Query validators of the epoch defined by the given block id.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#detailed-validator-status}\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async validators(blockId) {\n        return this.sendJsonRpc('validators', [blockId]);\n    }\n    /**\n     * @deprecated\n     * Gets the genesis config from RPC\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#genesis-config}\n     */\n    async experimental_genesisConfig() {\n        const deprecate = depd_1.default('JsonRpcProvider.experimental_protocolConfig()');\n        deprecate('use `experimental_protocolConfig({ sync_checkpoint: \\'genesis\\' })` to fetch the up-to-date or genesis protocol config explicitly');\n        return await this.sendJsonRpc('EXPERIMENTAL_protocol_config', { sync_checkpoint: 'genesis' });\n    }\n    /**\n     * Gets the protocol config at a block from RPC\n     * @see {@link }\n     *\n     * @param blockReference specifies the block to get the protocol config for\n     */\n    async experimental_protocolConfig(blockReference) {\n        return await this.sendJsonRpc('EXPERIMENTAL_protocol_config', blockReference);\n    }\n    /**\n     * @deprecated Use {@link lightClientProof} instead\n     */\n    async experimental_lightClientProof(request) {\n        const deprecate = depd_1.default('JsonRpcProvider.experimental_lightClientProof(request)');\n        deprecate('use `lightClientProof` instead');\n        return await this.lightClientProof(request);\n    }\n    /**\n     * Gets a light client execution proof for verifying execution outcomes\n     * @see {@link https://github.com/nearprotocol/NEPs/blob/master/specs/ChainSpec/LightClient.md#light-client-proof}\n     */\n    async lightClientProof(request) {\n        return await this.sendJsonRpc('EXPERIMENTAL_light_client_proof', request);\n    }\n    /**\n     * Gets access key changes for a given array of accountIds\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-all)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accessKeyChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'all_access_key_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets single access key changes for a given array of access keys\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-access-key-changes-single)\n     * @returns {Promise<ChangeResult>}\n     */\n    async singleAccessKeyChanges(accessKeyArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'single_access_key_changes',\n            keys: accessKeyArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets account changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-account-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async accountChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'account_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets contract state changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: If you pass a keyPrefix it must be base64 encoded\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-state-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractStateChanges(accountIdArray, blockQuery, keyPrefix = '') {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'data_changes',\n            account_ids: accountIdArray,\n            key_prefix_base64: keyPrefix,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Gets contract code changes for a given array of accountIds\n     * pass block_id OR finality as blockQuery, not both\n     * Note: Change is returned in a base64 encoded WASM file\n     * See [docs for more info](https://docs.near.org/docs/develop/front-end/rpc#view-contract-code-changes)\n     * @returns {Promise<ChangeResult>}\n     */\n    async contractCodeChanges(accountIdArray, blockQuery) {\n        const { finality } = blockQuery;\n        const { blockId } = blockQuery;\n        return this.sendJsonRpc('EXPERIMENTAL_changes', {\n            changes_type: 'contract_code_changes',\n            account_ids: accountIdArray,\n            block_id: blockId,\n            finality\n        });\n    }\n    /**\n     * Returns gas price for a specific block_height or block_hash.\n     * @see {@link https://docs.near.org/docs/develop/front-end/rpc#gas-price}\n     *\n     * @param blockId Block hash or height, or null for latest.\n     */\n    async gasPrice(blockId) {\n        return await this.sendJsonRpc('gas_price', [blockId]);\n    }\n    /**\n     * Directly call the RPC specifying the method and params\n     *\n     * @param method RPC method\n     * @param params Parameters to the method\n     */\n    async sendJsonRpc(method, params) {\n        const response = await exponential_backoff_1.default(REQUEST_RETRY_WAIT, REQUEST_RETRY_NUMBER, REQUEST_RETRY_WAIT_BACKOFF, async () => {\n            try {\n                const request = {\n                    method,\n                    params,\n                    id: (_nextId++),\n                    jsonrpc: '2.0'\n                };\n                const response = await web_1.fetchJson(this.connection, JSON.stringify(request));\n                if (response.error) {\n                    if (typeof response.error.data === 'object') {\n                        if (typeof response.error.data.error_message === 'string' && typeof response.error.data.error_type === 'string') {\n                            // if error data has error_message and error_type properties, we consider that node returned an error in the old format\n                            throw new errors_1.TypedError(response.error.data.error_message, response.error.data.error_type);\n                        }\n                        throw rpc_errors_1.parseRpcError(response.error.data);\n                    }\n                    else {\n                        const errorMessage = `[${response.error.code}] ${response.error.message}: ${response.error.data}`;\n                        // NOTE: All this hackery is happening because structured errors not implemented\n                        // TODO: Fix when https://github.com/nearprotocol/nearcore/issues/1839 gets resolved\n                        if (response.error.data === 'Timeout' || errorMessage.includes('Timeout error')\n                            || errorMessage.includes('query has timed out')) {\n                            throw new errors_1.TypedError(errorMessage, 'TimeoutError');\n                        }\n                        throw new errors_1.TypedError(errorMessage, rpc_errors_1.getErrorTypeFromErrorMessage(response.error.data));\n                    }\n                }\n                // Success when response.error is not exist\n                return response;\n            }\n            catch (error) {\n                if (error.type === 'TimeoutError') {\n                    if (!process.env['NEAR_NO_LOGS']) {\n                        console.warn(`Retrying request to ${method} as it has timed out`, params);\n                    }\n                    return null;\n                }\n                throw error;\n            }\n        });\n        const { result } = response;\n        // From jsonrpc spec:\n        // result\n        //   This member is REQUIRED on success.\n        //   This member MUST NOT exist if there was an error invoking the method.\n        if (typeof result === 'undefined') {\n            throw new errors_1.TypedError(`Exceeded ${REQUEST_RETRY_NUMBER} attempts for request to ${method}.`, 'RetriesExceeded');\n        }\n        return result;\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\n","'use strict';\n\n// This is free and unencumbered software released into the public domain.\n// See LICENSE.md for more information.\n\n//\n// Utilities\n//\n\n/**\n * @param {number} a The number to test.\n * @param {number} min The minimum value in the range, inclusive.\n * @param {number} max The maximum value in the range, inclusive.\n * @return {boolean} True if a >= min and a <= max.\n */\nfunction inRange(a, min, max) {\n  return min <= a && a <= max;\n}\n\n/**\n * @param {*} o\n * @return {Object}\n */\nfunction ToDictionary(o) {\n  if (o === undefined) return {};\n  if (o === Object(o)) return o;\n  throw TypeError('Could not convert argument to dictionary');\n}\n\n/**\n * @param {string} string Input string of UTF-16 code units.\n * @return {!Array.<number>} Code points.\n */\nfunction stringToCodePoints(string) {\n  // https://heycam.github.io/webidl/#dfn-obtain-unicode\n\n  // 1. Let S be the DOMString value.\n  var s = String(string);\n\n  // 2. Let n be the length of S.\n  var n = s.length;\n\n  // 3. Initialize i to 0.\n  var i = 0;\n\n  // 4. Initialize U to be an empty sequence of Unicode characters.\n  var u = [];\n\n  // 5. While i < n:\n  while (i < n) {\n\n    // 1. Let c be the code unit in S at index i.\n    var c = s.charCodeAt(i);\n\n    // 2. Depending on the value of c:\n\n    // c < 0xD800 or c > 0xDFFF\n    if (c < 0xD800 || c > 0xDFFF) {\n      // Append to U the Unicode character with code point c.\n      u.push(c);\n    }\n\n    // 0xDC00  c  0xDFFF\n    else if (0xDC00 <= c && c <= 0xDFFF) {\n      // Append to U a U+FFFD REPLACEMENT CHARACTER.\n      u.push(0xFFFD);\n    }\n\n    // 0xD800  c  0xDBFF\n    else if (0xD800 <= c && c <= 0xDBFF) {\n      // 1. If i = n1, then append to U a U+FFFD REPLACEMENT\n      // CHARACTER.\n      if (i === n - 1) {\n        u.push(0xFFFD);\n      }\n      // 2. Otherwise, i < n1:\n      else {\n        // 1. Let d be the code unit in S at index i+1.\n        var d = string.charCodeAt(i + 1);\n\n        // 2. If 0xDC00  d  0xDFFF, then:\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // 1. Let a be c & 0x3FF.\n          var a = c & 0x3FF;\n\n          // 2. Let b be d & 0x3FF.\n          var b = d & 0x3FF;\n\n          // 3. Append to U the Unicode character with code point\n          // 2^16+2^10*a+b.\n          u.push(0x10000 + (a << 10) + b);\n\n          // 4. Set i to i+1.\n          i += 1;\n        }\n\n        // 3. Otherwise, d < 0xDC00 or d > 0xDFFF. Append to U a\n        // U+FFFD REPLACEMENT CHARACTER.\n        else  {\n          u.push(0xFFFD);\n        }\n      }\n    }\n\n    // 3. Set i to i+1.\n    i += 1;\n  }\n\n  // 6. Return U.\n  return u;\n}\n\n/**\n * @param {!Array.<number>} code_points Array of code points.\n * @return {string} string String of UTF-16 code units.\n */\nfunction codePointsToString(code_points) {\n  var s = '';\n  for (var i = 0; i < code_points.length; ++i) {\n    var cp = code_points[i];\n    if (cp <= 0xFFFF) {\n      s += String.fromCharCode(cp);\n    } else {\n      cp -= 0x10000;\n      s += String.fromCharCode((cp >> 10) + 0xD800,\n                               (cp & 0x3FF) + 0xDC00);\n    }\n  }\n  return s;\n}\n\n\n//\n// Implementation of Encoding specification\n// https://encoding.spec.whatwg.org/\n//\n\n//\n// 3. Terminology\n//\n\n/**\n * End-of-stream is a special token that signifies no more tokens\n * are in the stream.\n * @const\n */ var end_of_stream = -1;\n\n/**\n * A stream represents an ordered sequence of tokens.\n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} tokens Array of tokens that provide the\n * stream.\n */\nfunction Stream(tokens) {\n  /** @type {!Array.<number>} */\n  this.tokens = [].slice.call(tokens);\n}\n\nStream.prototype = {\n  /**\n   * @return {boolean} True if end-of-stream has been hit.\n   */\n  endOfStream: function() {\n    return !this.tokens.length;\n  },\n\n  /**\n   * When a token is read from a stream, the first token in the\n   * stream must be returned and subsequently removed, and\n   * end-of-stream must be returned otherwise.\n   *\n   * @return {number} Get the next token from the stream, or\n   * end_of_stream.\n   */\n   read: function() {\n    if (!this.tokens.length)\n      return end_of_stream;\n     return this.tokens.shift();\n   },\n\n  /**\n   * When one or more tokens are prepended to a stream, those tokens\n   * must be inserted, in given order, before the first token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The token(s) to prepend to the stream.\n   */\n  prepend: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.unshift(tokens.pop());\n    } else {\n      this.tokens.unshift(token);\n    }\n  },\n\n  /**\n   * When one or more tokens are pushed to a stream, those tokens\n   * must be inserted, in given order, after the last token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The tokens(s) to prepend to the stream.\n   */\n  push: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.push(tokens.shift());\n    } else {\n      this.tokens.push(token);\n    }\n  }\n};\n\n//\n// 4. Encodings\n//\n\n// 4.1 Encoders and decoders\n\n/** @const */\nvar finished = -1;\n\n/**\n * @param {boolean} fatal If true, decoding errors raise an exception.\n * @param {number=} opt_code_point Override the standard fallback code point.\n * @return {number} The code point to insert on a decoding error.\n */\nfunction decoderError(fatal, opt_code_point) {\n  if (fatal)\n    throw TypeError('Decoder error');\n  return opt_code_point || 0xFFFD;\n}\n\n/** @interface */\nfunction Decoder() {}\nDecoder.prototype = {\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point, or |finished|.\n   */\n  handler: function(stream, bite) {}\n};\n\n/** @interface */\nfunction Encoder() {}\nEncoder.prototype = {\n  /**\n   * @param {Stream} stream The stream of code points being encoded.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit, or |finished|.\n   */\n  handler: function(stream, code_point) {}\n};\n\n//\n// 7. API\n//\n\n/** @const */ var DEFAULT_ENCODING = 'utf-8';\n\n// 7.1 Interface TextDecoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextDecoder(encoding, options) {\n  if (!(this instanceof TextDecoder)) {\n    return new TextDecoder(encoding, options);\n  }\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {boolean} */\n  this._BOMseen = false;\n  /** @private @type {?Decoder} */\n  this._decoder = null;\n  /** @private @type {boolean} */\n  this._fatal = Boolean(options['fatal']);\n  /** @private @type {boolean} */\n  this._ignoreBOM = Boolean(options['ignoreBOM']);\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n  Object.defineProperty(this, 'fatal', {value: this._fatal});\n  Object.defineProperty(this, 'ignoreBOM', {value: this._ignoreBOM});\n}\n\nTextDecoder.prototype = {\n  /**\n   * @param {ArrayBufferView=} input The buffer of bytes to decode.\n   * @param {Object=} options\n   * @return {string} The decoded string.\n   */\n  decode: function decode(input, options) {\n    var bytes;\n    if (typeof input === 'object' && input instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input);\n    } else if (typeof input === 'object' && 'buffer' in input &&\n               input.buffer instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input.buffer,\n                             input.byteOffset,\n                             input.byteLength);\n    } else {\n      bytes = new Uint8Array(0);\n    }\n\n    options = ToDictionary(options);\n\n    if (!this._streaming) {\n      this._decoder = new UTF8Decoder({fatal: this._fatal});\n      this._BOMseen = false;\n    }\n    this._streaming = Boolean(options['stream']);\n\n    var input_stream = new Stream(bytes);\n\n    var code_points = [];\n\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n\n    while (!input_stream.endOfStream()) {\n      result = this._decoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (result === null)\n        continue;\n      if (Array.isArray(result))\n        code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n      else\n        code_points.push(result);\n    }\n    if (!this._streaming) {\n      do {\n        result = this._decoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (result === null)\n          continue;\n        if (Array.isArray(result))\n          code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n        else\n          code_points.push(result);\n      } while (!input_stream.endOfStream());\n      this._decoder = null;\n    }\n\n    if (code_points.length) {\n      // If encoding is one of utf-8, utf-16be, and utf-16le, and\n      // ignore BOM flag and BOM seen flag are unset, run these\n      // subsubsteps:\n      if (['utf-8'].indexOf(this.encoding) !== -1 &&\n          !this._ignoreBOM && !this._BOMseen) {\n        // If token is U+FEFF, set BOM seen flag.\n        if (code_points[0] === 0xFEFF) {\n          this._BOMseen = true;\n          code_points.shift();\n        } else {\n          // Otherwise, if token is not end-of-stream, set BOM seen\n          // flag and append token to output.\n          this._BOMseen = true;\n        }\n      }\n    }\n\n    return codePointsToString(code_points);\n  }\n};\n\n// 7.2 Interface TextEncoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextEncoder(encoding, options) {\n  if (!(this instanceof TextEncoder))\n    return new TextEncoder(encoding, options);\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {?Encoder} */\n  this._encoder = null;\n  /** @private @type {{fatal: boolean}} */\n  this._options = {fatal: Boolean(options['fatal'])};\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n}\n\nTextEncoder.prototype = {\n  /**\n   * @param {string=} opt_string The string to encode.\n   * @param {Object=} options\n   * @return {Uint8Array} Encoded bytes, as a Uint8Array.\n   */\n  encode: function encode(opt_string, options) {\n    opt_string = opt_string ? String(opt_string) : '';\n    options = ToDictionary(options);\n\n    // NOTE: This option is nonstandard. None of the encodings\n    // permitted for encoding (i.e. UTF-8, UTF-16) are stateful,\n    // so streaming is not necessary.\n    if (!this._streaming)\n      this._encoder = new UTF8Encoder(this._options);\n    this._streaming = Boolean(options['stream']);\n\n    var bytes = [];\n    var input_stream = new Stream(stringToCodePoints(opt_string));\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n    while (!input_stream.endOfStream()) {\n      result = this._encoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (Array.isArray(result))\n        bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n      else\n        bytes.push(result);\n    }\n    if (!this._streaming) {\n      while (true) {\n        result = this._encoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (Array.isArray(result))\n          bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n        else\n          bytes.push(result);\n      }\n      this._encoder = null;\n    }\n    return new Uint8Array(bytes);\n  }\n};\n\n//\n// 8. The encoding\n//\n\n// 8.1 utf-8\n\n/**\n * @constructor\n * @implements {Decoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Decoder(options) {\n  var fatal = options.fatal;\n\n  // utf-8's decoder's has an associated utf-8 code point, utf-8\n  // bytes seen, and utf-8 bytes needed (all initially 0), a utf-8\n  // lower boundary (initially 0x80), and a utf-8 upper boundary\n  // (initially 0xBF).\n  var /** @type {number} */ utf8_code_point = 0,\n      /** @type {number} */ utf8_bytes_seen = 0,\n      /** @type {number} */ utf8_bytes_needed = 0,\n      /** @type {number} */ utf8_lower_boundary = 0x80,\n      /** @type {number} */ utf8_upper_boundary = 0xBF;\n\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point.\n   */\n  this.handler = function(stream, bite) {\n    // 1. If byte is end-of-stream and utf-8 bytes needed is not 0,\n    // set utf-8 bytes needed to 0 and return error.\n    if (bite === end_of_stream && utf8_bytes_needed !== 0) {\n      utf8_bytes_needed = 0;\n      return decoderError(fatal);\n    }\n\n    // 2. If byte is end-of-stream, return finished.\n    if (bite === end_of_stream)\n      return finished;\n\n    // 3. If utf-8 bytes needed is 0, based on byte:\n    if (utf8_bytes_needed === 0) {\n\n      // 0x00 to 0x7F\n      if (inRange(bite, 0x00, 0x7F)) {\n        // Return a code point whose value is byte.\n        return bite;\n      }\n\n      // 0xC2 to 0xDF\n      if (inRange(bite, 0xC2, 0xDF)) {\n        // Set utf-8 bytes needed to 1 and utf-8 code point to byte\n        //  0xC0.\n        utf8_bytes_needed = 1;\n        utf8_code_point = bite - 0xC0;\n      }\n\n      // 0xE0 to 0xEF\n      else if (inRange(bite, 0xE0, 0xEF)) {\n        // 1. If byte is 0xE0, set utf-8 lower boundary to 0xA0.\n        if (bite === 0xE0)\n          utf8_lower_boundary = 0xA0;\n        // 2. If byte is 0xED, set utf-8 upper boundary to 0x9F.\n        if (bite === 0xED)\n          utf8_upper_boundary = 0x9F;\n        // 3. Set utf-8 bytes needed to 2 and utf-8 code point to\n        // byte  0xE0.\n        utf8_bytes_needed = 2;\n        utf8_code_point = bite - 0xE0;\n      }\n\n      // 0xF0 to 0xF4\n      else if (inRange(bite, 0xF0, 0xF4)) {\n        // 1. If byte is 0xF0, set utf-8 lower boundary to 0x90.\n        if (bite === 0xF0)\n          utf8_lower_boundary = 0x90;\n        // 2. If byte is 0xF4, set utf-8 upper boundary to 0x8F.\n        if (bite === 0xF4)\n          utf8_upper_boundary = 0x8F;\n        // 3. Set utf-8 bytes needed to 3 and utf-8 code point to\n        // byte  0xF0.\n        utf8_bytes_needed = 3;\n        utf8_code_point = bite - 0xF0;\n      }\n\n      // Otherwise\n      else {\n        // Return error.\n        return decoderError(fatal);\n      }\n\n      // Then (byte is in the range 0xC2 to 0xF4) set utf-8 code\n      // point to utf-8 code point << (6  utf-8 bytes needed) and\n      // return continue.\n      utf8_code_point = utf8_code_point << (6 * utf8_bytes_needed);\n      return null;\n    }\n\n    // 4. If byte is not in the range utf-8 lower boundary to utf-8\n    // upper boundary, run these substeps:\n    if (!inRange(bite, utf8_lower_boundary, utf8_upper_boundary)) {\n\n      // 1. Set utf-8 code point, utf-8 bytes needed, and utf-8\n      // bytes seen to 0, set utf-8 lower boundary to 0x80, and set\n      // utf-8 upper boundary to 0xBF.\n      utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n      utf8_lower_boundary = 0x80;\n      utf8_upper_boundary = 0xBF;\n\n      // 2. Prepend byte to stream.\n      stream.prepend(bite);\n\n      // 3. Return error.\n      return decoderError(fatal);\n    }\n\n    // 5. Set utf-8 lower boundary to 0x80 and utf-8 upper boundary\n    // to 0xBF.\n    utf8_lower_boundary = 0x80;\n    utf8_upper_boundary = 0xBF;\n\n    // 6. Increase utf-8 bytes seen by one and set utf-8 code point\n    // to utf-8 code point + (byte  0x80) << (6  (utf-8 bytes\n    // needed  utf-8 bytes seen)).\n    utf8_bytes_seen += 1;\n    utf8_code_point += (bite - 0x80) << (6 * (utf8_bytes_needed - utf8_bytes_seen));\n\n    // 7. If utf-8 bytes seen is not equal to utf-8 bytes needed,\n    // continue.\n    if (utf8_bytes_seen !== utf8_bytes_needed)\n      return null;\n\n    // 8. Let code point be utf-8 code point.\n    var code_point = utf8_code_point;\n\n    // 9. Set utf-8 code point, utf-8 bytes needed, and utf-8 bytes\n    // seen to 0.\n    utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n\n    // 10. Return a code point whose value is code point.\n    return code_point;\n  };\n}\n\n/**\n * @constructor\n * @implements {Encoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Encoder(options) {\n  var fatal = options.fatal;\n  /**\n   * @param {Stream} stream Input stream.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit.\n   */\n  this.handler = function(stream, code_point) {\n    // 1. If code point is end-of-stream, return finished.\n    if (code_point === end_of_stream)\n      return finished;\n\n    // 2. If code point is in the range U+0000 to U+007F, return a\n    // byte whose value is code point.\n    if (inRange(code_point, 0x0000, 0x007f))\n      return code_point;\n\n    // 3. Set count and offset based on the range code point is in:\n    var count, offset;\n    // U+0080 to U+07FF:    1 and 0xC0\n    if (inRange(code_point, 0x0080, 0x07FF)) {\n      count = 1;\n      offset = 0xC0;\n    }\n    // U+0800 to U+FFFF:    2 and 0xE0\n    else if (inRange(code_point, 0x0800, 0xFFFF)) {\n      count = 2;\n      offset = 0xE0;\n    }\n    // U+10000 to U+10FFFF: 3 and 0xF0\n    else if (inRange(code_point, 0x10000, 0x10FFFF)) {\n      count = 3;\n      offset = 0xF0;\n    }\n\n    // 4.Let bytes be a byte sequence whose first byte is (code\n    // point >> (6  count)) + offset.\n    var bytes = [(code_point >> (6 * count)) + offset];\n\n    // 5. Run these substeps while count is greater than 0:\n    while (count > 0) {\n\n      // 1. Set temp to code point >> (6  (count  1)).\n      var temp = code_point >> (6 * (count - 1));\n\n      // 2. Append to bytes 0x80 | (temp & 0x3F).\n      bytes.push(0x80 | (temp & 0x3F));\n\n      // 3. Decrease count by one.\n      count -= 1;\n    }\n\n    // 6. Return bytes bytes, in order.\n    return bytes;\n  };\n}\n\nexport {TextEncoder, TextDecoder};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.signTransaction = exports.createTransaction = exports.SCHEMA = exports.Action = exports.SignedTransaction = exports.Transaction = exports.Signature = exports.deleteAccount = exports.deleteKey = exports.addKey = exports.stake = exports.transfer = exports.functionCall = exports.stringifyJsonOrBytes = exports.deployContract = exports.createAccount = exports.DeleteAccount = exports.DeleteKey = exports.AddKey = exports.Stake = exports.Transfer = exports.FunctionCall = exports.DeployContract = exports.CreateAccount = exports.IAction = exports.functionCallAccessKey = exports.fullAccessKey = exports.AccessKey = exports.AccessKeyPermission = exports.FullAccessPermission = exports.FunctionCallPermission = void 0;\nconst js_sha256_1 = __importDefault(require(\"js-sha256\"));\nconst enums_1 = require(\"./utils/enums\");\nconst borsh_1 = require(\"borsh\");\nconst key_pair_1 = require(\"./utils/key_pair\");\nclass FunctionCallPermission extends enums_1.Assignable {\n}\nexports.FunctionCallPermission = FunctionCallPermission;\nclass FullAccessPermission extends enums_1.Assignable {\n}\nexports.FullAccessPermission = FullAccessPermission;\nclass AccessKeyPermission extends enums_1.Enum {\n}\nexports.AccessKeyPermission = AccessKeyPermission;\nclass AccessKey extends enums_1.Assignable {\n}\nexports.AccessKey = AccessKey;\nfunction fullAccessKey() {\n    return new AccessKey({ nonce: 0, permission: new AccessKeyPermission({ fullAccess: new FullAccessPermission({}) }) });\n}\nexports.fullAccessKey = fullAccessKey;\nfunction functionCallAccessKey(receiverId, methodNames, allowance) {\n    return new AccessKey({ nonce: 0, permission: new AccessKeyPermission({ functionCall: new FunctionCallPermission({ receiverId, allowance, methodNames }) }) });\n}\nexports.functionCallAccessKey = functionCallAccessKey;\nclass IAction extends enums_1.Assignable {\n}\nexports.IAction = IAction;\nclass CreateAccount extends IAction {\n}\nexports.CreateAccount = CreateAccount;\nclass DeployContract extends IAction {\n}\nexports.DeployContract = DeployContract;\nclass FunctionCall extends IAction {\n}\nexports.FunctionCall = FunctionCall;\nclass Transfer extends IAction {\n}\nexports.Transfer = Transfer;\nclass Stake extends IAction {\n}\nexports.Stake = Stake;\nclass AddKey extends IAction {\n}\nexports.AddKey = AddKey;\nclass DeleteKey extends IAction {\n}\nexports.DeleteKey = DeleteKey;\nclass DeleteAccount extends IAction {\n}\nexports.DeleteAccount = DeleteAccount;\nfunction createAccount() {\n    return new Action({ createAccount: new CreateAccount({}) });\n}\nexports.createAccount = createAccount;\nfunction deployContract(code) {\n    return new Action({ deployContract: new DeployContract({ code }) });\n}\nexports.deployContract = deployContract;\nfunction stringifyJsonOrBytes(args) {\n    const isUint8Array = args.byteLength !== undefined && args.byteLength === args.length;\n    const serializedArgs = isUint8Array ? args : Buffer.from(JSON.stringify(args));\n    return serializedArgs;\n}\nexports.stringifyJsonOrBytes = stringifyJsonOrBytes;\n/**\n * Constructs {@link Action} instance representing contract method call.\n *\n * @param methodName the name of the method to call\n * @param args arguments to pass to method. Can be either plain JS object which gets serialized as JSON automatically\n *  or `Uint8Array` instance which represents bytes passed as is.\n * @param gas max amount of gas that method call can use\n * @param deposit amount of NEAR (in yoctoNEAR) to send together with the call\n * @param stringify Convert input arguments into bytes array.\n */\nfunction functionCall(methodName, args, gas, deposit, stringify = stringifyJsonOrBytes) {\n    return new Action({ functionCall: new FunctionCall({ methodName, args: stringify(args), gas, deposit }) });\n}\nexports.functionCall = functionCall;\nfunction transfer(deposit) {\n    return new Action({ transfer: new Transfer({ deposit }) });\n}\nexports.transfer = transfer;\nfunction stake(stake, publicKey) {\n    return new Action({ stake: new Stake({ stake, publicKey }) });\n}\nexports.stake = stake;\nfunction addKey(publicKey, accessKey) {\n    return new Action({ addKey: new AddKey({ publicKey, accessKey }) });\n}\nexports.addKey = addKey;\nfunction deleteKey(publicKey) {\n    return new Action({ deleteKey: new DeleteKey({ publicKey }) });\n}\nexports.deleteKey = deleteKey;\nfunction deleteAccount(beneficiaryId) {\n    return new Action({ deleteAccount: new DeleteAccount({ beneficiaryId }) });\n}\nexports.deleteAccount = deleteAccount;\nclass Signature extends enums_1.Assignable {\n}\nexports.Signature = Signature;\nclass Transaction extends enums_1.Assignable {\n    encode() {\n        return borsh_1.serialize(exports.SCHEMA, this);\n    }\n    static decode(bytes) {\n        return borsh_1.deserialize(exports.SCHEMA, Transaction, bytes);\n    }\n}\nexports.Transaction = Transaction;\nclass SignedTransaction extends enums_1.Assignable {\n    encode() {\n        return borsh_1.serialize(exports.SCHEMA, this);\n    }\n    static decode(bytes) {\n        return borsh_1.deserialize(exports.SCHEMA, SignedTransaction, bytes);\n    }\n}\nexports.SignedTransaction = SignedTransaction;\n/**\n * Contains a list of the valid transaction Actions available with this API\n * @see {@link https://nomicon.io/RuntimeSpec/Actions.html | Actions Spec}\n */\nclass Action extends enums_1.Enum {\n}\nexports.Action = Action;\nexports.SCHEMA = new Map([\n    [Signature, { kind: 'struct', fields: [\n                ['keyType', 'u8'],\n                ['data', [64]]\n            ] }],\n    [SignedTransaction, { kind: 'struct', fields: [\n                ['transaction', Transaction],\n                ['signature', Signature]\n            ] }],\n    [Transaction, { kind: 'struct', fields: [\n                ['signerId', 'string'],\n                ['publicKey', key_pair_1.PublicKey],\n                ['nonce', 'u64'],\n                ['receiverId', 'string'],\n                ['blockHash', [32]],\n                ['actions', [Action]]\n            ] }],\n    [key_pair_1.PublicKey, { kind: 'struct', fields: [\n                ['keyType', 'u8'],\n                ['data', [32]]\n            ] }],\n    [AccessKey, { kind: 'struct', fields: [\n                ['nonce', 'u64'],\n                ['permission', AccessKeyPermission],\n            ] }],\n    [AccessKeyPermission, { kind: 'enum', field: 'enum', values: [\n                ['functionCall', FunctionCallPermission],\n                ['fullAccess', FullAccessPermission],\n            ] }],\n    [FunctionCallPermission, { kind: 'struct', fields: [\n                ['allowance', { kind: 'option', type: 'u128' }],\n                ['receiverId', 'string'],\n                ['methodNames', ['string']],\n            ] }],\n    [FullAccessPermission, { kind: 'struct', fields: [] }],\n    [Action, { kind: 'enum', field: 'enum', values: [\n                ['createAccount', CreateAccount],\n                ['deployContract', DeployContract],\n                ['functionCall', FunctionCall],\n                ['transfer', Transfer],\n                ['stake', Stake],\n                ['addKey', AddKey],\n                ['deleteKey', DeleteKey],\n                ['deleteAccount', DeleteAccount],\n            ] }],\n    [CreateAccount, { kind: 'struct', fields: [] }],\n    [DeployContract, { kind: 'struct', fields: [\n                ['code', ['u8']]\n            ] }],\n    [FunctionCall, { kind: 'struct', fields: [\n                ['methodName', 'string'],\n                ['args', ['u8']],\n                ['gas', 'u64'],\n                ['deposit', 'u128']\n            ] }],\n    [Transfer, { kind: 'struct', fields: [\n                ['deposit', 'u128']\n            ] }],\n    [Stake, { kind: 'struct', fields: [\n                ['stake', 'u128'],\n                ['publicKey', key_pair_1.PublicKey]\n            ] }],\n    [AddKey, { kind: 'struct', fields: [\n                ['publicKey', key_pair_1.PublicKey],\n                ['accessKey', AccessKey]\n            ] }],\n    [DeleteKey, { kind: 'struct', fields: [\n                ['publicKey', key_pair_1.PublicKey]\n            ] }],\n    [DeleteAccount, { kind: 'struct', fields: [\n                ['beneficiaryId', 'string']\n            ] }],\n]);\nfunction createTransaction(signerId, publicKey, receiverId, nonce, actions, blockHash) {\n    return new Transaction({ signerId, publicKey, nonce, receiverId, actions, blockHash });\n}\nexports.createTransaction = createTransaction;\n/**\n * Signs a given transaction from an account with given keys, applied to the given network\n * @param transaction The Transaction object to sign\n * @param signer The {Signer} object that assists with signing keys\n * @param accountId The human-readable NEAR account name\n * @param networkId The targeted network. (ex. default, betanet, etc)\n */\nasync function signTransactionObject(transaction, signer, accountId, networkId) {\n    const message = borsh_1.serialize(exports.SCHEMA, transaction);\n    const hash = new Uint8Array(js_sha256_1.default.sha256.array(message));\n    const signature = await signer.signMessage(message, accountId, networkId);\n    const signedTx = new SignedTransaction({\n        transaction,\n        signature: new Signature({ keyType: transaction.publicKey.keyType, data: signature.signature })\n    });\n    return [hash, signedTx];\n}\nasync function signTransaction(...args) {\n    if (args[0].constructor === Transaction) {\n        const [transaction, signer, accountId, networkId] = args;\n        return signTransactionObject(transaction, signer, accountId, networkId);\n    }\n    else {\n        const [receiverId, nonce, actions, blockHash, signer, accountId, networkId] = args;\n        const publicKey = await signer.getPublicKey(accountId, networkId);\n        const transaction = createTransaction(accountId, publicKey, receiverId, nonce, actions, blockHash);\n        return signTransactionObject(transaction, signer, accountId, networkId);\n    }\n}\nexports.signTransaction = signTransaction;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_FUNCTION_CALL_GAS = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n// Default amount of gas to be sent with the function calls. Used to pay for the fees\n// incurred while running the contract execution. The unused amount will be refunded back to\n// the originator.\n// Due to protocol changes that charge upfront for the maximum possible gas price inflation due to\n// full blocks, the price of max_prepaid_gas is decreased to `300 * 10**12`.\n// For discussion see https://github.com/nearprotocol/NEPs/issues/67\nexports.DEFAULT_FUNCTION_CALL_GAS = new bn_js_1.default('30000000000000');\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorTypeFromErrorMessage = exports.formatError = exports.parseResultError = exports.parseRpcError = exports.ServerError = void 0;\nconst mustache_1 = __importDefault(require(\"mustache\"));\nconst rpc_error_schema_json_1 = __importDefault(require(\"../generated/rpc_error_schema.json\"));\nconst error_messages_json_1 = __importDefault(require(\"../res/error_messages.json\"));\nconst common_index_1 = require(\"../common-index\");\nconst errors_1 = require(\"../utils/errors\");\nconst mustacheHelpers = {\n    formatNear: () => (n, render) => common_index_1.utils.format.formatNearAmount(render(n))\n};\nclass ServerError extends errors_1.TypedError {\n}\nexports.ServerError = ServerError;\nclass ServerTransactionError extends ServerError {\n}\nfunction parseRpcError(errorObj) {\n    const result = {};\n    const errorClassName = walkSubtype(errorObj, rpc_error_schema_json_1.default.schema, result, '');\n    // NOTE: This assumes that all errors extend TypedError\n    const error = new ServerError(formatError(errorClassName, result), errorClassName);\n    Object.assign(error, result);\n    return error;\n}\nexports.parseRpcError = parseRpcError;\nfunction parseResultError(result) {\n    const server_error = parseRpcError(result.status.Failure);\n    const server_tx_error = new ServerTransactionError();\n    Object.assign(server_tx_error, server_error);\n    server_tx_error.type = server_error.type;\n    server_tx_error.message = server_error.message;\n    server_tx_error.transaction_outcome = result.transaction_outcome;\n    return server_tx_error;\n}\nexports.parseResultError = parseResultError;\nfunction formatError(errorClassName, errorData) {\n    if (typeof error_messages_json_1.default[errorClassName] === 'string') {\n        return mustache_1.default.render(error_messages_json_1.default[errorClassName], {\n            ...errorData,\n            ...mustacheHelpers\n        });\n    }\n    return JSON.stringify(errorData);\n}\nexports.formatError = formatError;\n/**\n * Walks through defined schema returning error(s) recursively\n * @param errorObj The error to be parsed\n * @param schema A defined schema in JSON mapping to the RPC errors\n * @param result An object used in recursion or called directly\n * @param typeName The human-readable error type name as defined in the JSON mapping\n */\nfunction walkSubtype(errorObj, schema, result, typeName) {\n    let error;\n    let type;\n    let errorTypeName;\n    for (const errorName in schema) {\n        if (isString(errorObj[errorName])) {\n            // Return early if error type is in a schema\n            return errorObj[errorName];\n        }\n        if (isObject(errorObj[errorName])) {\n            error = errorObj[errorName];\n            type = schema[errorName];\n            errorTypeName = errorName;\n        }\n        else if (isObject(errorObj.kind) && isObject(errorObj.kind[errorName])) {\n            error = errorObj.kind[errorName];\n            type = schema[errorName];\n            errorTypeName = errorName;\n        }\n        else {\n            continue;\n        }\n    }\n    if (error && type) {\n        for (const prop of Object.keys(type.props)) {\n            result[prop] = error[prop];\n        }\n        return walkSubtype(error, schema, result, errorTypeName);\n    }\n    else {\n        // TODO: is this the right thing to do?\n        result.kind = errorObj;\n        return typeName;\n    }\n}\nfunction getErrorTypeFromErrorMessage(errorMessage) {\n    // This function should be removed when JSON RPC starts returning typed errors.\n    switch (true) {\n        case /^account .*? does not exist while viewing$/.test(errorMessage):\n            return 'AccountDoesNotExist';\n        case /^Account .*? doesn't exist$/.test(errorMessage):\n            return 'AccountDoesNotExist';\n        case /^access key .*? does not exist while viewing$/.test(errorMessage):\n            return 'AccessKeyDoesNotExist';\n        case /wasm execution failed with error: FunctionCallError\\(CompilationError\\(CodeDoesNotExist/.test(errorMessage):\n            return 'CodeDoesNotExist';\n        case /Transaction nonce \\d+ must be larger than nonce of the used access key \\d+/.test(errorMessage):\n            return 'InvalidNonce';\n        default:\n            return 'UntypedError';\n    }\n}\nexports.getErrorTypeFromErrorMessage = getErrorTypeFromErrorMessage;\n/**\n * Helper function determining if the argument is an object\n * @param n Value to check\n */\nfunction isObject(n) {\n    return Object.prototype.toString.call(n) === '[object Object]';\n}\n/**\n * Helper function determining if the argument is a string\n * @param n Value to check\n */\nfunction isString(n) {\n    return Object.prototype.toString.call(n) === '[object String]';\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contract = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\nconst providers_1 = require(\"./providers\");\nconst errors_1 = require(\"./utils/errors\");\n// Makes `function.name` return given name\nfunction nameFunction(name, body) {\n    return {\n        [name](...args) {\n            return body(...args);\n        }\n    }[name];\n}\nconst isUint8Array = (x) => x && x.byteLength !== undefined && x.byteLength === x.length;\nconst isObject = (x) => Object.prototype.toString.call(x) === '[object Object]';\n/**\n * Defines a smart contract on NEAR including the change (mutable) and view (non-mutable) methods\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#contract}\n * @example\n * ```js\n * import { Contract } from 'near-api-js';\n *\n * async function contractExample() {\n *   const methodOptions = {\n *     viewMethods: ['getMessageByAccountId'],\n *     changeMethods: ['addMessage']\n *   };\n *   const contract = new Contract(\n *     wallet.account(),\n *     'contract-id.testnet',\n *     methodOptions\n *   );\n *\n *   // use a contract view method\n *   const messages = await contract.getMessages({\n *     accountId: 'example-account.testnet'\n *   });\n *\n *   // use a contract change method\n *   await contract.addMessage({\n *      meta: 'some info',\n *      callbackUrl: 'https://example.com/callback',\n *      args: { text: 'my message' },\n *      amount: 1\n *   })\n * }\n * ```\n */\nclass Contract {\n    /**\n     * @param account NEAR account to sign change method transactions\n     * @param contractId NEAR account id where the contract is deployed\n     * @param options NEAR smart contract methods that your application will use. These will be available as `contract.methodName`\n     */\n    constructor(account, contractId, options) {\n        this.account = account;\n        this.contractId = contractId;\n        const { viewMethods = [], changeMethods = [] } = options;\n        viewMethods.forEach((methodName) => {\n            Object.defineProperty(this, methodName, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(methodName, async (args = {}, options = {}, ...ignored) => {\n                    if (ignored.length || !(isObject(args) || isUint8Array(args)) || !isObject(options)) {\n                        throw new errors_1.PositionalArgsError();\n                    }\n                    return this.account.viewFunction(this.contractId, methodName, args, options);\n                })\n            });\n        });\n        changeMethods.forEach((methodName) => {\n            Object.defineProperty(this, methodName, {\n                writable: false,\n                enumerable: true,\n                value: nameFunction(methodName, async (...args) => {\n                    if (args.length && (args.length > 3 || !(isObject(args[0]) || isUint8Array(args[0])))) {\n                        throw new errors_1.PositionalArgsError();\n                    }\n                    if (args.length > 1 || !(args[0] && args[0].args)) {\n                        const deprecate = depd_1.default('contract.methodName(args, gas, amount)');\n                        deprecate('use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead');\n                        return this._changeMethod({\n                            methodName,\n                            args: args[0],\n                            gas: args[1],\n                            amount: args[2]\n                        });\n                    }\n                    return this._changeMethod({ methodName, ...args[0] });\n                })\n            });\n        });\n    }\n    async _changeMethod({ args, methodName, gas, amount, meta, callbackUrl }) {\n        validateBNLike({ gas, amount });\n        const rawResult = await this.account.functionCall({\n            contractId: this.contractId,\n            methodName,\n            args,\n            gas,\n            attachedDeposit: amount,\n            walletMeta: meta,\n            walletCallbackUrl: callbackUrl\n        });\n        return providers_1.getTransactionLastResult(rawResult);\n    }\n}\nexports.Contract = Contract;\n/**\n * Validation on arguments being a big number from bn.js\n * Throws if an argument is not in BN format or otherwise invalid\n * @param argMap\n */\nfunction validateBNLike(argMap) {\n    const bnLike = 'number, decimal string or BN';\n    for (const argName of Object.keys(argMap)) {\n        const argValue = argMap[argName];\n        if (argValue && !bn_js_1.default.isBN(argValue) && isNaN(argValue)) {\n            throw new errors_1.ArgumentTypeError(argName, bnLike, argValue);\n        }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MergeKeyStore = exports.BrowserLocalStorageKeyStore = exports.InMemoryKeyStore = exports.KeyStore = void 0;\n/** @hidden @module */\nconst keystore_1 = require(\"./keystore\");\nObject.defineProperty(exports, \"KeyStore\", { enumerable: true, get: function () { return keystore_1.KeyStore; } });\nconst in_memory_key_store_1 = require(\"./in_memory_key_store\");\nObject.defineProperty(exports, \"InMemoryKeyStore\", { enumerable: true, get: function () { return in_memory_key_store_1.InMemoryKeyStore; } });\nconst browser_local_storage_key_store_1 = require(\"./browser_local_storage_key_store\");\nObject.defineProperty(exports, \"BrowserLocalStorageKeyStore\", { enumerable: true, get: function () { return browser_local_storage_key_store_1.BrowserLocalStorageKeyStore; } });\nconst merge_key_store_1 = require(\"./merge_key_store\");\nObject.defineProperty(exports, \"MergeKeyStore\", { enumerable: true, get: function () { return merge_key_store_1.MergeKeyStore; } });\n","\"use strict\";\n/**\n * NEAR RPC API request types and responses\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTransactionLastResult = exports.Provider = exports.IdType = exports.FinalExecutionStatusBasic = exports.ExecutionStatusBasic = void 0;\nvar ExecutionStatusBasic;\n(function (ExecutionStatusBasic) {\n    ExecutionStatusBasic[\"Unknown\"] = \"Unknown\";\n    ExecutionStatusBasic[\"Pending\"] = \"Pending\";\n    ExecutionStatusBasic[\"Failure\"] = \"Failure\";\n})(ExecutionStatusBasic = exports.ExecutionStatusBasic || (exports.ExecutionStatusBasic = {}));\nvar FinalExecutionStatusBasic;\n(function (FinalExecutionStatusBasic) {\n    FinalExecutionStatusBasic[\"NotStarted\"] = \"NotStarted\";\n    FinalExecutionStatusBasic[\"Started\"] = \"Started\";\n    FinalExecutionStatusBasic[\"Failure\"] = \"Failure\";\n})(FinalExecutionStatusBasic = exports.FinalExecutionStatusBasic || (exports.FinalExecutionStatusBasic = {}));\nvar IdType;\n(function (IdType) {\n    IdType[\"Transaction\"] = \"transaction\";\n    IdType[\"Receipt\"] = \"receipt\";\n})(IdType = exports.IdType || (exports.IdType = {}));\n/** @hidden */\nclass Provider {\n}\nexports.Provider = Provider;\n/** @hidden */\nfunction getTransactionLastResult(txResult) {\n    if (typeof txResult.status === 'object' && typeof txResult.status.SuccessValue === 'string') {\n        const value = Buffer.from(txResult.status.SuccessValue, 'base64').toString();\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return value;\n        }\n    }\n    return null;\n}\nexports.getTransactionLastResult = getTransactionLastResult;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @hidden @module */\nexports.keyStores = __importStar(require(\"./key_stores/browser-index\"));\n__exportStar(require(\"./common-index\"), exports);\n__exportStar(require(\"./browser-connect\"), exports);\nrequire(\"error-polyfill\");\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connect = void 0;\n/**\n * Connect to NEAR using the provided configuration.\n *\n * {@link ConnectConfig.networkId} and {@link ConnectConfig.nodeUrl} are required.\n *\n * To sign transactions you can also pass: {@link ConnectConfig.keyStore}\n *\n * Both are passed they are prioritize in that order.\n *\n * @see {@link ConnectConfig}\n * @example\n * ```js\n * async function initNear() {\n *   const near = await connect({\n *      networkId: 'testnet',\n *      nodeUrl: 'https://rpc.testnet.near.org'\n *   })\n * }\n * ```\n *\n * @module browserConnect\n */\nconst near_1 = require(\"./near\");\n/**\n * Initialize connection to Near network.\n */\nasync function connect(config) {\n    return new near_1.Near(config);\n}\nexports.connect = connect;\n","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.diffEpochValidators = exports.findSeatPrice = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst depd_1 = __importDefault(require(\"depd\"));\n/** Finds seat price given validators stakes and number of seats.\n *  Calculation follow the spec: https://nomicon.io/Economics/README.html#validator-selection\n * @params validators: current or next epoch validators.\n * @params maxNumberOfSeats: maximum number of seats in the network.\n * @params minimumStakeRatio: minimum stake ratio\n * @params protocolVersion: version of the protocol from genesis config\n */\nfunction findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio, protocolVersion) {\n    if (protocolVersion && protocolVersion < 49) {\n        return findSeatPriceForProtocolBefore49(validators, maxNumberOfSeats);\n    }\n    if (!minimumStakeRatio) {\n        const deprecate = depd_1.default('findSeatPrice(validators, maxNumberOfSeats)');\n        deprecate('`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead');\n        minimumStakeRatio = [1, 6250]; // harcoded minimumStakeRation from 12/7/21\n    }\n    return findSeatPriceForProtocolAfter49(validators, maxNumberOfSeats, minimumStakeRatio);\n}\nexports.findSeatPrice = findSeatPrice;\nfunction findSeatPriceForProtocolBefore49(validators, numSeats) {\n    const stakes = validators.map(v => new bn_js_1.default(v.stake, 10)).sort((a, b) => a.cmp(b));\n    const num = new bn_js_1.default(numSeats);\n    const stakesSum = stakes.reduce((a, b) => a.add(b));\n    if (stakesSum.lt(num)) {\n        throw new Error('Stakes are below seats');\n    }\n    // assert stakesSum >= numSeats\n    let left = new bn_js_1.default(1), right = stakesSum.add(new bn_js_1.default(1));\n    while (!left.eq(right.sub(new bn_js_1.default(1)))) {\n        const mid = left.add(right).div(new bn_js_1.default(2));\n        let found = false;\n        let currentSum = new bn_js_1.default(0);\n        for (let i = 0; i < stakes.length; ++i) {\n            currentSum = currentSum.add(stakes[i].div(mid));\n            if (currentSum.gte(num)) {\n                left = mid;\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            right = mid;\n        }\n    }\n    return left;\n}\n// nearcore reference: https://github.com/near/nearcore/blob/5a8ae263ec07930cd34d0dcf5bcee250c67c02aa/chain/epoch_manager/src/validator_selection.rs#L308;L315\nfunction findSeatPriceForProtocolAfter49(validators, maxNumberOfSeats, minimumStakeRatio) {\n    if (minimumStakeRatio.length != 2) {\n        throw Error('minimumStakeRatio should have 2 elements');\n    }\n    const stakes = validators.map(v => new bn_js_1.default(v.stake, 10)).sort((a, b) => a.cmp(b));\n    const stakesSum = stakes.reduce((a, b) => a.add(b));\n    if (validators.length < maxNumberOfSeats) {\n        return stakesSum.mul(new bn_js_1.default(minimumStakeRatio[0])).div(new bn_js_1.default(minimumStakeRatio[1]));\n    }\n    else {\n        return stakes[0].add(new bn_js_1.default(1));\n    }\n}\n/** Diff validators between current and next epoch.\n * Returns additions, subtractions and changes to validator set.\n * @params currentValidators: list of current validators.\n * @params nextValidators: list of next validators.\n */\nfunction diffEpochValidators(currentValidators, nextValidators) {\n    const validatorsMap = new Map();\n    currentValidators.forEach(v => validatorsMap.set(v.account_id, v));\n    const nextValidatorsSet = new Set(nextValidators.map(v => v.account_id));\n    return {\n        newValidators: nextValidators.filter(v => !validatorsMap.has(v.account_id)),\n        removedValidators: currentValidators.filter(v => !nextValidatorsSet.has(v.account_id)),\n        changedValidators: nextValidators.filter(v => (validatorsMap.has(v.account_id) && validatorsMap.get(v.account_id).stake != v.stake))\n            .map(v => ({ current: validatorsMap.get(v.account_id), next: v }))\n    };\n}\nexports.diffEpochValidators = diffEpochValidators;\n","module.exports = function () {\r\n    throw new Error(\"Not implemented.\");\r\n};","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Near = void 0;\n/**\n * This module contains the main class developers will use to interact with NEAR.\n * The {@link Near} class is used to interact with {@link Account | Accounts} through the {@link JsonRpcProvider.JsonRpcProvider | JsonRpcProvider}.\n * It is configured via the {@link NearConfig}.\n *\n * @example {@link https://docs.near.org/docs/develop/front-end/naj-quick-reference#account}\n *\n * @module near\n */\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst account_1 = require(\"./account\");\nconst connection_1 = require(\"./connection\");\nconst contract_1 = require(\"./contract\");\nconst account_creator_1 = require(\"./account_creator\");\n/**\n * This is the main class developers should use to interact with NEAR.\n * @example\n * ```js\n * const near = new Near(config);\n * ```\n */\nclass Near {\n    constructor(config) {\n        this.config = config;\n        this.connection = connection_1.Connection.fromConfig({\n            networkId: config.networkId,\n            provider: { type: 'JsonRpcProvider', args: { url: config.nodeUrl, headers: config.headers } },\n            signer: config.signer || { type: 'InMemorySigner', keyStore: config.keyStore || config.deps.keyStore }\n        });\n        if (config.masterAccount) {\n            // TODO: figure out better way of specifiying initial balance.\n            // Hardcoded number below must be enough to pay the gas cost to dev-deploy with near-shell for multiple times\n            const initialBalance = config.initialBalance ? new bn_js_1.default(config.initialBalance) : new bn_js_1.default('500000000000000000000000000');\n            this.accountCreator = new account_creator_1.LocalAccountCreator(new account_1.Account(this.connection, config.masterAccount), initialBalance);\n        }\n        else if (config.helperUrl) {\n            this.accountCreator = new account_creator_1.UrlAccountCreator(this.connection, config.helperUrl);\n        }\n        else {\n            this.accountCreator = null;\n        }\n    }\n    /**\n     * @param accountId near accountId used to interact with the network.\n     */\n    async account(accountId) {\n        const account = new account_1.Account(this.connection, accountId);\n        return account;\n    }\n    /**\n     * Create an account using the {@link AccountCreator}. Either:\n     * * using a masterAccount with {@link LocalAccountCreator}\n     * * using the helperUrl with {@link UrlAccountCreator}\n     * @see {@link NearConfig.masterAccount} and {@link NearConfig.helperUrl}-\n     *\n     * @param accountId\n     * @param publicKey\n     */\n    async createAccount(accountId, publicKey) {\n        if (!this.accountCreator) {\n            throw new Error('Must specify account creator, either via masterAccount or helperUrl configuration settings.');\n        }\n        await this.accountCreator.createAccount(accountId, publicKey);\n        return new account_1.Account(this.connection, accountId);\n    }\n    /**\n     * @deprecated Use {@link Contract} instead.\n     * @param contractId\n     * @param options\n     */\n    async loadContract(contractId, options) {\n        const account = new account_1.Account(this.connection, options.sender);\n        return new contract_1.Contract(account, contractId, options);\n    }\n    /**\n     * @deprecated Use {@link Account.sendMoney} instead.\n     * @param amount\n     * @param originator\n     * @param receiver\n     */\n    async sendTokens(amount, originator, receiver) {\n        console.warn('near.sendTokens is deprecated. Use `yourAccount.sendMoney` instead.');\n        const account = new account_1.Account(this.connection, originator);\n        const result = await account.sendMoney(receiver, amount);\n        return result.transaction_outcome.id;\n    }\n}\nexports.Near = Near;\n","module.exports = {\r\n    Class: require(\"./Class\"),\r\n    abstractMethod: require(\"./abstractMethod\")\r\n};"],"sourceRoot":""}