(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56552f57"],{"037f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"sale divcol gap2",attrs:{id:"wallets"}},[a("Alerts",{ref:"alerts"}),e._l(e.dataSale,(function(t,s){return a("aside",{key:s,staticClass:"card-wrapper font2 relative"},[a("v-card",{staticClass:"cartaTop",staticStyle:{display:"flex"}},[a("img",{attrs:{src:t.img,alt:"Referencial Image"}}),a("div",{staticClass:"contText divcol jcenter"},[a("h3",{staticClass:"font1 h6_em not_typography"},[e._v(e._s(t.domain))]),a("span",{staticClass:"h11_em normal"},[e._v(" Current price "+e._s(t.price)+" NEAR "),2==t.post_type?a("v-icon",[e._v("mdi-seal")]):e._e(),e._v(" "),a("br"),e._v(" ($"+e._s(t.dollar)+") ")],1)])]),a("v-card",{staticClass:"cartaDown divcol",staticStyle:{display:"flex"},attrs:{color:"var(--clr-card-3)"}},[a("aside",{staticClass:"contButtons spacee aend"},[a("v-btn",{staticClass:"h11_em btnOutline",on:{click:function(a){return e.showDialog(t)}}},[e._v(" EDIT POST ")]),t.active?a("v-btn",{staticClass:"h11_em btnOutline",attrs:{disabled:t.ResProgress},on:{click:function(a){return e.clickPause(t)}}},[e._v(" PAUSE SALE "),t.ResProgress?a("v-progress-circular",{attrs:{size:18,width:4,indeterminate:""}}):e._e()],1):a("v-btn",{staticClass:"h11_em btnOutline",attrs:{disabled:t.ResProgress},on:{click:function(a){return e.clickPause(t)}}},[e._v(" RESUME SALE "),t.ResProgress?a("v-progress-circular",{attrs:{size:18,width:4,indeterminate:""}}):e._e()],1),a("v-btn",{staticClass:"h11_em btn",on:{click:function(a){e.showDialog2(t),e.modalPurchased=!0,e.windowModal=1}}},[e._v(" CANCEL SALE ")])],1)])],1)})),a("v-dialog",{attrs:{"max-width":"400",scrollable:"",persistent:""},model:{value:e.modalSale,callback:function(t){e.modalSale=t},expression:"modalSale"}},[a("v-card",{staticClass:"modalSale divcol"},[a("v-toolbar",{staticStyle:{color:"#FFFFFF"},attrs:{color:"#B322D8"}},[a("v-btn",{attrs:{icon:"",dark:"",disabled:e.changeProgress},on:{click:e.closeDialog}},[a("v-icon",{staticStyle:{color:"#FFFFFF !important"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{"padding-left":"0 !important",color:"#FFFFFF !important"}},[a("span",{staticClass:"font2 h10_em not_clr",staticStyle:{color:"#FFFFFF"}},[e._v(e._s(e.editedItem.domain))])])],1),a("v-card",[a("div",{staticClass:"divcol"},[a("label",{staticClass:"h9_em",attrs:{for:"price"}},[e._v("PRICE")]),a("v-text-field",{attrs:{id:"price","hide-spin-buttons":"",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("div",{staticClass:"divcol"},[a("label",{staticClass:"h9_em",attrs:{for:"crypto"}},[e._v("POST TYPE")]),a("v-select",{attrs:{items:e.filterExpo.by,"item-text":"post_type","item-value":"post_type",id:"post_type",solo:"","menu-props":{bottom:!0,offsetY:!0}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-btn",{staticClass:"buttons-icon",attrs:{icon:""}},[a("v-icon",{attrs:{"x-small":""}},[e._v("mdi-arrow-down")])],1)]},proxy:!0},{key:"selection",fn:function(t){return[a("span",{staticClass:"cryptoSelect"},[e._v(" "+e._s(t.item.crypto)+" ")])]}},{key:"item",fn:function(t){return[a("span",{staticClass:"cryptoSelect"},[e._v(" "+e._s(t.item.crypto)+" ")])]}}]),model:{value:e.editedItem.post_type,callback:function(t){e.$set(e.editedItem,"post_type",t)},expression:"editedItem.post_type"}})],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btn3 h11_em",attrs:{disabled:e.changeProgress},on:{click:function(t){return e.updateDomainDeposit()}}},[e._v(" SAVE "),e.changeProgress?a("v-progress-circular",{attrs:{size:18,width:4,indeterminate:""}}):e._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":1==e.windowModal?450:900,scrollable:"",persistent:""},model:{value:e.modalPurchased,callback:function(t){e.modalPurchased=t},expression:"modalPurchased"}},[a("v-window",{attrs:{vertical:""},model:{value:e.windowModal,callback:function(t){e.windowModal=t},expression:"windowModal"}},[a("v-window-item",{attrs:{value:1}},[a("v-card",{staticClass:"modalPurchased divcol"},[a("h3",{staticClass:"h7_em tcenter"},[e._v("Do you wish to continue")]),a("p",{staticClass:"h10_em font2 tspace"},[e._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint atque voluptatem consectetur animi accusantium adipisci repudiandae! At reiciendis, voluptate, repellat ducimus deleniti repudiandae esse dicta odio adipisci, dolor tempora quam?")]),a("aside",{staticClass:"center gap2"},[a("v-btn",{staticClass:"btn2",attrs:{disabled:e.cancelProgress},on:{click:function(t){e.modalPurchased=!1}}},[e._v("CANCEL")]),a("v-btn",{staticClass:"btn",attrs:{disabled:e.cancelProgress},on:{click:function(t){return e.cancelDomain()}}},[e._v(" ACCEPT "),e.cancelProgress?a("v-progress-circular",{attrs:{size:18,width:4,indeterminate:""}}):e._e()],1)],1)])],1),a("v-window-item",{attrs:{value:2}},[a("v-card",{staticClass:"modalPurchased divcol"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("aside",{staticClass:"divcol margin2bottom"},[a("label",{staticClass:"acenter gap1"},[e._v("SECRET PHRASE "),a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"btn3",attrs:{icon:"",width:"2em",height:"2em"},on:{click:function(t){return e.copyToClipBoard()}}},"v-btn",r,!1),s),[a("v-icon",{staticStyle:{color:"#FFFFFF !important"},attrs:{size:"1.2em"}},[e._v("mdi-content-copy")])],1)]}}])},[a("span",{staticClass:"font2",staticStyle:{color:"#FFFFFF !important"}},[e._v("Copy to Clipboard")])])],1),a("section",{staticClass:"contPhrase"},e._l(e.dataPhrase,(function(t,s){return a("v-text-field",{key:s,attrs:{solo:"","hide-details":"",disabled:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("span",{staticClass:"h11_em font2"},[e._v(e._s(s+1)+".")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}})})),1)])]),a("aside",{staticClass:"center"},[a("v-btn",{staticClass:"btn",on:{click:function(t){e.modalPurchased=!1,e.getDomainsPublished()}}},[e._v("ACCEPT")])],1)],1)],1)],1)],1)],2)},r=[],n=a("1da1"),o=(a("ac1f"),a("1276"),a("b680"),a("4de4"),a("d3b7"),a("96cf"),a("f749")),i=a("d9eb"),c=i["connect"],l=i["keyStores"],d=i["WalletConnection"],u=i["Contract"],m=i["utils"],p=new l.BrowserLocalStorageKeyStore,h={networkId:"testnet",keyStore:p,nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"},f={name:"walletsSale",i18n:a("3569"),components:{Alerts:o["a"]},data:function(){return{modalPurchased:!1,windowModal:1,changeProgress:!1,cancelProgress:!1,dataSale:[],priceNear:null,modalSale:!1,editedItem:{},originItem:{},dataPhrase:[{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null}],filterExpo:{title:"Classic (FREE)",by:[{post_type:1,crypto:"Classic (FREE)"},{post_type:2,crypto:"Premium (1 NEAR)"}]}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.priceNEAR();case 2:e.getDomainsPublished();case 3:case"end":return t.stop()}}),t)})))()},methods:{copyToClipBoard:function(){var e=this.dataPhrase[0].model+" "+this.dataPhrase[1].model+" "+this.dataPhrase[2].model+" "+this.dataPhrase[3].model+" "+this.dataPhrase[4].model+" "+this.dataPhrase[5].model+" "+this.dataPhrase[6].model+" "+this.dataPhrase[7].model+" "+this.dataPhrase[8].model+" "+this.dataPhrase[9].model+" "+this.dataPhrase[10].model+" "+this.dataPhrase[11].model;navigator.clipboard.writeText(e)},formatPrice:function(e){return m.format.formatNearAmount(e.toLocaleString("fullwide",{useGrouping:!1}))},clickPause:function(e){e.ResProgress=!0,this.editedItem=e,this.editedItem.status=!this.editedItem.active,this.updateDomain(e)},showDialog2:function(e){this.domainItem={},this.domainItem=e},cancelDomain:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cancelProgress=!0,t.next=3,c(h);case 3:a=t.sent,s=new d(a),s.isSignedIn()&&(r={},r.owner_id=s.getAccountId(),r.privateKey=localStorage.getItem("near-api-js:keystore:"+s.getAccountId()+":testnet"),r.id_domain=e.domainItem.id,console.log("api",r),n="api/v1/cancel-domain/",e.axios.post(n,r).then((function(t){if(console.log("response",t),200===t.status){console.log(t.data.seedPhrase);var a=t.data.seedPhrase.split(" ");e.dataPhrase[0].model=a[0],e.dataPhrase[1].model=a[1],e.dataPhrase[2].model=a[2],e.dataPhrase[3].model=a[3],e.dataPhrase[4].model=a[4],e.dataPhrase[5].model=a[5],e.dataPhrase[6].model=a[6],e.dataPhrase[7].model=a[7],e.dataPhrase[8].model=a[8],e.dataPhrase[9].model=a[9],e.dataPhrase[10].model=a[10],e.dataPhrase[11].model=a[11],e.windowModal=2,e.cancelProgress=!1}else e.$refs.alerts.Alerts("cancel",null,"Algo ocurrio"),e.cancelProgress=!1})).catch((function(t){console.log(t),e.$refs.alerts.Alerts("cancel",null,t),e.cancelProgress=!1})));case 6:case"end":return t.stop()}}),t)})))()},updateDomainDeposit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.changeProgress=!0,a="contract.nearbase.testnet",t.next=4,c(h);case 4:if(s=t.sent,r=new d(s),n=new u(r.account(),a,{changeMethods:["update_domain"],sender:r.account()}),2!=e.originItem.post_type&&1!=e.editedItem.post_type){t.next=12;break}return t.next=10,n.update_domain({id:e.editedItem.id,price:m.format.parseNearAmount(e.editedItem.price),is_active:e.editedItem.status,post_type:e.editedItem.post_type}).then((function(t){e.$refs.alerts.Alerts("success",null,"Updated domain"),e.changeProgress=!1,e.getDomainsPublished(),e.closeDialog()})).catch((function(t){console.log(t),e.$refs.alerts.Alerts("cancel",null,t),e.changeProgress=!1}));case 10:t.next=18;break;case 12:if(1!=e.originItem.post_type||2!=e.editedItem.post_type){t.next=17;break}return t.next=15,n.update_domain({id:e.editedItem.id,price:m.format.parseNearAmount(e.editedItem.price),is_active:e.editedItem.status,post_type:e.editedItem.post_type},"300000000000000","1000000000000000000000000").then((function(t){e.$refs.alerts.Alerts("success",null,"Updated domain"),e.changeProgress=!1,e.getDomainsPublished(),e.closeDialog()})).catch((function(t){console.log(t),e.$refs.alerts.Alerts("cancel",null,t),e.changeProgress=!1}));case 15:t.next=18;break;case 17:e.$refs.alerts.Alerts("cancel",null,"Algo ocurrio");case 18:case"end":return t.stop()}}),t)})))()},updateDomain:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.changeProgress=!0,s="contract.nearbase.testnet",a.next=4,c(h);case 4:return r=a.sent,n=new d(r),o=new u(n.account(),s,{changeMethods:["update_domain"],sender:n.account()}),console.log("item",t.editedItem),a.next=10,o.update_domain({id:t.editedItem.id,price:m.format.parseNearAmount(t.editedItem.price),is_active:t.editedItem.status,post_type:t.editedItem.post_type}).then((function(a){t.$refs.alerts.Alerts("success",null,"Updated domain"),t.changeProgress=!1,t.getDomainsPublished(),t.closeDialog(),e&&(e.ResProgress=!1)})).catch((function(a){console.log(a),t.$refs.alerts.Alerts("cancel",null,a),t.changeProgress=!1,e&&(e.ResProgress=!1)}));case 10:case"end":return a.stop()}}),a)})))()},showDialog:function(e){this.editedItem={},this.originItem=e,this.editedItem=Object.assign({},e),this.editedItem.status=this.editedItem.active,this.modalSale=!this.modalSale},priceNEAR:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("https://nearblocks.io/api/near-price").then((function(t){e.priceNear=t.data.usd})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},getDomainsPublished:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataSale=[],s="contract.nearbase.testnet",t.next=4,c(h);case 4:return r=t.sent,o=new d(r),i=new u(o.account(),s,{viewMethods:["get_domains_published"],sender:o.account()}),t.next=9,i.get_domains_published({user_seller:o.getAccountId()}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(s){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<s.length)){t.next=18;break}return n={},n.id=s[r].id,n.domain=s[r].domain,t.next=7,a("0606")("./"+Math.floor(5*Math.random()+1)+".png");case 7:n.img=t.sent,n.price=e.formatPrice(s[r].price),n.profile=s[r].user_seller,n.dollar=(n.price*e.priceNear).toFixed(2),n.active=s[r].is_active,n.ResProgress=!1,n.post_type=s[r].post_type,e.dataSale.push(n);case 15:r++,t.next=1;break;case 18:"filter by recent"===e.$store.state.user.filter&&(e.dataSale=e.dataSale.reverse());case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.editedItem={},this.modalSale=!1}}},v=f,g=(a("61a3"),a("2877")),_=a("6544"),b=a.n(_),P=a("8336"),w=a("b0af"),y=a("99d9"),C=a("169a"),x=a("4bd4"),S=a("132d"),k=a("490a"),I=a("b974"),A=a("2fa4"),F=a("8654"),R=a("71d9"),E=a("2a7f"),D=a("3a2f"),T=a("f665"),$=a("1e6c"),O=Object(g["a"])(v,s,r,!1,null,null,null);t["default"]=O.exports;b()(O,{VBtn:P["a"],VCard:w["a"],VCardActions:y["a"],VDialog:C["a"],VForm:x["a"],VIcon:S["a"],VProgressCircular:k["a"],VSelect:I["a"],VSpacer:A["a"],VTextField:F["a"],VToolbar:R["a"],VToolbarTitle:E["a"],VTooltip:D["a"],VWindow:T["a"],VWindowItem:$["a"]})},"171b":function(e,t,a){},"1f3b":function(e,t){e.exports={messages:{ES:{success:"ÉXITO!",textSuccess:"Tus cambios han sido guardados satisfactoriamente",cancel:"ERROR!",textCancel:"Algo extraño ha ocurrido, intentalo denuevo"},US:{success:"SUCCESS!",textSuccess:"Your changes have been successfully saved",cancel:"ERROR!",textCancel:"Something strange has happened, try again"}}}},3569:function(e,t){e.exports={messages:{ES:{savePhrase:"Este registro genera una frase de 12 palabras que debe guardar en un lugar seguro"},US:{savePhrase:"This record generates a 12-word phrase that you must keep in a safe place"}}}},"61a3":function(e,t,a){"use strict";a("97a3")},"76c9":function(e,t,a){"use strict";a("171b")},"97a3":function(e,t,a){},f749:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{attrs:{id:"alerts"}},e._l(e.dataAlerts,(function(t,s){return a("v-snackbar",{key:s,style:"--color: "+t.color,attrs:{centered:"",top:"",transition:"slide-Y-reverse-transition"},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[a("img",{attrs:{src:t.icon,alt:t.key+" Icon"}}),a("div",{staticClass:"divcol"},[a("h3",{staticClass:"font1"},[e._v(e._s(e.$t(t.title)))]),a("p",{staticClass:"font2 p"},[e._v(e._s(e.$t(t.desc)))])])])})),1)},r=[],n=(a("c740"),{name:"alerts",i18n:a("1f3b"),data:function(){return{alert:!0,dataAlerts:[{key:"success",title:"success",desc:"textSuccess",icon:a("1c27"),color:"#0F43D5",model:!1},{key:"cancel",title:"cancel",desc:"textCancel",icon:a("b463"),color:"#F16211",model:!1}]}},methods:{Alerts:function(e,t,a){var s=this.dataAlerts.findIndex((function(t){return t.key==e}));this.dataAlerts[s].model=!0,t&&(this.dataAlerts[s].title=t),a&&(this.dataAlerts[s].desc=a)}}}),o=n,i=(a("76c9"),a("2877")),c=a("6544"),l=a.n(c),d=a("2db4"),u=Object(i["a"])(o,s,r,!1,null,null,null);t["a"]=u.exports;l()(u,{VSnackbar:d["a"]})}}]);
//# sourceMappingURL=chunk-56552f57.7cbd690f.js.map