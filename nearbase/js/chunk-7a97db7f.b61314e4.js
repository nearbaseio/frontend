(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a97db7f"],{3569:function(e,t){e.exports={messages:{ES:{savePhrase:"Este registro genera una frase de 12 palabras que debe guardar en un lugar seguro"},US:{savePhrase:"This record generates a 12-word phrase that you must keep in a safe place"}}}},"5cf6":function(e,t,a){},b5d5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"purchased divcol gap2",attrs:{id:"wallets"}},e._l(e.dataPurchased,(function(t,r){return a("v-card",{key:r,staticClass:"cartaDown divcol",staticStyle:{display:"flex"},attrs:{color:"var(--clr-card-3)"}},[a("img",{staticClass:"imgTop",attrs:{src:t.img,alt:"reference img"}}),a("v-btn",{staticClass:"h11_em btnOutline",attrs:{disabled:t.retired},on:{click:function(a){return e.showDialogResell(t)}}},[e._v(" RESELL ")]),a("div",{staticClass:"divcol"},[a("h3",{staticClass:"font1 h7_em tcenter"},[e._v(e._s(t.title))]),a("aside",{staticClass:"divcol font2"},[a("span",{staticClass:"h11_em"},[e._v("Current price "),a("br"),e._v("NEAR")]),a("div",{staticClass:"contPrice"},[a("span",{staticClass:"h7_em bold",staticStyle:{"margin-right":"clamp(.5em, 1vw, 1em)"}},[e._v(e._s(t.near))]),a("span",{staticClass:"h11_em"},[e._v("($"+e._s(t.dollar)+")")])])])]),t.retired?a("v-btn",{staticClass:"h11_em btn align",attrs:{disabled:""},on:{click:function(a){e.showDialog(t),e.modalPurchased=!0,e.windowModal=1}}},[e._v(" WITHDRAWN ")]):a("v-btn",{staticClass:"h11_em btn align",on:{click:function(a){e.showDialog(t),e.modalPurchased=!0,e.windowModal=1}}},[e._v(" WITHDRAW WALLET ")]),a("v-dialog",{attrs:{"max-width":1==e.windowModal?450:900,scrollable:""},model:{value:e.modalPurchased,callback:function(t){e.modalPurchased=t},expression:"modalPurchased"}},[a("v-window",{attrs:{vertical:""},model:{value:e.windowModal,callback:function(t){e.windowModal=t},expression:"windowModal"}},[a("v-window-item",{attrs:{value:1}},[a("v-card",{staticClass:"modalPurchased divcol"},[a("h3",{staticClass:"h7_em tcenter"},[e._v("Do you wish to continue")]),a("p",{staticClass:"h10_em font2 tspace"},[e._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint atque voluptatem consectetur animi accusantium adipisci repudiandae! At reiciendis, voluptate, repellat ducimus deleniti repudiandae esse dicta odio adipisci, dolor tempora quam?")]),a("aside",{staticClass:"center gap2"},[a("v-btn",{staticClass:"btn2",attrs:{disabled:e.withdrawProgress},on:{click:function(t){e.modalPurchased=!1}}},[e._v("CANCEL")]),a("v-btn",{staticClass:"btn",attrs:{disabled:e.withdrawProgress},on:{click:function(t){return e.withdrawDomain()}}},[e._v(" ACCEPT "),e.withdrawProgress?a("v-progress-circular",{attrs:{size:18,width:4,indeterminate:""}}):e._e()],1)],1)])],1),a("v-window-item",{attrs:{value:2}},[a("v-card",{staticClass:"modalPurchased divcol"},[a("v-form",{ref:"form",refInFor:!0,attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("aside",{staticClass:"divcol margin2bottom"},[a("label",{staticClass:"acenter gap1"},[e._v("SECRET PHRASE "),a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"btn3",attrs:{icon:"",width:"2em",height:"2em"},on:{click:function(t){return e.copyToClipBoard()}}},"v-btn",s,!1),r),[a("v-icon",{staticStyle:{color:"#FFFFFF !important"},attrs:{size:"1.2em"}},[e._v("mdi-content-copy")])],1)]}}],null,!0)},[a("span",{staticClass:"font2",staticStyle:{color:"#FFFFFF !important"}},[e._v("Copy to Clipboard")])])],1),a("section",{staticClass:"contPhrase"},e._l(e.dataPhrase,(function(t,r){return a("v-text-field",{key:r,attrs:{solo:"","hide-details":"",rules:e.rules.date,disabled:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("span",{staticClass:"h11_em font2"},[e._v(e._s(r+1)+".")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}})})),1)])]),a("aside",{staticClass:"center"},[a("v-btn",{staticClass:"btn",on:{click:function(t){e.getDomainsPurchased(),e.modalPurchased=!1}}},[e._v("ACCEPT")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400",scrollable:"",persistent:""},model:{value:e.modalSale,callback:function(t){e.modalSale=t},expression:"modalSale"}},[a("v-card",{staticClass:"modalSale divcol"},[a("v-toolbar",{staticStyle:{color:"#FFFFFF"},attrs:{color:"#B322D8"}},[a("v-btn",{attrs:{icon:"",dark:"",disabled:e.changeProgress},on:{click:e.closeDialog}},[a("v-icon",{staticStyle:{color:"#FFFFFF !important"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{"padding-left":"0 !important",color:"#FFFFFF !important"}},[a("span",{staticClass:"font3 h10_em not_clr",staticStyle:{color:"#FFFFFF"}},[e._v("RESELL: "+e._s(e.editedItem.domain))])])],1),a("v-card",[a("div",{staticClass:"divcol"},[a("label",{staticClass:"h9_em",attrs:{for:"price"}},[e._v("PRICE")]),a("v-text-field",{attrs:{id:"price","hide-spin-buttons":"",type:"number"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("div",{staticClass:"divcol"},[a("label",{staticClass:"h9_em",attrs:{for:"crypto"}},[e._v("POST TYPE")]),a("v-select",{attrs:{items:e.filterExpo.by,"item-text":"post_type","item-value":"post_type",id:"post_type",solo:"","menu-props":{bottom:!0,offsetY:!0}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-btn",{staticClass:"buttons-icon",attrs:{icon:""}},[a("v-icon",{attrs:{"x-small":""}},[e._v("mdi-arrow-down")])],1)]},proxy:!0},{key:"selection",fn:function(t){return[a("span",{staticClass:"cryptoSelect"},[e._v(" "+e._s(t.item.crypto)+" ")])]}},{key:"item",fn:function(t){return[a("span",{staticClass:"cryptoSelect"},[e._v(" "+e._s(t.item.crypto)+" ")])]}}],null,!0),model:{value:e.editedItem.post_type,callback:function(t){e.$set(e.editedItem,"post_type",t)},expression:"editedItem.post_type"}})],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btn3 h12_em",attrs:{disabled:e.changeProgress},on:{click:function(t){return e.resellDomain()}}},[e._v(" PUBLISH WALLET "),e.changeProgress?a("v-progress-circular",{attrs:{size:18,width:4,indeterminate:""}}):e._e()],1)],1)],1)],1)],1)})),1)},s=[],n=a("1da1"),o=(a("96cf"),a("ac1f"),a("00b4"),a("1276"),a("b680"),a("4de4"),a("d3b7"),a("d9eb")),i=o["connect"],l=o["keyStores"],c=o["WalletConnection"],d=o["Contract"],u=o["utils"],m=new l.BrowserLocalStorageKeyStore,h={networkId:"testnet",keyStore:m,nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"},p={name:"walletsPurchased",i18n:a("3569"),data:function(){return{editedItem:{},changeProgress:!1,modalSale:!1,num:0,snackbar:{},domainItem:{},priceNear:null,dataPurchased:[],withdrawProgress:!1,modalPurchased:!1,windowModal:1,valid:!0,dataPhrase:[{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null},{model:null}],filterExpo:{title:"Classic (FREE)",by:[{post_type:1,crypto:"Classic (FREE)"},{post_type:2,crypto:"Premium (1 NEAR)"}]},rules:{date:[function(e){return!!e||"El valor es requerido"}],long:[function(e){return(e||"").length<=255||"255 caracteres o menos"}],email:[function(e){return/.+@.+\..+/.test(e)||"E-mail tiene que ser valido"}]}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.priceNEAR();case 2:e.getDomainsPurchased();case 3:case"end":return t.stop()}}),t)})))()},methods:{copyToClipBoard:function(){var e=this.dataPhrase[0].model+" "+this.dataPhrase[1].model+" "+this.dataPhrase[2].model+" "+this.dataPhrase[3].model+" "+this.dataPhrase[4].model+" "+this.dataPhrase[5].model+" "+this.dataPhrase[6].model+" "+this.dataPhrase[7].model+" "+this.dataPhrase[8].model+" "+this.dataPhrase[9].model+" "+this.dataPhrase[10].model+" "+this.dataPhrase[11].model;navigator.clipboard.writeText(e)},formatPrice:function(e){return u.format.formatNearAmount(e.toLocaleString("fullwide",{useGrouping:!1}))},showDialogResell:function(e){this.editedItem={},this.editedItem={id:e.id,domain:e.title},this.modalSale=!this.modalSale},priceNEAR:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("https://nearblocks.io/api/near-price").then((function(t){e.priceNear=t.data.usd})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},showDialog:function(e){console.log(e),this.domainItem={},this.domainItem=e},resellDomain:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.changeProgress=!0,console.log(e.editedItem),!(e.editedItem.post_type>0&&e.editedItem.post_type<3&&e.editedItem.price>0)){t.next=18;break}return a="contract.nearbase.testnet",t.next=6,i(h);case 6:if(r=t.sent,s=new c(r),n=new d(s.account(),a,{changeMethods:["resell_domain"],sender:s.account()}),1!=e.editedItem.post_type){t.next=14;break}return t.next=12,n.resell_domain({id:e.editedItem.id,price:u.format.parseNearAmount(e.editedItem.price),post_type:e.editedItem.post_type}).then((function(t){e.changeProgress=!1,e.getDomainsPurchased(),e.closeDialog()})).catch((function(t){console.log(t),e.changeProgress=!1}));case 12:t.next=16;break;case 14:return t.next=16,n.resell_domain({id:e.editedItem.id,price:u.format.parseNearAmount(e.editedItem.price),post_type:e.editedItem.post_type},"300000000000000","1000000000000000000000000").then((function(t){e.changeProgress=!1,e.getDomainsPurchased(),e.closeDialog()})).catch((function(t){console.log(t),e.changeProgress=!1}));case 16:t.next=20;break;case 18:e.changeProgress=!1,e.$refs.alerts.Alerts("cancel",null,error);case 20:case"end":return t.stop()}}),t)})))()},withdrawDomain:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.withdrawProgress=!0,t.next=3,i(h);case 3:a=t.sent,r=new c(a),r.isSignedIn()&&(s={},s.owner_id=r.getAccountId(),s.privateKey=localStorage.getItem("near-api-js:keystore:"+r.getAccountId()+":testnet"),s.id_domain=e.domainItem.id,n="api/v1/withdraw-domain/",e.axios.post(n,s).then((function(t){if(console.log(t),200===t.status){console.log(t.data.seedPhrase);var a=t.data.seedPhrase.split(" ");e.dataPhrase[0].model=a[0],e.dataPhrase[1].model=a[1],e.dataPhrase[2].model=a[2],e.dataPhrase[3].model=a[3],e.dataPhrase[4].model=a[4],e.dataPhrase[5].model=a[5],e.dataPhrase[6].model=a[6],e.dataPhrase[7].model=a[7],e.dataPhrase[8].model=a[8],e.dataPhrase[9].model=a[9],e.dataPhrase[10].model=a[10],e.dataPhrase[11].model=a[11],e.windowModal=2,e.withdrawProgress=!1}else 204===t.status&&(e.$refs.alerts.Alerts("cancel",null,"Algo ocurrio"),e.withdrawProgress=!1)})).catch((function(t){e.$refs.alerts.Alerts("cancel",null,t),e.withdrawProgress=!1})));case 6:case"end":return t.stop()}}),t)})))()},getDomainsPurchased:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataPurchased=[],r="contract.nearbase.testnet",t.next=4,i(h);case 4:return s=t.sent,o=new c(s),l=new d(o.account(),r,{viewMethods:["get_domains_purchased"],sender:o.account()}),t.next=9,l.get_domains_purchased({owner_id:o.getAccountId()}).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=0;case 1:if(!(s<r.length)){t.next=15;break}return n={},n.id=r[s].id,n.title=r[s].domain,t.next=7,a("0606")("./"+Math.floor(5*Math.random()+1)+".png");case 7:n.img=t.sent,n.near=e.formatPrice(r[s].purchase_price),n.dollar=(n.near*e.priceNear).toFixed(2),n.retired=r[s].retired,e.dataPurchased.push(n);case 12:s++,t.next=1;break;case 15:"filter by recent"===e.$store.state.user.filter&&(console.log("Hola"),e.dataPurchased=e.dataPurchased.reverse());case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.editedItem={},this.modalSale=!1}}},v=p,f=(a("b6d6"),a("2877")),g=a("6544"),w=a.n(g),b=a("8336"),_=a("b0af"),P=a("99d9"),C=a("169a"),y=a("4bd4"),x=a("132d"),k=a("490a"),F=a("b974"),I=a("2fa4"),S=a("8654"),E=a("71d9"),R=a("2a7f"),A=a("3a2f"),D=a("f665"),T=a("1e6c"),V=Object(f["a"])(v,r,s,!1,null,null,null);t["default"]=V.exports;w()(V,{VBtn:b["a"],VCard:_["a"],VCardActions:P["a"],VDialog:C["a"],VForm:y["a"],VIcon:x["a"],VProgressCircular:k["a"],VSelect:F["a"],VSpacer:I["a"],VTextField:S["a"],VToolbar:E["a"],VToolbarTitle:R["a"],VTooltip:A["a"],VWindow:D["a"],VWindowItem:T["a"]})},b6d6:function(e,t,a){"use strict";a("5cf6")}}]);
//# sourceMappingURL=chunk-7a97db7f.b61314e4.js.map